2025-10-20 14:41:33.228 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-10-20 14:41:33.326 +03:00 [DBG] Hosting starting
2025-10-20 14:41:33.339 +03:00 [DBG] Middleware loaded
2025-10-20 14:41:33.342 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16503 B).
2025-10-20 14:41:33.345 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-10-20 14:41:33.451 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-10-20 14:41:33.543 +03:00 [INF] Now listening on: https://localhost:7025
2025-10-20 14:41:33.545 +03:00 [INF] Now listening on: http://localhost:5105
2025-10-20 14:41:33.546 +03:00 [DBG] Loaded hosting startup assembly CitiesApi
2025-10-20 14:41:33.547 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-10-20 14:41:33.548 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-10-20 14:41:33.549 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-10-20 14:41:33.609 +03:00 [DBG] Connection id "0HNGFPMF8UG1A" accepted.
2025-10-20 14:41:33.611 +03:00 [DBG] Connection id "0HNGFPMF8UG1A" started.
2025-10-20 14:41:33.615 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-20 14:41:33.622 +03:00 [DBG] Connection id "0HNGFPMF8UG1B" accepted.
2025-10-20 14:41:33.622 +03:00 [INF] Hosting environment: Development
2025-10-20 14:41:33.625 +03:00 [DBG] Connection id "0HNGFPMF8UG1B" started.
2025-10-20 14:41:33.626 +03:00 [INF] Content root path: D:\Projects\CitiesApi\CitiesApi
2025-10-20 14:41:33.630 +03:00 [DBG] Hosting started
2025-10-20 14:41:33.702 +03:00 [DBG] Connection id "0HNGFPMF8UG1A" received FIN.
2025-10-20 14:41:33.702 +03:00 [DBG] Connection id "0HNGFPMF8UG1B" received FIN.
2025-10-20 14:41:33.762 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-20 14:41:33.767 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-20 14:41:33.890 +03:00 [DBG] Connection id "0HNGFPMF8UG1B" stopped.
2025-10-20 14:41:33.890 +03:00 [DBG] Connection id "0HNGFPMF8UG1A" stopped.
2025-10-20 14:41:33.896 +03:00 [DBG] Connection id "0HNGFPMF8UG1A" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-20 14:41:33.896 +03:00 [DBG] Connection id "0HNGFPMF8UG1B" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-20 14:41:37.031 +03:00 [DBG] Connection id "0HNGFPMF8UG1C" accepted.
2025-10-20 14:41:37.035 +03:00 [DBG] Connection id "0HNGFPMF8UG1C" started.
2025-10-20 14:41:37.177 +03:00 [DBG] Connection 0HNGFPMF8UG1C established using the following protocol: "Tls13"
2025-10-20 14:41:37.277 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/swagger/index.html - null null
2025-10-20 14:41:37.490 +03:00 [WRN] Unable to contact VS to retrieve Browser Link script tag.
2025-10-20 14:41:37.509 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-10-20 14:41:37.972 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-10-20 14:41:38.099 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-10-20 14:41:38.108 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/swagger/index.html - 200 null text/html;charset=utf-8 840.2756ms
2025-10-20 14:41:38.204 +03:00 [DBG] Connection id "0HNGFPMF8UG1C" received FIN.
2025-10-20 14:41:38.219 +03:00 [DBG] The connection queue processing loop for 0HNGFPMF8UG1C completed.
2025-10-20 14:41:38.222 +03:00 [DBG] Connection id "0HNGFPMF8UG1C" is closed. The last processed stream ID was 1.
2025-10-20 14:41:38.230 +03:00 [DBG] Connection id "0HNGFPMF8UG1C" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-20 14:41:38.262 +03:00 [DBG] Connection id "0HNGFPMF8UG1C" stopped.
2025-10-20 14:41:38.433 +03:00 [DBG] Connection id "0HNGFPMF8UG1D" accepted.
2025-10-20 14:41:38.439 +03:00 [DBG] Connection id "0HNGFPMF8UG1D" started.
2025-10-20 14:41:38.450 +03:00 [DBG] Connection 0HNGFPMF8UG1D established using the following protocol: "Tls13"
2025-10-20 14:41:38.462 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/_framework/aspnetcore-browser-refresh.js - null null
2025-10-20 14:41:38.485 +03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-10-20 14:41:38.491 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/_framework/aspnetcore-browser-refresh.js - 200 16503 application/javascript; charset=utf-8 28.5391ms
2025-10-20 14:41:39.550 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/swagger/v1/swagger.json - null null
2025-10-20 14:41:39.581 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 31.1517ms
2025-10-20 14:41:56.462 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/api/cities/{cityid}/pointsofinterest/{PointOfInterestId} - null null
2025-10-20 14:41:56.478 +03:00 [DBG] The request path  does not match the path filter
2025-10-20 14:41:56.557 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/{cityid}/pointsofinterest/{PointOfInterestId}'
2025-10-20 14:41:56.563 +03:00 [DBG] Endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointOfInterest (CitiesApi)' with route pattern 'api/cities/{cityid}/pointsofinterest/{PointOfInterestId}' is valid for the request path '/api/cities/{cityid}/pointsofinterest/{PointOfInterestId}'
2025-10-20 14:41:56.566 +03:00 [DBG] Request matched endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointOfInterest (CitiesApi)'
2025-10-20 14:41:56.573 +03:00 [INF] Executing endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointOfInterest (CitiesApi)'
2025-10-20 14:41:56.621 +03:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CitiesApi.Models.PointsOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi).
2025-10-20 14:41:56.626 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-20 14:41:56.628 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-20 14:41:56.630 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-10-20 14:41:56.634 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-20 14:41:56.636 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-20 14:41:56.640 +03:00 [DBG] Executing controller factory for controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi)
2025-10-20 14:41:57.234 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-10-20 14:41:57.537 +03:00 [DBG] Executed controller factory for controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi)
2025-10-20 14:41:57.553 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2025-10-20 14:41:57.565 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2025-10-20 14:41:57.602 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-10-20 14:41:57.606 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-10-20 14:41:57.609 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2025-10-20 14:41:57.615 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2025-10-20 14:41:57.622 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2025-10-20 14:41:57.627 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2025-10-20 14:41:57.631 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2025-10-20 14:41:57.634 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2025-10-20 14:41:57.636 +03:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2025-10-20 14:41:57.638 +03:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2025-10-20 14:41:57.642 +03:00 [DBG] The request has model state errors, returning an error response.
2025-10-20 14:41:57.646 +03:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2025-10-20 14:41:57.650 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-10-20 14:41:57.660 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2025-10-20 14:41:57.668 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-10-20 14:41:57.674 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-10-20 14:41:57.896 +03:00 [INF] Executed action CitiesApi.Controllers.PointsOfInterestController.GetPointOfInterest (CitiesApi) in 1252.9569ms
2025-10-20 14:41:57.898 +03:00 [INF] Executed endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointOfInterest (CitiesApi)'
2025-10-20 14:41:57.901 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/api/cities/{cityid}/pointsofinterest/{PointOfInterestId} - 400 321 application/problem+json; charset=utf-8 1439.4244ms
2025-10-20 14:42:18.792 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/api/cities/2/pointsofinterest/1 - null null
2025-10-20 14:42:18.824 +03:00 [WRN] Unable to contact VS to retrieve Browser Link script tag.
2025-10-20 14:42:18.825 +03:00 [DBG] The request path  does not match the path filter
2025-10-20 14:42:18.828 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2/pointsofinterest/1'
2025-10-20 14:42:18.830 +03:00 [DBG] Endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointOfInterest (CitiesApi)' with route pattern 'api/cities/{cityid}/pointsofinterest/{PointOfInterestId}' is valid for the request path '/api/cities/2/pointsofinterest/1'
2025-10-20 14:42:18.832 +03:00 [DBG] Request matched endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointOfInterest (CitiesApi)'
2025-10-20 14:42:18.833 +03:00 [INF] Executing endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointOfInterest (CitiesApi)'
2025-10-20 14:42:18.834 +03:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CitiesApi.Models.PointsOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi).
2025-10-20 14:42:18.837 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-20 14:42:18.839 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-20 14:42:18.841 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-10-20 14:42:18.842 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-20 14:42:18.846 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-20 14:42:18.848 +03:00 [DBG] Executing controller factory for controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi)
2025-10-20 14:42:18.862 +03:00 [DBG] Executed controller factory for controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi)
2025-10-20 14:42:18.875 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2025-10-20 14:42:18.876 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2025-10-20 14:42:18.878 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-10-20 14:42:18.880 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-10-20 14:42:18.881 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2025-10-20 14:42:18.883 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2025-10-20 14:42:18.887 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2025-10-20 14:42:18.888 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2025-10-20 14:42:18.890 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2025-10-20 14:42:18.894 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2025-10-20 14:42:18.895 +03:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2025-10-20 14:42:18.897 +03:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2025-10-20 14:42:20.047 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-10-20 14:42:20.460 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.CityId == __cityId_0)'
2025-10-20 14:42:20.746 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.CityId == @__cityId_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CitiesApi.Data.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-10-20 14:42:20.817 +03:00 [DBG] Creating DbConnection.
2025-10-20 14:42:20.867 +03:00 [DBG] Created DbConnection. (50ms).
2025-10-20 14:42:20.874 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 14:42:22.409 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 14:42:22.423 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 14:42:22.437 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (14ms).
2025-10-20 14:42:22.464 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (41ms).
2025-10-20 14:42:22.489 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[CityId] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-20 14:42:22.973 +03:00 [INF] Executed DbCommand (490ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[CityId] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-20 14:42:23.000 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 14:42:23.011 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 28ms reading results.
2025-10-20 14:42:23.021 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 14:42:23.036 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (15ms).
2025-10-20 14:42:23.051 +03:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .FirstOrDefault(P => P.PointOfInterestId == __pointOfInterestId_0 && P.CityId == __cityId_1)'
2025-10-20 14:42:23.132 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.PointOfInterestId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(500), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.PointOfInterestId, p.CityId, p.Description, p.Name
            FROM PointOfInterests AS p
            WHERE (p.PointOfInterestId == @__pointOfInterestId_0) && (p.CityId == @__cityId_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CitiesApi.Data.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-10-20 14:42:23.149 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 14:42:23.152 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 14:42:23.159 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 14:42:23.160 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 14:42:23.163 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-10-20 14:42:23.165 +03:00 [DBG] Executing DbCommand [Parameters=[@__pointOfInterestId_0='?' (DbType = Int32), @__cityId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PointOfInterestId], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointOfInterests] AS [p]
WHERE [p].[PointOfInterestId] = @__pointOfInterestId_0 AND [p].[CityId] = @__cityId_1
2025-10-20 14:42:23.228 +03:00 [INF] Executed DbCommand (63ms) [Parameters=[@__pointOfInterestId_0='?' (DbType = Int32), @__cityId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PointOfInterestId], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointOfInterests] AS [p]
WHERE [p].[PointOfInterestId] = @__pointOfInterestId_0 AND [p].[CityId] = @__cityId_1
2025-10-20 14:42:23.234 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 14:42:23.235 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 4ms reading results.
2025-10-20 14:42:23.236 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 14:42:23.239 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (2ms).
2025-10-20 14:42:23.250 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-10-20 14:42:23.257 +03:00 [DBG] No information found on request to perform content negotiation.
2025-10-20 14:42:23.258 +03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-10-20 14:42:23.261 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-10-20 14:42:23.262 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-10-20 14:42:23.268 +03:00 [INF] Executed action CitiesApi.Controllers.PointsOfInterestController.GetPointOfInterest (CitiesApi) in 4420.8973ms
2025-10-20 14:42:23.272 +03:00 [INF] Executed endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointOfInterest (CitiesApi)'
2025-10-20 14:42:23.279 +03:00 [DBG] 'AppDbContext' disposed.
2025-10-20 14:42:23.294 +03:00 [DBG] Disposing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 14:42:23.302 +03:00 [DBG] Disposed connection to database '' on server '' (8ms).
2025-10-20 14:42:23.304 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/api/cities/2/pointsofinterest/1 - 404 162 application/problem+json; charset=utf-8 4514.4476ms
2025-10-20 14:42:23.485 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/favicon.ico - null null
2025-10-20 14:42:23.490 +03:00 [DBG] The request path  does not match the path filter
2025-10-20 14:42:23.492 +03:00 [DBG] No candidates found for the request path '/favicon.ico'
2025-10-20 14:42:23.497 +03:00 [DBG] Request did not match any endpoints
2025-10-20 14:42:23.498 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/favicon.ico - 404 0 null 13.6103ms
2025-10-20 14:42:23.505 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7025/favicon.ico, Response status code: 404
2025-10-20 14:42:58.375 +03:00 [DBG] Connection id "0HNGFPMF8UG1D" received FIN.
2025-10-20 14:42:58.383 +03:00 [DBG] Connection id "0HNGFPMF8UG1D" is closed. The last processed stream ID was 9.
2025-10-20 14:42:58.384 +03:00 [DBG] The connection queue processing loop for 0HNGFPMF8UG1D completed.
2025-10-20 14:42:58.408 +03:00 [DBG] Connection id "0HNGFPMF8UG1D" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-20 14:42:58.428 +03:00 [DBG] Connection id "0HNGFPMF8UG1D" stopped.
2025-10-20 14:43:09.509 +03:00 [DBG] Connection id "0HNGFPMF8UG1E" accepted.
2025-10-20 14:43:09.512 +03:00 [DBG] Connection id "0HNGFPMF8UG1E" started.
2025-10-20 14:43:09.530 +03:00 [DBG] Connection 0HNGFPMF8UG1E established using the following protocol: "Tls13"
2025-10-20 14:43:09.568 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/api/cities/1/pointsofinterest/1 - null null
2025-10-20 14:43:09.587 +03:00 [WRN] Unable to contact VS to retrieve Browser Link script tag.
2025-10-20 14:43:09.589 +03:00 [DBG] The request path  does not match the path filter
2025-10-20 14:43:09.591 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2025-10-20 14:43:09.596 +03:00 [DBG] Endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointOfInterest (CitiesApi)' with route pattern 'api/cities/{cityid}/pointsofinterest/{PointOfInterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2025-10-20 14:43:09.598 +03:00 [DBG] Request matched endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointOfInterest (CitiesApi)'
2025-10-20 14:43:09.603 +03:00 [INF] Executing endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointOfInterest (CitiesApi)'
2025-10-20 14:43:09.617 +03:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CitiesApi.Models.PointsOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi).
2025-10-20 14:43:09.619 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-20 14:43:09.620 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-20 14:43:09.622 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-10-20 14:43:09.624 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-20 14:43:09.626 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-20 14:43:09.628 +03:00 [DBG] Executing controller factory for controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi)
2025-10-20 14:43:09.633 +03:00 [DBG] Executed controller factory for controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi)
2025-10-20 14:43:09.637 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2025-10-20 14:43:09.638 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2025-10-20 14:43:09.639 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-10-20 14:43:09.640 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-10-20 14:43:09.646 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2025-10-20 14:43:09.647 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2025-10-20 14:43:09.648 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2025-10-20 14:43:09.652 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2025-10-20 14:43:09.653 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2025-10-20 14:43:09.654 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2025-10-20 14:43:09.655 +03:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2025-10-20 14:43:09.658 +03:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2025-10-20 14:43:09.683 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-10-20 14:43:09.694 +03:00 [DBG] Creating DbConnection.
2025-10-20 14:43:09.696 +03:00 [DBG] Created DbConnection. (1ms).
2025-10-20 14:43:09.698 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 14:43:09.700 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 14:43:09.701 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 14:43:09.702 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-20 14:43:09.703 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-10-20 14:43:09.705 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[CityId] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-20 14:43:09.723 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[CityId] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-20 14:43:09.728 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 14:43:09.729 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 1ms reading results.
2025-10-20 14:43:09.730 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 14:43:09.733 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (2ms).
2025-10-20 14:43:09.735 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 14:43:09.736 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 14:43:09.742 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 14:43:09.743 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 14:43:09.744 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-10-20 14:43:09.745 +03:00 [DBG] Executing DbCommand [Parameters=[@__pointOfInterestId_0='?' (DbType = Int32), @__cityId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PointOfInterestId], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointOfInterests] AS [p]
WHERE [p].[PointOfInterestId] = @__pointOfInterestId_0 AND [p].[CityId] = @__cityId_1
2025-10-20 14:43:09.756 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__pointOfInterestId_0='?' (DbType = Int32), @__cityId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PointOfInterestId], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointOfInterests] AS [p]
WHERE [p].[PointOfInterestId] = @__pointOfInterestId_0 AND [p].[CityId] = @__cityId_1
2025-10-20 14:43:09.788 +03:00 [DBG] Context 'AppDbContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 14:43:09.827 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 14:43:09.833 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 74ms reading results.
2025-10-20 14:43:09.835 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 14:43:09.839 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (4ms).
2025-10-20 14:43:09.857 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-10-20 14:43:09.861 +03:00 [DBG] No information found on request to perform content negotiation.
2025-10-20 14:43:09.862 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-10-20 14:43:09.862 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-10-20 14:43:09.864 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-10-20 14:43:09.866 +03:00 [INF] Executing OkObjectResult, writing value of type 'CitiesApi.Models.PointsOfInterestDto'.
2025-10-20 14:43:09.870 +03:00 [INF] Executed action CitiesApi.Controllers.PointsOfInterestController.GetPointOfInterest (CitiesApi) in 241.574ms
2025-10-20 14:43:09.872 +03:00 [INF] Executed endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointOfInterest (CitiesApi)'
2025-10-20 14:43:09.873 +03:00 [DBG] 'AppDbContext' disposed.
2025-10-20 14:43:09.874 +03:00 [DBG] Disposing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 14:43:09.876 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-20 14:43:09.877 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/api/cities/1/pointsofinterest/1 - 200 106 application/json; charset=utf-8 309.4774ms
2025-10-20 14:43:14.930 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/api/cities/1/pointsofinterest/2 - null null
2025-10-20 14:43:14.945 +03:00 [WRN] Unable to contact VS to retrieve Browser Link script tag.
2025-10-20 14:43:14.946 +03:00 [DBG] The request path  does not match the path filter
2025-10-20 14:43:14.947 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/2'
2025-10-20 14:43:14.949 +03:00 [DBG] Endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointOfInterest (CitiesApi)' with route pattern 'api/cities/{cityid}/pointsofinterest/{PointOfInterestId}' is valid for the request path '/api/cities/1/pointsofinterest/2'
2025-10-20 14:43:14.951 +03:00 [DBG] Request matched endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointOfInterest (CitiesApi)'
2025-10-20 14:43:14.952 +03:00 [INF] Executing endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointOfInterest (CitiesApi)'
2025-10-20 14:43:14.953 +03:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CitiesApi.Models.PointsOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi).
2025-10-20 14:43:14.956 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-20 14:43:14.958 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-20 14:43:14.959 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-10-20 14:43:14.963 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-20 14:43:14.966 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-20 14:43:14.968 +03:00 [DBG] Executing controller factory for controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi)
2025-10-20 14:43:14.970 +03:00 [DBG] Executed controller factory for controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi)
2025-10-20 14:43:14.972 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2025-10-20 14:43:14.973 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2025-10-20 14:43:14.974 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-10-20 14:43:14.978 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-10-20 14:43:14.980 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2025-10-20 14:43:14.982 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2025-10-20 14:43:14.984 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2025-10-20 14:43:14.986 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2025-10-20 14:43:14.987 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2025-10-20 14:43:14.988 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2025-10-20 14:43:14.992 +03:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2025-10-20 14:43:14.993 +03:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2025-10-20 14:43:15.116 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-10-20 14:43:15.121 +03:00 [DBG] Creating DbConnection.
2025-10-20 14:43:15.123 +03:00 [DBG] Created DbConnection. (1ms).
2025-10-20 14:43:15.124 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 14:43:15.125 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 14:43:15.126 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 14:43:15.127 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 14:43:15.129 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-10-20 14:43:15.130 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[CityId] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-20 14:43:15.136 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[CityId] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-20 14:43:15.138 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 14:43:15.139 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 1ms reading results.
2025-10-20 14:43:15.140 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 14:43:15.142 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (1ms).
2025-10-20 14:43:15.144 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 14:43:15.146 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 14:43:15.148 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 14:43:15.149 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-20 14:43:15.150 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-10-20 14:43:15.151 +03:00 [DBG] Executing DbCommand [Parameters=[@__pointOfInterestId_0='?' (DbType = Int32), @__cityId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PointOfInterestId], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointOfInterests] AS [p]
WHERE [p].[PointOfInterestId] = @__pointOfInterestId_0 AND [p].[CityId] = @__cityId_1
2025-10-20 14:43:15.154 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__pointOfInterestId_0='?' (DbType = Int32), @__cityId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PointOfInterestId], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointOfInterests] AS [p]
WHERE [p].[PointOfInterestId] = @__pointOfInterestId_0 AND [p].[CityId] = @__cityId_1
2025-10-20 14:43:15.159 +03:00 [DBG] Context 'AppDbContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 14:43:15.164 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 14:43:15.166 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 7ms reading results.
2025-10-20 14:43:15.168 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 14:43:15.169 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (1ms).
2025-10-20 14:43:15.172 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-10-20 14:43:15.175 +03:00 [DBG] No information found on request to perform content negotiation.
2025-10-20 14:43:15.178 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-10-20 14:43:15.179 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-10-20 14:43:15.179 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-10-20 14:43:15.180 +03:00 [INF] Executing OkObjectResult, writing value of type 'CitiesApi.Models.PointsOfInterestDto'.
2025-10-20 14:43:15.182 +03:00 [INF] Executed action CitiesApi.Controllers.PointsOfInterestController.GetPointOfInterest (CitiesApi) in 214.0311ms
2025-10-20 14:43:15.185 +03:00 [INF] Executed endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointOfInterest (CitiesApi)'
2025-10-20 14:43:15.186 +03:00 [DBG] 'AppDbContext' disposed.
2025-10-20 14:43:15.187 +03:00 [DBG] Disposing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 14:43:15.188 +03:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-10-20 14:43:15.192 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/api/cities/1/pointsofinterest/2 - 200 113 application/json; charset=utf-8 263.0198ms
2025-10-20 14:43:20.463 +03:00 [DBG] Connection id "0HNGFPMF8UG1F" accepted.
2025-10-20 14:43:20.464 +03:00 [DBG] Connection id "0HNGFPMF8UG1F" started.
2025-10-20 14:43:20.470 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Cannot determine the frame size or a corrupted frame was received.
   at System.Net.Security.SslStream.GetFrameSize(ReadOnlySpan`1 buffer)
   at System.Net.Security.SslStream.EnsureFullTlsFrameAsync[TIOAdapter](CancellationToken cancellationToken, Int32 estimatedSize)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-20 14:43:20.475 +03:00 [DBG] Connection id "0HNGFPMF8UG1F" stopped.
2025-10-20 14:43:20.476 +03:00 [DBG] Connection id "0HNGFPMF8UG1F" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-20 14:43:21.569 +03:00 [DBG] Connection id "0HNGFPMF8UG1G" accepted.
2025-10-20 14:43:21.576 +03:00 [DBG] Connection id "0HNGFPMF8UG1G" started.
2025-10-20 14:43:21.582 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Cannot determine the frame size or a corrupted frame was received.
   at System.Net.Security.SslStream.GetFrameSize(ReadOnlySpan`1 buffer)
   at System.Net.Security.SslStream.EnsureFullTlsFrameAsync[TIOAdapter](CancellationToken cancellationToken, Int32 estimatedSize)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-20 14:43:21.589 +03:00 [DBG] Connection id "0HNGFPMF8UG1G" stopped.
2025-10-20 14:43:21.594 +03:00 [DBG] Connection id "0HNGFPMF8UG1G" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-20 14:43:23.610 +03:00 [DBG] Connection id "0HNGFPMF8UG1H" accepted.
2025-10-20 14:43:23.614 +03:00 [DBG] Connection id "0HNGFPMF8UG1H" started.
2025-10-20 14:43:23.622 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Cannot determine the frame size or a corrupted frame was received.
   at System.Net.Security.SslStream.GetFrameSize(ReadOnlySpan`1 buffer)
   at System.Net.Security.SslStream.EnsureFullTlsFrameAsync[TIOAdapter](CancellationToken cancellationToken, Int32 estimatedSize)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-20 14:43:23.629 +03:00 [DBG] Connection id "0HNGFPMF8UG1H" stopped.
2025-10-20 14:43:23.631 +03:00 [DBG] Connection id "0HNGFPMF8UG1H" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-20 14:43:28.427 +03:00 [DBG] Connection id "0HNGFPMF8UG1E" received FIN.
2025-10-20 14:43:28.461 +03:00 [DBG] Connection id "0HNGFPMF8UG1E" is closed. The last processed stream ID was 3.
2025-10-20 14:43:28.461 +03:00 [DBG] The connection queue processing loop for 0HNGFPMF8UG1E completed.
2025-10-20 14:43:28.464 +03:00 [DBG] Connection id "0HNGFPMF8UG1E" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-20 14:43:28.470 +03:00 [DBG] Connection id "0HNGFPMF8UG1I" accepted.
2025-10-20 14:43:28.501 +03:00 [DBG] Connection id "0HNGFPMF8UG1I" started.
2025-10-20 14:43:28.502 +03:00 [DBG] Connection id "0HNGFPMF8UG1E" stopped.
2025-10-20 14:43:28.505 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Cannot determine the frame size or a corrupted frame was received.
   at System.Net.Security.SslStream.GetFrameSize(ReadOnlySpan`1 buffer)
   at System.Net.Security.SslStream.EnsureFullTlsFrameAsync[TIOAdapter](CancellationToken cancellationToken, Int32 estimatedSize)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-20 14:43:28.512 +03:00 [DBG] Connection id "0HNGFPMF8UG1I" stopped.
2025-10-20 14:43:28.519 +03:00 [DBG] Connection id "0HNGFPMF8UG1I" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-20 14:43:29.569 +03:00 [DBG] Connection id "0HNGFPMF8UG1J" accepted.
2025-10-20 14:43:29.636 +03:00 [DBG] Connection id "0HNGFPMF8UG1J" started.
2025-10-20 14:43:29.642 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.Security.Authentication.AuthenticationException: Cannot determine the frame size or a corrupted frame was received.
   at System.Net.Security.SslStream.GetFrameSize(ReadOnlySpan`1 buffer)
   at System.Net.Security.SslStream.EnsureFullTlsFrameAsync[TIOAdapter](CancellationToken cancellationToken, Int32 estimatedSize)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-20 14:43:29.648 +03:00 [DBG] Connection id "0HNGFPMF8UG1J" stopped.
2025-10-20 14:43:29.649 +03:00 [DBG] Connection id "0HNGFPMF8UG1J" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-20 14:43:33.217 +03:00 [DBG] Connection id "0HNGFPMF8UG1K" accepted.
2025-10-20 14:43:33.220 +03:00 [DBG] Connection id "0HNGFPMF8UG1K" started.
2025-10-20 14:43:33.228 +03:00 [DBG] Connection 0HNGFPMF8UG1K established using the following protocol: "Tls13"
2025-10-20 14:43:33.234 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/api/cities/1/pointsofinterest/1 - null null
2025-10-20 14:43:33.251 +03:00 [WRN] Unable to contact VS to retrieve Browser Link script tag.
2025-10-20 14:43:33.252 +03:00 [DBG] The request path  does not match the path filter
2025-10-20 14:43:33.254 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2025-10-20 14:43:33.255 +03:00 [DBG] Endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointOfInterest (CitiesApi)' with route pattern 'api/cities/{cityid}/pointsofinterest/{PointOfInterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2025-10-20 14:43:33.257 +03:00 [DBG] Request matched endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointOfInterest (CitiesApi)'
2025-10-20 14:43:33.260 +03:00 [INF] Executing endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointOfInterest (CitiesApi)'
2025-10-20 14:43:33.261 +03:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CitiesApi.Models.PointsOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi).
2025-10-20 14:43:33.262 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-20 14:43:33.264 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-20 14:43:33.267 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-10-20 14:43:33.268 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-20 14:43:33.269 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-20 14:43:33.272 +03:00 [DBG] Executing controller factory for controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi)
2025-10-20 14:43:33.273 +03:00 [DBG] Executed controller factory for controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi)
2025-10-20 14:43:33.275 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2025-10-20 14:43:33.276 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2025-10-20 14:43:33.279 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-10-20 14:43:33.280 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-10-20 14:43:33.281 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2025-10-20 14:43:33.282 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2025-10-20 14:43:33.283 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2025-10-20 14:43:33.286 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2025-10-20 14:43:33.288 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2025-10-20 14:43:33.289 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2025-10-20 14:43:33.290 +03:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2025-10-20 14:43:33.292 +03:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2025-10-20 14:43:33.295 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-10-20 14:43:33.298 +03:00 [DBG] Creating DbConnection.
2025-10-20 14:43:33.299 +03:00 [DBG] Created DbConnection. (1ms).
2025-10-20 14:43:33.302 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 14:43:33.304 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 14:43:33.306 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 14:43:33.307 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 14:43:33.309 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-10-20 14:43:33.310 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[CityId] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-20 14:43:33.328 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[CityId] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-20 14:43:33.330 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 14:43:33.331 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 1ms reading results.
2025-10-20 14:43:33.333 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 14:43:33.335 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (2ms).
2025-10-20 14:43:33.338 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 14:43:33.340 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 14:43:33.343 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 14:43:33.343 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-20 14:43:33.344 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-10-20 14:43:33.345 +03:00 [DBG] Executing DbCommand [Parameters=[@__pointOfInterestId_0='?' (DbType = Int32), @__cityId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PointOfInterestId], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointOfInterests] AS [p]
WHERE [p].[PointOfInterestId] = @__pointOfInterestId_0 AND [p].[CityId] = @__cityId_1
2025-10-20 14:43:33.356 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__pointOfInterestId_0='?' (DbType = Int32), @__cityId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PointOfInterestId], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointOfInterests] AS [p]
WHERE [p].[PointOfInterestId] = @__pointOfInterestId_0 AND [p].[CityId] = @__cityId_1
2025-10-20 14:43:33.359 +03:00 [DBG] Context 'AppDbContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 14:43:33.360 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 14:43:33.364 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 5ms reading results.
2025-10-20 14:43:33.365 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 14:43:33.366 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (0ms).
2025-10-20 14:43:33.368 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-10-20 14:43:33.371 +03:00 [DBG] No information found on request to perform content negotiation.
2025-10-20 14:43:33.372 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-10-20 14:43:33.373 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-10-20 14:43:33.374 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-10-20 14:43:33.377 +03:00 [INF] Executing OkObjectResult, writing value of type 'CitiesApi.Models.PointsOfInterestDto'.
2025-10-20 14:43:33.378 +03:00 [INF] Executed action CitiesApi.Controllers.PointsOfInterestController.GetPointOfInterest (CitiesApi) in 106.9864ms
2025-10-20 14:43:33.380 +03:00 [INF] Executed endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointOfInterest (CitiesApi)'
2025-10-20 14:43:33.384 +03:00 [DBG] 'AppDbContext' disposed.
2025-10-20 14:43:33.385 +03:00 [DBG] Disposing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 14:43:33.387 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-20 14:43:33.391 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/api/cities/1/pointsofinterest/1 - 200 106 application/json; charset=utf-8 157.3386ms
2025-10-20 14:43:50.690 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/api/cities/2/pointsofinterest/4 - null null
2025-10-20 14:43:50.723 +03:00 [WRN] Unable to contact VS to retrieve Browser Link script tag.
2025-10-20 14:43:50.739 +03:00 [DBG] The request path  does not match the path filter
2025-10-20 14:43:50.744 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2/pointsofinterest/4'
2025-10-20 14:43:50.745 +03:00 [DBG] Endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointOfInterest (CitiesApi)' with route pattern 'api/cities/{cityid}/pointsofinterest/{PointOfInterestId}' is valid for the request path '/api/cities/2/pointsofinterest/4'
2025-10-20 14:43:50.749 +03:00 [DBG] Request matched endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointOfInterest (CitiesApi)'
2025-10-20 14:43:50.751 +03:00 [INF] Executing endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointOfInterest (CitiesApi)'
2025-10-20 14:43:50.751 +03:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CitiesApi.Models.PointsOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi).
2025-10-20 14:43:50.754 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-20 14:43:50.756 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-20 14:43:50.758 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-10-20 14:43:50.759 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-20 14:43:50.760 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-20 14:43:50.763 +03:00 [DBG] Executing controller factory for controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi)
2025-10-20 14:43:50.765 +03:00 [DBG] Executed controller factory for controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi)
2025-10-20 14:43:50.765 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2025-10-20 14:43:50.766 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2025-10-20 14:43:50.768 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-10-20 14:43:50.769 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-10-20 14:43:50.771 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2025-10-20 14:43:50.772 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2025-10-20 14:43:50.773 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2025-10-20 14:43:50.775 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2025-10-20 14:43:50.777 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2025-10-20 14:43:50.778 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2025-10-20 14:43:50.779 +03:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2025-10-20 14:43:50.780 +03:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2025-10-20 14:43:50.783 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-10-20 14:43:50.785 +03:00 [DBG] Creating DbConnection.
2025-10-20 14:43:50.786 +03:00 [DBG] Created DbConnection. (1ms).
2025-10-20 14:43:50.788 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 14:43:50.790 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 14:43:50.792 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 14:43:50.793 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-20 14:43:50.794 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-10-20 14:43:50.796 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[CityId] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-20 14:43:50.811 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[CityId] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-20 14:43:50.814 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 14:43:50.815 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 1ms reading results.
2025-10-20 14:43:50.818 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 14:43:50.820 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (1ms).
2025-10-20 14:43:50.822 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 14:43:50.825 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 14:43:50.826 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 14:43:50.828 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 14:43:50.829 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-10-20 14:43:50.830 +03:00 [DBG] Executing DbCommand [Parameters=[@__pointOfInterestId_0='?' (DbType = Int32), @__cityId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PointOfInterestId], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointOfInterests] AS [p]
WHERE [p].[PointOfInterestId] = @__pointOfInterestId_0 AND [p].[CityId] = @__cityId_1
2025-10-20 14:43:50.841 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__pointOfInterestId_0='?' (DbType = Int32), @__cityId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PointOfInterestId], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointOfInterests] AS [p]
WHERE [p].[PointOfInterestId] = @__pointOfInterestId_0 AND [p].[CityId] = @__cityId_1
2025-10-20 14:43:50.843 +03:00 [DBG] Context 'AppDbContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 14:43:50.845 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 14:43:50.847 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 4ms reading results.
2025-10-20 14:43:50.849 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 14:43:50.850 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (1ms).
2025-10-20 14:43:50.854 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-10-20 14:43:50.856 +03:00 [DBG] No information found on request to perform content negotiation.
2025-10-20 14:43:50.857 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-10-20 14:43:50.859 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-10-20 14:43:50.861 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-10-20 14:43:50.862 +03:00 [INF] Executing OkObjectResult, writing value of type 'CitiesApi.Models.PointsOfInterestDto'.
2025-10-20 14:43:50.863 +03:00 [INF] Executed action CitiesApi.Controllers.PointsOfInterestController.GetPointOfInterest (CitiesApi) in 99.7882ms
2025-10-20 14:43:50.868 +03:00 [INF] Executed endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointOfInterest (CitiesApi)'
2025-10-20 14:43:50.869 +03:00 [DBG] 'AppDbContext' disposed.
2025-10-20 14:43:50.870 +03:00 [DBG] Disposing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 14:43:50.873 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-10-20 14:43:50.876 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/api/cities/2/pointsofinterest/4 - 200 97 application/json; charset=utf-8 186.2466ms
2025-10-20 14:43:58.419 +03:00 [DBG] Connection id "0HNGFPMF8UG1K" received FIN.
2025-10-20 14:43:58.427 +03:00 [DBG] Connection id "0HNGFPMF8UG1K" is closed. The last processed stream ID was 3.
2025-10-20 14:43:58.427 +03:00 [DBG] The connection queue processing loop for 0HNGFPMF8UG1K completed.
2025-10-20 14:43:58.434 +03:00 [DBG] Connection id "0HNGFPMF8UG1K" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-20 14:43:58.459 +03:00 [DBG] Connection id "0HNGFPMF8UG1K" stopped.
2025-10-20 15:03:57.554 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-10-20 15:03:57.749 +03:00 [DBG] Hosting starting
2025-10-20 15:03:57.770 +03:00 [DBG] Middleware loaded
2025-10-20 15:03:57.773 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16503 B).
2025-10-20 15:03:57.777 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-10-20 15:03:57.952 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-10-20 15:03:58.108 +03:00 [INF] Now listening on: https://localhost:7025
2025-10-20 15:03:58.110 +03:00 [INF] Now listening on: http://localhost:5105
2025-10-20 15:03:58.111 +03:00 [DBG] Loaded hosting startup assembly CitiesApi
2025-10-20 15:03:58.112 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-10-20 15:03:58.114 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-10-20 15:03:58.116 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-10-20 15:03:58.237 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-20 15:03:58.244 +03:00 [INF] Hosting environment: Development
2025-10-20 15:03:58.245 +03:00 [INF] Content root path: D:\Projects\CitiesApi\CitiesApi
2025-10-20 15:03:58.247 +03:00 [DBG] Hosting started
2025-10-20 15:03:58.269 +03:00 [DBG] Connection id "0HNGFQ300K2H6" accepted.
2025-10-20 15:03:58.313 +03:00 [DBG] Connection id "0HNGFQ300K2H6" received FIN.
2025-10-20 15:03:58.322 +03:00 [DBG] Connection id "0HNGFQ300K2H7" received FIN.
2025-10-20 15:03:58.292 +03:00 [DBG] Connection id "0HNGFQ300K2H7" accepted.
2025-10-20 15:03:58.329 +03:00 [DBG] Connection id "0HNGFQ300K2H6" started.
2025-10-20 15:03:58.360 +03:00 [DBG] Connection id "0HNGFQ300K2H7" started.
2025-10-20 15:03:58.410 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-20 15:03:58.410 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-20 15:03:58.529 +03:00 [DBG] Connection id "0HNGFQ300K2H7" stopped.
2025-10-20 15:03:58.530 +03:00 [DBG] Connection id "0HNGFQ300K2H6" stopped.
2025-10-20 15:03:58.563 +03:00 [DBG] Connection id "0HNGFQ300K2H6" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-20 15:03:58.557 +03:00 [DBG] Connection id "0HNGFQ300K2H7" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-20 15:03:58.912 +03:00 [DBG] Connection id "0HNGFQ300K2H8" accepted.
2025-10-20 15:03:58.920 +03:00 [DBG] Connection id "0HNGFQ300K2H8" started.
2025-10-20 15:03:59.030 +03:00 [DBG] Connection 0HNGFQ300K2H8 established using the following protocol: "Tls13"
2025-10-20 15:03:59.145 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/swagger/index.html - null null
2025-10-20 15:03:59.327 +03:00 [WRN] Unable to contact VS to retrieve Browser Link script tag.
2025-10-20 15:03:59.331 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-10-20 15:03:59.433 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-10-20 15:03:59.489 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-10-20 15:03:59.534 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/swagger/index.html - 200 null text/html;charset=utf-8 401.9439ms
2025-10-20 15:03:59.695 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/_framework/aspnetcore-browser-refresh.js - null null
2025-10-20 15:03:59.741 +03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-10-20 15:03:59.765 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/_framework/aspnetcore-browser-refresh.js - 200 16503 application/javascript; charset=utf-8 74.2333ms
2025-10-20 15:03:59.943 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/swagger/v1/swagger.json - null null
2025-10-20 15:04:00.000 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 57.5279ms
2025-10-20 15:04:20.071 +03:00 [DBG] Connection id "0HNGFQ300K2H8" received FIN.
2025-10-20 15:04:20.096 +03:00 [DBG] The connection queue processing loop for 0HNGFQ300K2H8 completed.
2025-10-20 15:04:20.109 +03:00 [DBG] Connection id "0HNGFQ300K2H8" is closed. The last processed stream ID was 5.
2025-10-20 15:04:20.112 +03:00 [DBG] Connection id "0HNGFQ300K2H8" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-20 15:04:20.118 +03:00 [DBG] Connection id "0HNGFQ300K2H8" stopped.
2025-10-20 15:04:45.046 +03:00 [DBG] Connection id "0HNGFQ300K2H9" accepted.
2025-10-20 15:04:45.046 +03:00 [DBG] Connection id "0HNGFQ300K2H9" received FIN.
2025-10-20 15:04:45.076 +03:00 [DBG] Connection id "0HNGFQ300K2HA" accepted.
2025-10-20 15:04:45.076 +03:00 [DBG] Connection id "0HNGFQ300K2H9" started.
2025-10-20 15:04:45.084 +03:00 [DBG] Connection id "0HNGFQ300K2HA" started.
2025-10-20 15:04:45.090 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-20 15:04:45.098 +03:00 [DBG] Connection id "0HNGFQ300K2H9" stopped.
2025-10-20 15:04:45.099 +03:00 [DBG] Connection id "0HNGFQ300K2H9" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-20 15:04:45.108 +03:00 [DBG] Connection 0HNGFQ300K2HA established using the following protocol: "Tls13"
2025-10-20 15:04:45.116 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7025/api/cities/2/pointsofinterest - application/json 114
2025-10-20 15:04:45.122 +03:00 [DBG] POST requests are not supported
2025-10-20 15:04:45.173 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2/pointsofinterest'
2025-10-20 15:04:45.180 +03:00 [DBG] Endpoint 'CitiesApi.Controllers.PointsOfInterestController.CreatePointOfInterest (CitiesApi)' with route pattern 'api/cities/{cityid}/pointsofinterest' is valid for the request path '/api/cities/2/pointsofinterest'
2025-10-20 15:04:45.184 +03:00 [DBG] Request matched endpoint 'CitiesApi.Controllers.PointsOfInterestController.CreatePointOfInterest (CitiesApi)'
2025-10-20 15:04:45.191 +03:00 [INF] Executing endpoint 'CitiesApi.Controllers.PointsOfInterestController.CreatePointOfInterest (CitiesApi)'
2025-10-20 15:04:45.238 +03:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CitiesApi.Models.PointsOfInterestDto]] CreatePointOfInterest(Int32, CitiesApi.Models.PointsOfInterestForCreationDto) on controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi).
2025-10-20 15:04:45.243 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-20 15:04:45.245 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-20 15:04:45.248 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-10-20 15:04:45.250 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-20 15:04:45.254 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-20 15:04:45.261 +03:00 [DBG] Executing controller factory for controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi)
2025-10-20 15:04:45.477 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-10-20 15:04:45.767 +03:00 [DBG] Executed controller factory for controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi)
2025-10-20 15:04:45.775 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2025-10-20 15:04:45.779 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2025-10-20 15:04:45.783 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-10-20 15:04:45.784 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-10-20 15:04:45.789 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2025-10-20 15:04:45.795 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2025-10-20 15:04:45.798 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestForCreation' of type 'CitiesApi.Models.PointsOfInterestForCreationDto' ...
2025-10-20 15:04:45.800 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestForCreation' of type 'CitiesApi.Models.PointsOfInterestForCreationDto' using the name '' in request data ...
2025-10-20 15:04:45.802 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2025-10-20 15:04:45.805 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2025-10-20 15:04:45.814 +03:00 [DBG] Connection id "0HNGFQ300K2HA", Request id "0HNGFQ300K2HA:00000001": started reading request body.
2025-10-20 15:04:45.816 +03:00 [DBG] Connection id "0HNGFQ300K2HA", Request id "0HNGFQ300K2HA:00000001": done reading request body.
2025-10-20 15:04:45.951 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestForCreation' of type 'CitiesApi.Models.PointsOfInterestForCreationDto'.
2025-10-20 15:04:45.953 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestForCreation' of type 'CitiesApi.Models.PointsOfInterestForCreationDto'.
2025-10-20 15:04:45.955 +03:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestForCreation' of type 'CitiesApi.Models.PointsOfInterestForCreationDto' ...
2025-10-20 15:04:45.966 +03:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestForCreation' of type 'CitiesApi.Models.PointsOfInterestForCreationDto'.
2025-10-20 15:04:47.109 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-10-20 15:04:47.204 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.CityId == __cityId_0)'
2025-10-20 15:04:47.478 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.CityId == @__cityId_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CitiesApi.Data.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-10-20 15:04:47.546 +03:00 [DBG] Creating DbConnection.
2025-10-20 15:04:47.585 +03:00 [DBG] Created DbConnection. (36ms).
2025-10-20 15:04:47.592 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:04:48.148 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:04:48.157 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:04:48.165 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2025-10-20 15:04:48.182 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (25ms).
2025-10-20 15:04:48.202 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[CityId] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-20 15:04:48.408 +03:00 [INF] Executed DbCommand (208ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[CityId] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-20 15:04:48.451 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:04:48.474 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 50ms reading results.
2025-10-20 15:04:48.483 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:04:48.494 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (11ms).
2025-10-20 15:04:48.522 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.CityId == __cityId_0)
    .FirstOrDefault()'
2025-10-20 15:04:48.584 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.CityId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(500), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.CityId, c.Description, c.Name
            FROM Cities AS c
            WHERE c.CityId == @__cityId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CitiesApi.Data.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-10-20 15:04:48.593 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:04:48.596 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:04:48.598 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:04:48.599 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 15:04:48.601 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-10-20 15:04:48.602 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CityId], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
WHERE [c].[CityId] = @__cityId_0
2025-10-20 15:04:48.615 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CityId], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
WHERE [c].[CityId] = @__cityId_0
2025-10-20 15:04:48.648 +03:00 [DBG] Context 'AppDbContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:04:48.678 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:04:48.680 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 62ms reading results.
2025-10-20 15:04:48.681 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:04:48.683 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (1ms).
2025-10-20 15:04:48.689 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-10-20 15:04:48.696 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-10-20 15:04:48.733 +03:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointsOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:04:48.790 +03:00 [DBG] 'AppDbContext' generated a temporary value for the property 'PointOfInterest.PointOfInterestId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:04:48.822 +03:00 [DBG] The navigation 'PointOfInterest.city' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:04:48.848 +03:00 [DBG] Context 'AppDbContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:04:48.856 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-10-20 15:04:48.981 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:04:48.984 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:04:48.989 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:04:48.991 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-10-20 15:04:48.995 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-10-20 15:04:48.996 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 500), @p2='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PointOfInterests] ([CityId], [Description], [Name])
OUTPUT INSERTED.[PointOfInterestId]
VALUES (@p0, @p1, @p2);
2025-10-20 15:04:49.045 +03:00 [INF] Executed DbCommand (49ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 500), @p2='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PointOfInterests] ([CityId], [Description], [Name])
OUTPUT INSERTED.[PointOfInterestId]
VALUES (@p0, @p1, @p2);
2025-10-20 15:04:49.062 +03:00 [DBG] The foreign key property 'PointOfInterest.PointOfInterestId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-10-20 15:04:49.071 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:04:49.073 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 26ms reading results.
2025-10-20 15:04:49.076 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:04:49.077 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (1ms).
2025-10-20 15:04:49.094 +03:00 [DBG] An entity of type 'PointOfInterest' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:04:49.099 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-10-20 15:04:49.119 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-10-20 15:04:49.131 +03:00 [DBG] No information found on request to perform content negotiation.
2025-10-20 15:04:49.134 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-10-20 15:04:49.135 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-10-20 15:04:49.139 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-10-20 15:04:49.141 +03:00 [INF] Executing CreatedAtRouteResult, writing value of type 'CitiesApi.Models.PointsOfInterestDto'.
2025-10-20 15:04:49.185 +03:00 [DBG] Found the endpoints ["CitiesApi.Controllers.PointsOfInterestController.GetPointOfInterest (CitiesApi)"] for address GetPointOfInterest(CityId=[2],PointOfInterestId=[7])
2025-10-20 15:04:49.191 +03:00 [DBG] Successfully processed template api/cities/{cityid}/pointsofinterest/{PointOfInterestId} for CitiesApi.Controllers.PointsOfInterestController.GetPointOfInterest (CitiesApi) resulting in /api/cities/2/pointsofinterest/7 and 
2025-10-20 15:04:49.195 +03:00 [DBG] Link generation succeeded for endpoints ["CitiesApi.Controllers.PointsOfInterestController.GetPointOfInterest (CitiesApi)"] with result /api/cities/2/pointsofinterest/7
2025-10-20 15:04:49.252 +03:00 [INF] Executed action CitiesApi.Controllers.PointsOfInterestController.CreatePointOfInterest (CitiesApi) in 3989.9195ms
2025-10-20 15:04:49.256 +03:00 [INF] Executed endpoint 'CitiesApi.Controllers.PointsOfInterestController.CreatePointOfInterest (CitiesApi)'
2025-10-20 15:04:49.258 +03:00 [DBG] Connection id "0HNGFQ300K2HA" completed keep alive response.
2025-10-20 15:04:49.262 +03:00 [DBG] 'AppDbContext' disposed.
2025-10-20 15:04:49.269 +03:00 [DBG] Disposing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:04:49.274 +03:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-10-20 15:04:49.278 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7025/api/cities/2/pointsofinterest - 201 122 application/json; charset=utf-8 4162.1898ms
2025-10-20 15:05:23.473 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7025/api/cities/3/pointsofinterest - application/json 974
2025-10-20 15:05:23.477 +03:00 [DBG] POST requests are not supported
2025-10-20 15:05:23.479 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2025-10-20 15:05:23.480 +03:00 [DBG] Endpoint 'CitiesApi.Controllers.PointsOfInterestController.CreatePointOfInterest (CitiesApi)' with route pattern 'api/cities/{cityid}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2025-10-20 15:05:23.482 +03:00 [DBG] Request matched endpoint 'CitiesApi.Controllers.PointsOfInterestController.CreatePointOfInterest (CitiesApi)'
2025-10-20 15:05:23.483 +03:00 [INF] Executing endpoint 'CitiesApi.Controllers.PointsOfInterestController.CreatePointOfInterest (CitiesApi)'
2025-10-20 15:05:23.484 +03:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CitiesApi.Models.PointsOfInterestDto]] CreatePointOfInterest(Int32, CitiesApi.Models.PointsOfInterestForCreationDto) on controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi).
2025-10-20 15:05:23.486 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-20 15:05:23.487 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-20 15:05:23.488 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-10-20 15:05:23.490 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-20 15:05:23.492 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-20 15:05:23.493 +03:00 [DBG] Executing controller factory for controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi)
2025-10-20 15:05:23.497 +03:00 [DBG] Executed controller factory for controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi)
2025-10-20 15:05:23.512 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2025-10-20 15:05:23.515 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2025-10-20 15:05:23.516 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-10-20 15:05:23.517 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-10-20 15:05:23.519 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2025-10-20 15:05:23.521 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2025-10-20 15:05:23.523 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestForCreation' of type 'CitiesApi.Models.PointsOfInterestForCreationDto' ...
2025-10-20 15:05:23.527 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestForCreation' of type 'CitiesApi.Models.PointsOfInterestForCreationDto' using the name '' in request data ...
2025-10-20 15:05:23.531 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2025-10-20 15:05:23.548 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2025-10-20 15:05:23.553 +03:00 [DBG] Connection id "0HNGFQ300K2HA", Request id "0HNGFQ300K2HA:00000002": started reading request body.
2025-10-20 15:05:23.557 +03:00 [DBG] Connection id "0HNGFQ300K2HA", Request id "0HNGFQ300K2HA:00000002": done reading request body.
2025-10-20 15:05:23.565 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestForCreation' of type 'CitiesApi.Models.PointsOfInterestForCreationDto'.
2025-10-20 15:05:23.568 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestForCreation' of type 'CitiesApi.Models.PointsOfInterestForCreationDto'.
2025-10-20 15:05:23.570 +03:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestForCreation' of type 'CitiesApi.Models.PointsOfInterestForCreationDto' ...
2025-10-20 15:05:23.576 +03:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestForCreation' of type 'CitiesApi.Models.PointsOfInterestForCreationDto'.
2025-10-20 15:05:23.580 +03:00 [DBG] The request has model state errors, returning an error response.
2025-10-20 15:05:23.584 +03:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2025-10-20 15:05:23.586 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-10-20 15:05:23.588 +03:00 [DBG] No information found on request to perform content negotiation.
2025-10-20 15:05:23.590 +03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-10-20 15:05:23.594 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-10-20 15:05:23.595 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-10-20 15:05:23.669 +03:00 [INF] Executed action CitiesApi.Controllers.PointsOfInterestController.CreatePointOfInterest (CitiesApi) in 175.7347ms
2025-10-20 15:05:23.675 +03:00 [INF] Executed endpoint 'CitiesApi.Controllers.PointsOfInterestController.CreatePointOfInterest (CitiesApi)'
2025-10-20 15:05:23.677 +03:00 [DBG] Connection id "0HNGFQ300K2HA" completed keep alive response.
2025-10-20 15:05:23.679 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7025/api/cities/3/pointsofinterest - 400 235 application/problem+json; charset=utf-8 210.1136ms
2025-10-20 15:05:30.998 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7025/api/cities/3/pointsofinterest - application/json 0
2025-10-20 15:05:31.003 +03:00 [DBG] POST requests are not supported
2025-10-20 15:05:31.005 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2025-10-20 15:05:31.008 +03:00 [DBG] Endpoint 'CitiesApi.Controllers.PointsOfInterestController.CreatePointOfInterest (CitiesApi)' with route pattern 'api/cities/{cityid}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2025-10-20 15:05:31.009 +03:00 [DBG] Request matched endpoint 'CitiesApi.Controllers.PointsOfInterestController.CreatePointOfInterest (CitiesApi)'
2025-10-20 15:05:31.011 +03:00 [INF] Executing endpoint 'CitiesApi.Controllers.PointsOfInterestController.CreatePointOfInterest (CitiesApi)'
2025-10-20 15:05:31.014 +03:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CitiesApi.Models.PointsOfInterestDto]] CreatePointOfInterest(Int32, CitiesApi.Models.PointsOfInterestForCreationDto) on controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi).
2025-10-20 15:05:31.021 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-20 15:05:31.023 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-20 15:05:31.026 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-10-20 15:05:31.043 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-20 15:05:31.044 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-20 15:05:31.047 +03:00 [DBG] Executing controller factory for controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi)
2025-10-20 15:05:31.053 +03:00 [DBG] Executed controller factory for controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi)
2025-10-20 15:05:31.054 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2025-10-20 15:05:31.056 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2025-10-20 15:05:31.057 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-10-20 15:05:31.058 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-10-20 15:05:31.059 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2025-10-20 15:05:31.061 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2025-10-20 15:05:31.063 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestForCreation' of type 'CitiesApi.Models.PointsOfInterestForCreationDto' ...
2025-10-20 15:05:31.064 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestForCreation' of type 'CitiesApi.Models.PointsOfInterestForCreationDto' using the name '' in request data ...
2025-10-20 15:05:31.066 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2025-10-20 15:05:31.067 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2025-10-20 15:05:31.070 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestForCreation' of type 'CitiesApi.Models.PointsOfInterestForCreationDto'.
2025-10-20 15:05:31.071 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestForCreation' of type 'CitiesApi.Models.PointsOfInterestForCreationDto'.
2025-10-20 15:05:31.073 +03:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestForCreation' of type 'CitiesApi.Models.PointsOfInterestForCreationDto' ...
2025-10-20 15:05:31.076 +03:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestForCreation' of type 'CitiesApi.Models.PointsOfInterestForCreationDto'.
2025-10-20 15:05:31.078 +03:00 [DBG] The request has model state errors, returning an error response.
2025-10-20 15:05:31.078 +03:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2025-10-20 15:05:31.080 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-10-20 15:05:31.082 +03:00 [DBG] No information found on request to perform content negotiation.
2025-10-20 15:05:31.083 +03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-10-20 15:05:31.085 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-10-20 15:05:31.086 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-10-20 15:05:31.088 +03:00 [INF] Executed action CitiesApi.Controllers.PointsOfInterestController.CreatePointOfInterest (CitiesApi) in 40.2537ms
2025-10-20 15:05:31.089 +03:00 [INF] Executed endpoint 'CitiesApi.Controllers.PointsOfInterestController.CreatePointOfInterest (CitiesApi)'
2025-10-20 15:05:31.090 +03:00 [DBG] Connection id "0HNGFQ300K2HA" completed keep alive response.
2025-10-20 15:05:31.091 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7025/api/cities/3/pointsofinterest - 400 331 application/problem+json; charset=utf-8 93.1448ms
2025-10-20 15:28:08.083 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-10-20 15:28:08.221 +03:00 [DBG] Hosting starting
2025-10-20 15:28:08.235 +03:00 [DBG] Middleware loaded
2025-10-20 15:28:08.239 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16503 B).
2025-10-20 15:28:08.243 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-10-20 15:28:08.400 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-10-20 15:28:08.482 +03:00 [INF] Now listening on: https://localhost:7025
2025-10-20 15:28:08.490 +03:00 [INF] Now listening on: http://localhost:5105
2025-10-20 15:28:08.491 +03:00 [DBG] Loaded hosting startup assembly CitiesApi
2025-10-20 15:28:08.493 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-10-20 15:28:08.495 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-10-20 15:28:08.496 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-10-20 15:28:08.545 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-20 15:28:08.547 +03:00 [INF] Hosting environment: Development
2025-10-20 15:28:08.549 +03:00 [INF] Content root path: D:\Projects\CitiesApi\CitiesApi
2025-10-20 15:28:08.550 +03:00 [DBG] Hosting started
2025-10-20 15:28:08.805 +03:00 [DBG] Connection id "0HNGFQGGA0GUP" accepted.
2025-10-20 15:28:08.809 +03:00 [DBG] Connection id "0HNGFQGGA0GUQ" accepted.
2025-10-20 15:28:08.818 +03:00 [DBG] Connection id "0HNGFQGGA0GUP" started.
2025-10-20 15:28:08.819 +03:00 [DBG] Connection id "0HNGFQGGA0GUP" received FIN.
2025-10-20 15:28:08.819 +03:00 [DBG] Connection id "0HNGFQGGA0GUQ" received FIN.
2025-10-20 15:28:08.820 +03:00 [DBG] Connection id "0HNGFQGGA0GUQ" started.
2025-10-20 15:28:08.839 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-20 15:28:08.839 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-20 15:28:08.887 +03:00 [DBG] Connection id "0HNGFQGGA0GUP" stopped.
2025-10-20 15:28:08.887 +03:00 [DBG] Connection id "0HNGFQGGA0GUQ" stopped.
2025-10-20 15:28:08.895 +03:00 [DBG] Connection id "0HNGFQGGA0GUP" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-20 15:28:08.895 +03:00 [DBG] Connection id "0HNGFQGGA0GUQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-20 15:28:09.165 +03:00 [DBG] Connection id "0HNGFQGGA0GUR" accepted.
2025-10-20 15:28:09.167 +03:00 [DBG] Connection id "0HNGFQGGA0GUR" started.
2025-10-20 15:28:09.252 +03:00 [DBG] Connection 0HNGFQGGA0GUR established using the following protocol: "Tls13"
2025-10-20 15:28:09.369 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/swagger/index.html - null null
2025-10-20 15:28:09.713 +03:00 [WRN] Unable to contact VS to retrieve Browser Link script tag.
2025-10-20 15:28:09.723 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-10-20 15:28:09.843 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-10-20 15:28:09.858 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-10-20 15:28:09.863 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/swagger/index.html - 200 null text/html;charset=utf-8 510.466ms
2025-10-20 15:28:09.954 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/_framework/aspnetcore-browser-refresh.js - null null
2025-10-20 15:28:09.964 +03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-10-20 15:28:09.969 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/_framework/aspnetcore-browser-refresh.js - 200 16503 application/javascript; charset=utf-8 14.3624ms
2025-10-20 15:28:10.079 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/swagger/v1/swagger.json - null null
2025-10-20 15:28:10.105 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 26.6205ms
2025-10-20 15:28:12.494 +03:00 [DBG] Connection id "0HNGFQGGA0GUR" received FIN.
2025-10-20 15:28:12.504 +03:00 [DBG] The connection queue processing loop for 0HNGFQGGA0GUR completed.
2025-10-20 15:28:12.510 +03:00 [DBG] Connection id "0HNGFQGGA0GUR" is closed. The last processed stream ID was 5.
2025-10-20 15:28:12.515 +03:00 [DBG] Connection id "0HNGFQGGA0GUR" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-20 15:28:12.527 +03:00 [DBG] Connection id "0HNGFQGGA0GUR" stopped.
2025-10-20 15:28:21.663 +03:00 [DBG] Connection id "0HNGFQGGA0GUS" received FIN.
2025-10-20 15:28:21.669 +03:00 [DBG] Connection id "0HNGFQGGA0GUS" accepted.
2025-10-20 15:28:21.673 +03:00 [DBG] Connection id "0HNGFQGGA0GUT" accepted.
2025-10-20 15:28:21.674 +03:00 [DBG] Connection id "0HNGFQGGA0GUS" started.
2025-10-20 15:28:21.676 +03:00 [DBG] Connection id "0HNGFQGGA0GUT" started.
2025-10-20 15:28:21.682 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-20 15:28:21.690 +03:00 [DBG] Connection id "0HNGFQGGA0GUS" stopped.
2025-10-20 15:28:21.692 +03:00 [DBG] Connection id "0HNGFQGGA0GUS" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-20 15:28:21.695 +03:00 [DBG] Connection 0HNGFQGGA0GUT established using the following protocol: "Tls13"
2025-10-20 15:28:21.703 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7025/api/cities/1/pointsofinterest/2 - application/json 122
2025-10-20 15:28:21.710 +03:00 [DBG] PUT requests are not supported
2025-10-20 15:28:21.753 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/2'
2025-10-20 15:28:21.759 +03:00 [DBG] Endpoint 'CitiesApi.Controllers.PointsOfInterestController.UpdatePointOfInterest (CitiesApi)' with route pattern 'api/cities/{cityid}/pointsofinterest/{PointOfInterestId}' is valid for the request path '/api/cities/1/pointsofinterest/2'
2025-10-20 15:28:21.762 +03:00 [DBG] Request matched endpoint 'CitiesApi.Controllers.PointsOfInterestController.UpdatePointOfInterest (CitiesApi)'
2025-10-20 15:28:21.768 +03:00 [INF] Executing endpoint 'CitiesApi.Controllers.PointsOfInterestController.UpdatePointOfInterest (CitiesApi)'
2025-10-20 15:28:21.809 +03:00 [INF] Route matched with {action = "UpdatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdatePointOfInterest(Int32, Int32, CitiesApi.Models.PointOfInterestForUpdateDto) on controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi).
2025-10-20 15:28:21.813 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-20 15:28:21.816 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-20 15:28:21.819 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-10-20 15:28:21.823 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-20 15:28:21.825 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-20 15:28:21.829 +03:00 [DBG] Executing controller factory for controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi)
2025-10-20 15:28:22.057 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-10-20 15:28:22.304 +03:00 [DBG] Executed controller factory for controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi)
2025-10-20 15:28:22.324 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2025-10-20 15:28:22.331 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2025-10-20 15:28:22.335 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-10-20 15:28:22.340 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-10-20 15:28:22.343 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2025-10-20 15:28:22.348 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2025-10-20 15:28:22.353 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2025-10-20 15:28:22.358 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2025-10-20 15:28:22.361 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2025-10-20 15:28:22.363 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2025-10-20 15:28:22.366 +03:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2025-10-20 15:28:22.372 +03:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2025-10-20 15:28:22.374 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestForUpdateDto' of type 'CitiesApi.Models.PointOfInterestForUpdateDto' ...
2025-10-20 15:28:22.378 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestForUpdateDto' of type 'CitiesApi.Models.PointOfInterestForUpdateDto' using the name '' in request data ...
2025-10-20 15:28:22.382 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2025-10-20 15:28:22.387 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2025-10-20 15:28:22.398 +03:00 [DBG] Connection id "0HNGFQGGA0GUT", Request id "0HNGFQGGA0GUT:00000001": started reading request body.
2025-10-20 15:28:22.403 +03:00 [DBG] Connection id "0HNGFQGGA0GUT", Request id "0HNGFQGGA0GUT:00000001": done reading request body.
2025-10-20 15:28:22.523 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestForUpdateDto' of type 'CitiesApi.Models.PointOfInterestForUpdateDto'.
2025-10-20 15:28:22.527 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestForUpdateDto' of type 'CitiesApi.Models.PointOfInterestForUpdateDto'.
2025-10-20 15:28:22.543 +03:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestForUpdateDto' of type 'CitiesApi.Models.PointOfInterestForUpdateDto' ...
2025-10-20 15:28:22.554 +03:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestForUpdateDto' of type 'CitiesApi.Models.PointOfInterestForUpdateDto'.
2025-10-20 15:28:23.693 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-10-20 15:28:23.805 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.CityId == __cityId_0)'
2025-10-20 15:28:24.043 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.CityId == @__cityId_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CitiesApi.Data.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-10-20 15:28:24.119 +03:00 [DBG] Creating DbConnection.
2025-10-20 15:28:24.156 +03:00 [DBG] Created DbConnection. (35ms).
2025-10-20 15:28:24.162 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:28:24.691 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:28:24.702 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:28:24.710 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2025-10-20 15:28:24.730 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (28ms).
2025-10-20 15:28:24.759 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[CityId] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-20 15:28:24.976 +03:00 [INF] Executed DbCommand (228ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[CityId] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-20 15:28:25.048 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:28:25.066 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 63ms reading results.
2025-10-20 15:28:25.074 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:28:25.084 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (10ms).
2025-10-20 15:28:25.094 +03:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0)
    .Any(p => p.PointOfInterestId == __pointOfInterestId_1)'
2025-10-20 15:28:25.102 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM PointOfInterests AS p
                WHERE (p.CityId == @__cityId_0) && (p.PointOfInterestId == @__pointOfInterestId_1))), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CitiesApi.Data.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-10-20 15:28:25.107 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:28:25.110 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:28:25.112 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:28:25.113 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 15:28:25.114 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-10-20 15:28:25.116 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [PointOfInterests] AS [p]
        WHERE [p].[CityId] = @__cityId_0 AND [p].[PointOfInterestId] = @__pointOfInterestId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-20 15:28:25.132 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [PointOfInterests] AS [p]
        WHERE [p].[CityId] = @__cityId_0 AND [p].[PointOfInterestId] = @__pointOfInterestId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-20 15:28:25.134 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:28:25.135 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 1ms reading results.
2025-10-20 15:28:25.136 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:28:25.138 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (1ms).
2025-10-20 15:28:25.153 +03:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .FirstOrDefault(P => P.PointOfInterestId == __pointOfInterestId_0 && P.CityId == __cityId_1)'
2025-10-20 15:28:25.208 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.PointOfInterestId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(500), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.PointOfInterestId, p.CityId, p.Description, p.Name
            FROM PointOfInterests AS p
            WHERE (p.PointOfInterestId == @__pointOfInterestId_0) && (p.CityId == @__cityId_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CitiesApi.Data.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-10-20 15:28:25.225 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:28:25.227 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:28:25.231 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:28:25.234 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-10-20 15:28:25.237 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-10-20 15:28:25.240 +03:00 [DBG] Executing DbCommand [Parameters=[@__pointOfInterestId_0='?' (DbType = Int32), @__cityId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PointOfInterestId], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointOfInterests] AS [p]
WHERE [p].[PointOfInterestId] = @__pointOfInterestId_0 AND [p].[CityId] = @__cityId_1
2025-10-20 15:28:25.253 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__pointOfInterestId_0='?' (DbType = Int32), @__cityId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PointOfInterestId], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointOfInterests] AS [p]
WHERE [p].[PointOfInterestId] = @__pointOfInterestId_0 AND [p].[CityId] = @__cityId_1
2025-10-20 15:28:25.282 +03:00 [DBG] Context 'AppDbContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:28:25.309 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:28:25.311 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 55ms reading results.
2025-10-20 15:28:25.313 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:28:25.315 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (1ms).
2025-10-20 15:28:25.324 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-10-20 15:28:25.331 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-10-20 15:28:25.354 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-10-20 15:28:25.363 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 0 entities written to the database.
2025-10-20 15:28:25.369 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-10-20 15:28:25.377 +03:00 [INF] Executed action CitiesApi.Controllers.PointsOfInterestController.UpdatePointOfInterest (CitiesApi) in 3545.2172ms
2025-10-20 15:28:25.380 +03:00 [INF] Executed endpoint 'CitiesApi.Controllers.PointsOfInterestController.UpdatePointOfInterest (CitiesApi)'
2025-10-20 15:28:25.383 +03:00 [DBG] Connection id "0HNGFQGGA0GUT" completed keep alive response.
2025-10-20 15:28:25.388 +03:00 [DBG] 'AppDbContext' disposed.
2025-10-20 15:28:25.393 +03:00 [DBG] Disposing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:28:25.396 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-10-20 15:28:25.398 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7025/api/cities/1/pointsofinterest/2 - 204 null null 3695.5318ms
2025-10-20 15:28:36.640 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7025/api/cities/1/pointsofinterest - null null
2025-10-20 15:28:36.644 +03:00 [DBG] The request path  does not match the path filter
2025-10-20 15:28:36.659 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2025-10-20 15:28:36.666 +03:00 [DBG] Endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointsOfInterest (CitiesApi)' with route pattern 'api/cities/{cityid}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2025-10-20 15:28:36.672 +03:00 [DBG] Request matched endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointsOfInterest (CitiesApi)'
2025-10-20 15:28:36.676 +03:00 [INF] Executing endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointsOfInterest (CitiesApi)'
2025-10-20 15:28:36.689 +03:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CitiesApi.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi).
2025-10-20 15:28:36.693 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-20 15:28:36.695 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-20 15:28:36.697 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-10-20 15:28:36.699 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-20 15:28:36.700 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-20 15:28:36.701 +03:00 [DBG] Executing controller factory for controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi)
2025-10-20 15:28:36.704 +03:00 [DBG] Executed controller factory for controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi)
2025-10-20 15:28:36.708 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2025-10-20 15:28:36.710 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2025-10-20 15:28:36.712 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-10-20 15:28:36.713 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-10-20 15:28:36.714 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2025-10-20 15:28:36.715 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2025-10-20 15:28:36.740 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-10-20 15:28:36.760 +03:00 [DBG] Creating DbConnection.
2025-10-20 15:28:36.762 +03:00 [DBG] Created DbConnection. (1ms).
2025-10-20 15:28:36.763 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:28:36.764 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:28:36.766 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:28:36.767 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 15:28:36.769 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-10-20 15:28:36.770 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[CityId] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-20 15:28:36.784 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[CityId] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-20 15:28:36.786 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:28:36.787 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 1ms reading results.
2025-10-20 15:28:36.789 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:28:36.790 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (1ms).
2025-10-20 15:28:36.797 +03:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0)'
2025-10-20 15:28:36.806 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.PointOfInterestId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(500), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.PointOfInterestId, p.CityId, p.Description, p.Name
        FROM PointOfInterests AS p
        WHERE p.CityId == @__cityId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CitiesApi.Data.AppDbContext, 
    False, 
    False, 
    True
)'
2025-10-20 15:28:36.809 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:28:36.810 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:28:36.811 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:28:36.812 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-20 15:28:36.813 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-10-20 15:28:36.819 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PointOfInterestId], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointOfInterests] AS [p]
WHERE [p].[CityId] = @__cityId_0
2025-10-20 15:28:36.836 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PointOfInterestId], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointOfInterests] AS [p]
WHERE [p].[CityId] = @__cityId_0
2025-10-20 15:28:36.840 +03:00 [DBG] Context 'AppDbContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:28:36.843 +03:00 [DBG] Context 'AppDbContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:28:36.846 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:28:36.847 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 7ms reading results.
2025-10-20 15:28:36.850 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:28:36.851 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (1ms).
2025-10-20 15:28:36.868 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-10-20 15:28:36.873 +03:00 [DBG] No information found on request to perform content negotiation.
2025-10-20 15:28:36.874 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-10-20 15:28:36.878 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-10-20 15:28:36.880 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-10-20 15:28:36.882 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CitiesApi.Models.PointOfInterestDto, CitiesApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-20 15:28:36.944 +03:00 [INF] Executed action CitiesApi.Controllers.PointsOfInterestController.GetPointsOfInterest (CitiesApi) in 242.8165ms
2025-10-20 15:28:36.946 +03:00 [INF] Executed endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointsOfInterest (CitiesApi)'
2025-10-20 15:28:36.948 +03:00 [DBG] Connection id "0HNGFQGGA0GUT" completed keep alive response.
2025-10-20 15:28:36.949 +03:00 [DBG] 'AppDbContext' disposed.
2025-10-20 15:28:36.950 +03:00 [DBG] Disposing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:28:36.951 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-20 15:28:36.954 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7025/api/cities/1/pointsofinterest - 200 222 application/json; charset=utf-8 314.687ms
2025-10-20 15:28:42.002 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7025/api/cities/1/pointsofinterest - null null
2025-10-20 15:28:42.005 +03:00 [DBG] The request path  does not match the path filter
2025-10-20 15:28:42.006 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2025-10-20 15:28:42.008 +03:00 [DBG] Endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointsOfInterest (CitiesApi)' with route pattern 'api/cities/{cityid}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2025-10-20 15:28:42.010 +03:00 [DBG] Request matched endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointsOfInterest (CitiesApi)'
2025-10-20 15:28:42.011 +03:00 [INF] Executing endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointsOfInterest (CitiesApi)'
2025-10-20 15:28:42.012 +03:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CitiesApi.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi).
2025-10-20 15:28:42.014 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-20 15:28:42.017 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-20 15:28:42.020 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-10-20 15:28:42.022 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-20 15:28:42.024 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-20 15:28:42.026 +03:00 [DBG] Executing controller factory for controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi)
2025-10-20 15:28:42.031 +03:00 [DBG] Executed controller factory for controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi)
2025-10-20 15:28:42.034 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2025-10-20 15:28:42.035 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2025-10-20 15:28:42.037 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-10-20 15:28:42.038 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-10-20 15:28:42.039 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2025-10-20 15:28:42.040 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2025-10-20 15:28:42.138 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-10-20 15:28:42.145 +03:00 [DBG] Creating DbConnection.
2025-10-20 15:28:42.147 +03:00 [DBG] Created DbConnection. (1ms).
2025-10-20 15:28:42.148 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:28:42.149 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:28:42.150 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:28:42.151 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-20 15:28:42.152 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-10-20 15:28:42.154 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[CityId] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-20 15:28:42.161 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[CityId] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-20 15:28:42.163 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:28:42.164 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 1ms reading results.
2025-10-20 15:28:42.165 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:28:42.167 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (1ms).
2025-10-20 15:28:42.169 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:28:42.170 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:28:42.172 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:28:42.173 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 15:28:42.175 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-10-20 15:28:42.177 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PointOfInterestId], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointOfInterests] AS [p]
WHERE [p].[CityId] = @__cityId_0
2025-10-20 15:28:42.189 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PointOfInterestId], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointOfInterests] AS [p]
WHERE [p].[CityId] = @__cityId_0
2025-10-20 15:28:42.192 +03:00 [DBG] Context 'AppDbContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:28:42.193 +03:00 [DBG] Context 'AppDbContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:28:42.196 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:28:42.197 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 5ms reading results.
2025-10-20 15:28:42.199 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:28:42.200 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (1ms).
2025-10-20 15:28:42.204 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-10-20 15:28:42.210 +03:00 [DBG] No information found on request to perform content negotiation.
2025-10-20 15:28:42.212 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-10-20 15:28:42.213 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-10-20 15:28:42.216 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-10-20 15:28:42.221 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CitiesApi.Models.PointOfInterestDto, CitiesApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-20 15:28:42.227 +03:00 [INF] Executed action CitiesApi.Controllers.PointsOfInterestController.GetPointsOfInterest (CitiesApi) in 201.5572ms
2025-10-20 15:28:42.230 +03:00 [INF] Executed endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointsOfInterest (CitiesApi)'
2025-10-20 15:28:42.232 +03:00 [DBG] Connection id "0HNGFQGGA0GUT" completed keep alive response.
2025-10-20 15:28:42.234 +03:00 [DBG] 'AppDbContext' disposed.
2025-10-20 15:28:42.236 +03:00 [DBG] Disposing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:28:42.238 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-10-20 15:28:42.240 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7025/api/cities/1/pointsofinterest - 200 222 application/json; charset=utf-8 237.7815ms
2025-10-20 15:28:50.751 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7025/api/cities/1/pointsofinterest/2 - application/json 122
2025-10-20 15:28:50.759 +03:00 [DBG] PUT requests are not supported
2025-10-20 15:28:50.760 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/2'
2025-10-20 15:28:50.762 +03:00 [DBG] Endpoint 'CitiesApi.Controllers.PointsOfInterestController.UpdatePointOfInterest (CitiesApi)' with route pattern 'api/cities/{cityid}/pointsofinterest/{PointOfInterestId}' is valid for the request path '/api/cities/1/pointsofinterest/2'
2025-10-20 15:28:50.765 +03:00 [DBG] Request matched endpoint 'CitiesApi.Controllers.PointsOfInterestController.UpdatePointOfInterest (CitiesApi)'
2025-10-20 15:28:50.767 +03:00 [INF] Executing endpoint 'CitiesApi.Controllers.PointsOfInterestController.UpdatePointOfInterest (CitiesApi)'
2025-10-20 15:28:50.769 +03:00 [INF] Route matched with {action = "UpdatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdatePointOfInterest(Int32, Int32, CitiesApi.Models.PointOfInterestForUpdateDto) on controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi).
2025-10-20 15:28:50.772 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-20 15:28:50.775 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-20 15:28:50.779 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-10-20 15:28:50.784 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-20 15:28:50.796 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-20 15:28:50.810 +03:00 [DBG] Executing controller factory for controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi)
2025-10-20 15:28:50.817 +03:00 [DBG] Executed controller factory for controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi)
2025-10-20 15:28:50.819 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2025-10-20 15:28:50.821 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2025-10-20 15:28:50.825 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-10-20 15:28:50.827 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-10-20 15:28:50.830 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2025-10-20 15:28:50.831 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2025-10-20 15:28:50.832 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2025-10-20 15:28:50.834 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2025-10-20 15:28:50.836 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2025-10-20 15:28:50.837 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2025-10-20 15:28:50.838 +03:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2025-10-20 15:28:50.839 +03:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2025-10-20 15:28:50.841 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestForUpdateDto' of type 'CitiesApi.Models.PointOfInterestForUpdateDto' ...
2025-10-20 15:28:50.843 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestForUpdateDto' of type 'CitiesApi.Models.PointOfInterestForUpdateDto' using the name '' in request data ...
2025-10-20 15:28:50.844 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2025-10-20 15:28:50.845 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2025-10-20 15:28:50.847 +03:00 [DBG] Connection id "0HNGFQGGA0GUT", Request id "0HNGFQGGA0GUT:00000004": started reading request body.
2025-10-20 15:28:50.848 +03:00 [DBG] Connection id "0HNGFQGGA0GUT", Request id "0HNGFQGGA0GUT:00000004": done reading request body.
2025-10-20 15:28:50.850 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestForUpdateDto' of type 'CitiesApi.Models.PointOfInterestForUpdateDto'.
2025-10-20 15:28:50.851 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestForUpdateDto' of type 'CitiesApi.Models.PointOfInterestForUpdateDto'.
2025-10-20 15:28:50.852 +03:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestForUpdateDto' of type 'CitiesApi.Models.PointOfInterestForUpdateDto' ...
2025-10-20 15:28:50.854 +03:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestForUpdateDto' of type 'CitiesApi.Models.PointOfInterestForUpdateDto'.
2025-10-20 15:28:50.858 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-10-20 15:28:50.860 +03:00 [DBG] Creating DbConnection.
2025-10-20 15:28:50.861 +03:00 [DBG] Created DbConnection. (0ms).
2025-10-20 15:28:50.862 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:28:50.864 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:28:50.865 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:28:50.866 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-20 15:28:50.867 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-10-20 15:28:50.869 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[CityId] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-20 15:28:50.877 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[CityId] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-20 15:28:50.880 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:28:50.882 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 1ms reading results.
2025-10-20 15:28:50.884 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:28:50.885 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (1ms).
2025-10-20 15:28:50.887 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:28:50.888 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:28:50.890 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:28:50.891 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 15:28:50.892 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-10-20 15:28:50.893 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [PointOfInterests] AS [p]
        WHERE [p].[CityId] = @__cityId_0 AND [p].[PointOfInterestId] = @__pointOfInterestId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-20 15:28:50.900 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [PointOfInterests] AS [p]
        WHERE [p].[CityId] = @__cityId_0 AND [p].[PointOfInterestId] = @__pointOfInterestId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-20 15:28:50.908 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:28:50.911 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 2ms reading results.
2025-10-20 15:28:50.912 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:28:50.913 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (1ms).
2025-10-20 15:28:50.916 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:28:50.918 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:28:50.919 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:28:50.919 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-20 15:28:50.920 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-10-20 15:28:50.921 +03:00 [DBG] Executing DbCommand [Parameters=[@__pointOfInterestId_0='?' (DbType = Int32), @__cityId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PointOfInterestId], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointOfInterests] AS [p]
WHERE [p].[PointOfInterestId] = @__pointOfInterestId_0 AND [p].[CityId] = @__cityId_1
2025-10-20 15:28:50.928 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__pointOfInterestId_0='?' (DbType = Int32), @__cityId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PointOfInterestId], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointOfInterests] AS [p]
WHERE [p].[PointOfInterestId] = @__pointOfInterestId_0 AND [p].[CityId] = @__cityId_1
2025-10-20 15:28:50.931 +03:00 [DBG] Context 'AppDbContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:28:50.933 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:28:50.935 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 4ms reading results.
2025-10-20 15:28:50.937 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:28:50.938 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (1ms).
2025-10-20 15:28:50.941 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-10-20 15:28:50.942 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-10-20 15:28:50.944 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-10-20 15:28:50.946 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 0 entities written to the database.
2025-10-20 15:28:50.948 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-10-20 15:28:50.949 +03:00 [INF] Executed action CitiesApi.Controllers.PointsOfInterestController.UpdatePointOfInterest (CitiesApi) in 138.4186ms
2025-10-20 15:28:50.950 +03:00 [INF] Executed endpoint 'CitiesApi.Controllers.PointsOfInterestController.UpdatePointOfInterest (CitiesApi)'
2025-10-20 15:28:50.951 +03:00 [DBG] Connection id "0HNGFQGGA0GUT" completed keep alive response.
2025-10-20 15:28:50.952 +03:00 [DBG] 'AppDbContext' disposed.
2025-10-20 15:28:50.953 +03:00 [DBG] Disposing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:28:50.955 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-20 15:28:50.956 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7025/api/cities/1/pointsofinterest/2 - 204 null null 205.1553ms
2025-10-20 15:28:58.193 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7025/api/cities/1/pointsofinterest - null null
2025-10-20 15:28:58.198 +03:00 [DBG] The request path  does not match the path filter
2025-10-20 15:28:58.200 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2025-10-20 15:28:58.203 +03:00 [DBG] Endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointsOfInterest (CitiesApi)' with route pattern 'api/cities/{cityid}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2025-10-20 15:28:58.209 +03:00 [DBG] Request matched endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointsOfInterest (CitiesApi)'
2025-10-20 15:28:58.212 +03:00 [INF] Executing endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointsOfInterest (CitiesApi)'
2025-10-20 15:28:58.217 +03:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CitiesApi.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi).
2025-10-20 15:28:58.228 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-20 15:28:58.244 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-20 15:28:58.249 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-10-20 15:28:58.251 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-20 15:28:58.253 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-20 15:28:58.254 +03:00 [DBG] Executing controller factory for controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi)
2025-10-20 15:28:58.256 +03:00 [DBG] Executed controller factory for controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi)
2025-10-20 15:28:58.257 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2025-10-20 15:28:58.259 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2025-10-20 15:28:58.260 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-10-20 15:28:58.261 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-10-20 15:28:58.262 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2025-10-20 15:28:58.263 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2025-10-20 15:28:58.267 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-10-20 15:28:58.271 +03:00 [DBG] Creating DbConnection.
2025-10-20 15:28:58.272 +03:00 [DBG] Created DbConnection. (1ms).
2025-10-20 15:28:58.273 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:28:58.275 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:28:58.277 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:28:58.279 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 15:28:58.280 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-10-20 15:28:58.281 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[CityId] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-20 15:28:58.287 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[CityId] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-20 15:28:58.289 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:28:58.291 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 1ms reading results.
2025-10-20 15:28:58.292 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:28:58.293 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (1ms).
2025-10-20 15:28:58.296 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:28:58.300 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:28:58.302 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:28:58.305 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-10-20 15:28:58.307 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-10-20 15:28:58.309 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PointOfInterestId], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointOfInterests] AS [p]
WHERE [p].[CityId] = @__cityId_0
2025-10-20 15:28:58.316 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PointOfInterestId], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointOfInterests] AS [p]
WHERE [p].[CityId] = @__cityId_0
2025-10-20 15:28:58.322 +03:00 [DBG] Context 'AppDbContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:28:58.327 +03:00 [DBG] Context 'AppDbContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:28:58.329 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:28:58.331 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 8ms reading results.
2025-10-20 15:28:58.334 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:28:58.335 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (1ms).
2025-10-20 15:28:58.337 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-10-20 15:28:58.344 +03:00 [DBG] No information found on request to perform content negotiation.
2025-10-20 15:28:58.346 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-10-20 15:28:58.347 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-10-20 15:28:58.349 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-10-20 15:28:58.350 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CitiesApi.Models.PointOfInterestDto, CitiesApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-20 15:28:58.353 +03:00 [INF] Executed action CitiesApi.Controllers.PointsOfInterestController.GetPointsOfInterest (CitiesApi) in 98.9572ms
2025-10-20 15:28:58.355 +03:00 [INF] Executed endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointsOfInterest (CitiesApi)'
2025-10-20 15:28:58.357 +03:00 [DBG] Connection id "0HNGFQGGA0GUT" completed keep alive response.
2025-10-20 15:28:58.359 +03:00 [DBG] 'AppDbContext' disposed.
2025-10-20 15:28:58.361 +03:00 [DBG] Disposing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:28:58.363 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-10-20 15:28:58.365 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7025/api/cities/1/pointsofinterest - 200 222 application/json; charset=utf-8 171.9332ms
2025-10-20 15:29:07.762 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7025/api/cities/1/pointsofinterest/2 - null null
2025-10-20 15:29:07.770 +03:00 [DBG] The request path  does not match the path filter
2025-10-20 15:29:07.773 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/2'
2025-10-20 15:29:07.783 +03:00 [DBG] Endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointOfInterest (CitiesApi)' with route pattern 'api/cities/{cityid}/pointsofinterest/{PointOfInterestId}' is valid for the request path '/api/cities/1/pointsofinterest/2'
2025-10-20 15:29:07.790 +03:00 [DBG] Request matched endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointOfInterest (CitiesApi)'
2025-10-20 15:29:07.797 +03:00 [INF] Executing endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointOfInterest (CitiesApi)'
2025-10-20 15:29:07.815 +03:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CitiesApi.Models.PointOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi).
2025-10-20 15:29:07.826 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-20 15:29:07.838 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-20 15:29:07.841 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-10-20 15:29:07.847 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-20 15:29:07.849 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-20 15:29:07.851 +03:00 [DBG] Executing controller factory for controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi)
2025-10-20 15:29:07.853 +03:00 [DBG] Executed controller factory for controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi)
2025-10-20 15:29:07.854 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2025-10-20 15:29:07.856 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2025-10-20 15:29:07.857 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-10-20 15:29:07.859 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-10-20 15:29:07.860 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2025-10-20 15:29:07.862 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2025-10-20 15:29:07.863 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2025-10-20 15:29:07.864 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2025-10-20 15:29:07.866 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2025-10-20 15:29:07.867 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2025-10-20 15:29:07.868 +03:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2025-10-20 15:29:07.870 +03:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2025-10-20 15:29:07.874 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-10-20 15:29:07.876 +03:00 [DBG] Creating DbConnection.
2025-10-20 15:29:07.877 +03:00 [DBG] Created DbConnection. (1ms).
2025-10-20 15:29:07.878 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:29:07.880 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:29:07.881 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:29:07.882 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-20 15:29:07.883 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-10-20 15:29:07.884 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[CityId] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-20 15:29:07.893 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[CityId] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-20 15:29:07.895 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:29:07.896 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 1ms reading results.
2025-10-20 15:29:07.898 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:29:07.899 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (1ms).
2025-10-20 15:29:07.901 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:29:07.903 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:29:07.904 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:29:07.905 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-20 15:29:07.907 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-10-20 15:29:07.908 +03:00 [DBG] Executing DbCommand [Parameters=[@__pointOfInterestId_0='?' (DbType = Int32), @__cityId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PointOfInterestId], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointOfInterests] AS [p]
WHERE [p].[PointOfInterestId] = @__pointOfInterestId_0 AND [p].[CityId] = @__cityId_1
2025-10-20 15:29:07.913 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__pointOfInterestId_0='?' (DbType = Int32), @__cityId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PointOfInterestId], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointOfInterests] AS [p]
WHERE [p].[PointOfInterestId] = @__pointOfInterestId_0 AND [p].[CityId] = @__cityId_1
2025-10-20 15:29:07.915 +03:00 [DBG] Context 'AppDbContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:29:07.916 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:29:07.917 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 2ms reading results.
2025-10-20 15:29:07.918 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:29:07.920 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (1ms).
2025-10-20 15:29:07.923 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-10-20 15:29:07.925 +03:00 [DBG] No information found on request to perform content negotiation.
2025-10-20 15:29:07.926 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-10-20 15:29:07.926 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-10-20 15:29:07.927 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-10-20 15:29:07.928 +03:00 [INF] Executing OkObjectResult, writing value of type 'CitiesApi.Models.PointOfInterestDto'.
2025-10-20 15:29:07.930 +03:00 [INF] Executed action CitiesApi.Controllers.PointsOfInterestController.GetPointOfInterest (CitiesApi) in 79.035ms
2025-10-20 15:29:07.931 +03:00 [INF] Executed endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointOfInterest (CitiesApi)'
2025-10-20 15:29:07.932 +03:00 [DBG] Connection id "0HNGFQGGA0GUT" completed keep alive response.
2025-10-20 15:29:07.933 +03:00 [DBG] 'AppDbContext' disposed.
2025-10-20 15:29:07.934 +03:00 [DBG] Disposing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:29:07.935 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-20 15:29:07.937 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7025/api/cities/1/pointsofinterest/2 - 200 113 application/json; charset=utf-8 174.8223ms
2025-10-20 15:35:29.556 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-10-20 15:35:29.727 +03:00 [DBG] Hosting starting
2025-10-20 15:35:29.753 +03:00 [DBG] Middleware loaded
2025-10-20 15:35:29.760 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16503 B).
2025-10-20 15:35:29.765 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-10-20 15:35:29.896 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-10-20 15:35:30.095 +03:00 [DBG] Connection id "0HNGFQKJQFMJV" received FIN.
2025-10-20 15:35:30.095 +03:00 [DBG] Connection id "0HNGFQKJQFMK0" received FIN.
2025-10-20 15:35:30.100 +03:00 [DBG] Connection id "0HNGFQKJQFMJV" accepted.
2025-10-20 15:35:30.100 +03:00 [DBG] Connection id "0HNGFQKJQFMK0" accepted.
2025-10-20 15:35:30.102 +03:00 [DBG] Connection id "0HNGFQKJQFMJV" started.
2025-10-20 15:35:30.103 +03:00 [DBG] Connection id "0HNGFQKJQFMK0" started.
2025-10-20 15:35:30.103 +03:00 [INF] Now listening on: https://localhost:7025
2025-10-20 15:35:30.105 +03:00 [INF] Now listening on: http://localhost:5105
2025-10-20 15:35:30.106 +03:00 [DBG] Loaded hosting startup assembly CitiesApi
2025-10-20 15:35:30.111 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-10-20 15:35:30.112 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-10-20 15:35:30.114 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-10-20 15:35:30.124 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-20 15:35:30.124 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-20 15:35:30.167 +03:00 [DBG] Connection id "0HNGFQKJQFMK0" stopped.
2025-10-20 15:35:30.171 +03:00 [DBG] Connection id "0HNGFQKJQFMJV" stopped.
2025-10-20 15:35:30.190 +03:00 [DBG] Connection id "0HNGFQKJQFMK0" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-20 15:35:30.190 +03:00 [DBG] Connection id "0HNGFQKJQFMJV" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-20 15:35:30.195 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-20 15:35:30.197 +03:00 [INF] Hosting environment: Development
2025-10-20 15:35:30.197 +03:00 [INF] Content root path: D:\Projects\CitiesApi\CitiesApi
2025-10-20 15:35:30.198 +03:00 [DBG] Hosting started
2025-10-20 15:35:30.471 +03:00 [DBG] Connection id "0HNGFQKJQFMK1" accepted.
2025-10-20 15:35:30.517 +03:00 [DBG] Connection id "0HNGFQKJQFMK1" started.
2025-10-20 15:35:30.568 +03:00 [DBG] Connection 0HNGFQKJQFMK1 established using the following protocol: "Tls13"
2025-10-20 15:35:30.615 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/swagger/index.html - null null
2025-10-20 15:35:30.725 +03:00 [WRN] Unable to contact VS to retrieve Browser Link script tag.
2025-10-20 15:35:30.727 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-10-20 15:35:30.770 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-10-20 15:35:30.786 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-10-20 15:35:30.789 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/swagger/index.html - 200 null text/html;charset=utf-8 178.2115ms
2025-10-20 15:35:30.929 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/_framework/aspnetcore-browser-refresh.js - null null
2025-10-20 15:35:30.983 +03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-10-20 15:35:30.985 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/_framework/aspnetcore-browser-refresh.js - 200 16503 application/javascript; charset=utf-8 55.6368ms
2025-10-20 15:35:31.126 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/swagger/v1/swagger.json - null null
2025-10-20 15:35:31.144 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 17.8638ms
2025-10-20 15:35:37.011 +03:00 [DBG] Connection id "0HNGFQKJQFMK2" accepted.
2025-10-20 15:35:37.012 +03:00 [DBG] Connection id "0HNGFQKJQFMK2" started.
2025-10-20 15:35:37.012 +03:00 [DBG] Connection id "0HNGFQKJQFMK2" received FIN.
2025-10-20 15:35:37.012 +03:00 [DBG] Connection id "0HNGFQKJQFMK3" accepted.
2025-10-20 15:35:37.017 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-20 15:35:37.017 +03:00 [DBG] Connection id "0HNGFQKJQFMK3" started.
2025-10-20 15:35:37.022 +03:00 [DBG] Connection id "0HNGFQKJQFMK2" stopped.
2025-10-20 15:35:37.025 +03:00 [DBG] Connection id "0HNGFQKJQFMK2" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-20 15:35:37.044 +03:00 [DBG] Connection 0HNGFQKJQFMK3 established using the following protocol: "Tls13"
2025-10-20 15:35:37.055 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7025/api/cities/1/pointsofinterest/2 - null null
2025-10-20 15:35:37.068 +03:00 [DBG] The request path  does not match the path filter
2025-10-20 15:35:37.112 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/2'
2025-10-20 15:35:37.122 +03:00 [DBG] Endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointOfInterest (CitiesApi)' with route pattern 'api/cities/{cityid}/pointsofinterest/{PointOfInterestId}' is valid for the request path '/api/cities/1/pointsofinterest/2'
2025-10-20 15:35:37.126 +03:00 [DBG] Request matched endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointOfInterest (CitiesApi)'
2025-10-20 15:35:37.133 +03:00 [INF] Executing endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointOfInterest (CitiesApi)'
2025-10-20 15:35:37.183 +03:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CitiesApi.Models.PointOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi).
2025-10-20 15:35:37.192 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-20 15:35:37.195 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-20 15:35:37.197 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-10-20 15:35:37.199 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-20 15:35:37.201 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-20 15:35:37.204 +03:00 [DBG] Executing controller factory for controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi)
2025-10-20 15:35:37.410 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-10-20 15:35:37.667 +03:00 [DBG] Executed controller factory for controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi)
2025-10-20 15:35:37.679 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2025-10-20 15:35:37.686 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2025-10-20 15:35:37.692 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-10-20 15:35:37.694 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-10-20 15:35:37.697 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2025-10-20 15:35:37.701 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2025-10-20 15:35:37.709 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2025-10-20 15:35:37.711 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2025-10-20 15:35:37.715 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2025-10-20 15:35:37.717 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2025-10-20 15:35:37.722 +03:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2025-10-20 15:35:37.725 +03:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2025-10-20 15:35:38.132 +03:00 [DBG] Connection id "0HNGFQKJQFMK1" received FIN.
2025-10-20 15:35:38.137 +03:00 [DBG] The connection queue processing loop for 0HNGFQKJQFMK1 completed.
2025-10-20 15:35:38.140 +03:00 [DBG] Connection id "0HNGFQKJQFMK1" is closed. The last processed stream ID was 5.
2025-10-20 15:35:38.143 +03:00 [DBG] Connection id "0HNGFQKJQFMK1" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-20 15:35:38.147 +03:00 [DBG] Connection id "0HNGFQKJQFMK1" stopped.
2025-10-20 15:35:38.831 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-10-20 15:35:38.932 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.CityId == __cityId_0)'
2025-10-20 15:35:39.170 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.CityId == @__cityId_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CitiesApi.Data.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-10-20 15:35:39.237 +03:00 [DBG] Creating DbConnection.
2025-10-20 15:35:39.278 +03:00 [DBG] Created DbConnection. (41ms).
2025-10-20 15:35:39.287 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:35:39.858 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:35:39.865 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:35:39.872 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2025-10-20 15:35:39.889 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (24ms).
2025-10-20 15:35:39.907 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[CityId] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-20 15:35:40.047 +03:00 [INF] Executed DbCommand (146ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[CityId] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-20 15:35:40.077 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:35:40.090 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 32ms reading results.
2025-10-20 15:35:40.095 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:35:40.107 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (11ms).
2025-10-20 15:35:40.118 +03:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .FirstOrDefault(P => P.PointOfInterestId == __pointOfInterestId_0 && P.CityId == __cityId_1)'
2025-10-20 15:35:40.189 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.PointOfInterestId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(500), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.PointOfInterestId, p.CityId, p.Description, p.Name
            FROM PointOfInterests AS p
            WHERE (p.PointOfInterestId == @__pointOfInterestId_0) && (p.CityId == @__cityId_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CitiesApi.Data.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-10-20 15:35:40.203 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:35:40.206 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:35:40.209 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:35:40.211 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-10-20 15:35:40.214 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-10-20 15:35:40.217 +03:00 [DBG] Executing DbCommand [Parameters=[@__pointOfInterestId_0='?' (DbType = Int32), @__cityId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PointOfInterestId], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointOfInterests] AS [p]
WHERE [p].[PointOfInterestId] = @__pointOfInterestId_0 AND [p].[CityId] = @__cityId_1
2025-10-20 15:35:40.238 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__pointOfInterestId_0='?' (DbType = Int32), @__cityId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PointOfInterestId], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointOfInterests] AS [p]
WHERE [p].[PointOfInterestId] = @__pointOfInterestId_0 AND [p].[CityId] = @__cityId_1
2025-10-20 15:35:40.268 +03:00 [DBG] Context 'AppDbContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:35:40.294 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:35:40.296 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 54ms reading results.
2025-10-20 15:35:40.298 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:35:40.300 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (1ms).
2025-10-20 15:35:40.318 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-10-20 15:35:40.322 +03:00 [DBG] No information found on request to perform content negotiation.
2025-10-20 15:35:40.324 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-10-20 15:35:40.325 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-10-20 15:35:40.327 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-10-20 15:35:40.329 +03:00 [INF] Executing OkObjectResult, writing value of type 'CitiesApi.Models.PointOfInterestDto'.
2025-10-20 15:35:40.499 +03:00 [INF] Executed action CitiesApi.Controllers.PointsOfInterestController.GetPointOfInterest (CitiesApi) in 3291.7669ms
2025-10-20 15:35:40.504 +03:00 [INF] Executed endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointOfInterest (CitiesApi)'
2025-10-20 15:35:40.508 +03:00 [DBG] Connection id "0HNGFQKJQFMK3" completed keep alive response.
2025-10-20 15:35:40.512 +03:00 [DBG] 'AppDbContext' disposed.
2025-10-20 15:35:40.519 +03:00 [DBG] Disposing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:35:40.524 +03:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-10-20 15:35:40.526 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7025/api/cities/1/pointsofinterest/2 - 200 113 application/json; charset=utf-8 3472.1187ms
2025-10-20 15:35:48.779 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7025/api/cities/1/pointsofinterest/2 - application/json 122
2025-10-20 15:35:48.783 +03:00 [DBG] PUT requests are not supported
2025-10-20 15:35:48.784 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/2'
2025-10-20 15:35:48.785 +03:00 [DBG] Endpoint 'CitiesApi.Controllers.PointsOfInterestController.UpdatePointOfInterest (CitiesApi)' with route pattern 'api/cities/{cityid}/pointsofinterest/{PointOfInterestId}' is valid for the request path '/api/cities/1/pointsofinterest/2'
2025-10-20 15:35:48.787 +03:00 [DBG] Request matched endpoint 'CitiesApi.Controllers.PointsOfInterestController.UpdatePointOfInterest (CitiesApi)'
2025-10-20 15:35:48.788 +03:00 [INF] Executing endpoint 'CitiesApi.Controllers.PointsOfInterestController.UpdatePointOfInterest (CitiesApi)'
2025-10-20 15:35:48.799 +03:00 [INF] Route matched with {action = "UpdatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdatePointOfInterest(Int32, Int32, CitiesApi.Models.PointOfInterestForUpdateDto) on controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi).
2025-10-20 15:35:48.801 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-20 15:35:48.803 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-20 15:35:48.804 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-10-20 15:35:48.806 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-20 15:35:48.807 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-20 15:35:48.809 +03:00 [DBG] Executing controller factory for controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi)
2025-10-20 15:35:48.812 +03:00 [DBG] Executed controller factory for controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi)
2025-10-20 15:35:48.814 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2025-10-20 15:35:48.815 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2025-10-20 15:35:48.817 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-10-20 15:35:48.819 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-10-20 15:35:48.820 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2025-10-20 15:35:48.821 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2025-10-20 15:35:48.822 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2025-10-20 15:35:48.826 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2025-10-20 15:35:48.828 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2025-10-20 15:35:48.830 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2025-10-20 15:35:48.833 +03:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2025-10-20 15:35:48.834 +03:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2025-10-20 15:35:48.836 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestForUpdate' of type 'CitiesApi.Models.PointOfInterestForUpdateDto' ...
2025-10-20 15:35:48.839 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestForUpdate' of type 'CitiesApi.Models.PointOfInterestForUpdateDto' using the name '' in request data ...
2025-10-20 15:35:48.842 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2025-10-20 15:35:48.845 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2025-10-20 15:35:48.854 +03:00 [DBG] Connection id "0HNGFQKJQFMK3", Request id "0HNGFQKJQFMK3:00000002": started reading request body.
2025-10-20 15:35:48.855 +03:00 [DBG] Connection id "0HNGFQKJQFMK3", Request id "0HNGFQKJQFMK3:00000002": done reading request body.
2025-10-20 15:35:48.896 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestForUpdate' of type 'CitiesApi.Models.PointOfInterestForUpdateDto'.
2025-10-20 15:35:48.899 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestForUpdate' of type 'CitiesApi.Models.PointOfInterestForUpdateDto'.
2025-10-20 15:35:48.902 +03:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestForUpdate' of type 'CitiesApi.Models.PointOfInterestForUpdateDto' ...
2025-10-20 15:35:48.913 +03:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestForUpdate' of type 'CitiesApi.Models.PointOfInterestForUpdateDto'.
2025-10-20 15:35:48.971 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-10-20 15:35:48.978 +03:00 [DBG] Creating DbConnection.
2025-10-20 15:35:48.980 +03:00 [DBG] Created DbConnection. (1ms).
2025-10-20 15:35:48.981 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:35:48.984 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:35:48.986 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:35:48.987 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 15:35:48.989 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-10-20 15:35:48.990 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[CityId] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-20 15:35:49.001 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[CityId] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-20 15:35:49.004 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:35:49.006 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 2ms reading results.
2025-10-20 15:35:49.009 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:35:49.011 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (2ms).
2025-10-20 15:35:49.016 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:35:49.020 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:35:49.022 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:35:49.023 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 15:35:49.026 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-10-20 15:35:49.027 +03:00 [DBG] Executing DbCommand [Parameters=[@__pointOfInterestId_0='?' (DbType = Int32), @__cityId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PointOfInterestId], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointOfInterests] AS [p]
WHERE [p].[PointOfInterestId] = @__pointOfInterestId_0 AND [p].[CityId] = @__cityId_1
2025-10-20 15:35:49.034 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__pointOfInterestId_0='?' (DbType = Int32), @__cityId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PointOfInterestId], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointOfInterests] AS [p]
WHERE [p].[PointOfInterestId] = @__pointOfInterestId_0 AND [p].[CityId] = @__cityId_1
2025-10-20 15:35:49.038 +03:00 [DBG] Context 'AppDbContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:35:49.040 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:35:49.041 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 3ms reading results.
2025-10-20 15:35:49.043 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:35:49.044 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (1ms).
2025-10-20 15:35:49.052 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-10-20 15:35:49.057 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-10-20 15:35:49.081 +03:00 [DBG] The unchanged property 'PointOfInterest.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-10-20 15:35:49.097 +03:00 [DBG] An entity of type 'PointOfInterest' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:35:49.100 +03:00 [DBG] The unchanged property 'PointOfInterest.Name' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-10-20 15:35:49.108 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-10-20 15:35:49.225 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:35:49.226 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:35:49.231 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:35:49.236 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-10-20 15:35:49.240 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-10-20 15:35:49.243 +03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 500), @p1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [PointOfInterests] SET [Description] = @p0, [Name] = @p1
OUTPUT 1
WHERE [PointOfInterestId] = @p2;
2025-10-20 15:35:49.268 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 500), @p1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [PointOfInterests] SET [Description] = @p0, [Name] = @p1
OUTPUT 1
WHERE [PointOfInterestId] = @p2;
2025-10-20 15:35:49.293 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:35:49.296 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 18ms reading results.
2025-10-20 15:35:49.305 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:35:49.308 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (3ms).
2025-10-20 15:35:49.322 +03:00 [DBG] An entity of type 'PointOfInterest' tracked by 'AppDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:35:49.329 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-10-20 15:35:49.336 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-10-20 15:35:49.338 +03:00 [INF] Executed action CitiesApi.Controllers.PointsOfInterestController.UpdatePointOfInterest (CitiesApi) in 529.2692ms
2025-10-20 15:35:49.340 +03:00 [INF] Executed endpoint 'CitiesApi.Controllers.PointsOfInterestController.UpdatePointOfInterest (CitiesApi)'
2025-10-20 15:35:49.342 +03:00 [DBG] Connection id "0HNGFQKJQFMK3" completed keep alive response.
2025-10-20 15:35:49.343 +03:00 [DBG] 'AppDbContext' disposed.
2025-10-20 15:35:49.345 +03:00 [DBG] Disposing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:35:49.347 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-10-20 15:35:49.350 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7025/api/cities/1/pointsofinterest/2 - 204 null null 570.7566ms
2025-10-20 15:35:51.997 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7025/api/cities/1/pointsofinterest/2 - null null
2025-10-20 15:35:52.002 +03:00 [DBG] The request path  does not match the path filter
2025-10-20 15:35:52.003 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/2'
2025-10-20 15:35:52.005 +03:00 [DBG] Endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointOfInterest (CitiesApi)' with route pattern 'api/cities/{cityid}/pointsofinterest/{PointOfInterestId}' is valid for the request path '/api/cities/1/pointsofinterest/2'
2025-10-20 15:35:52.007 +03:00 [DBG] Request matched endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointOfInterest (CitiesApi)'
2025-10-20 15:35:52.008 +03:00 [INF] Executing endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointOfInterest (CitiesApi)'
2025-10-20 15:35:52.009 +03:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CitiesApi.Models.PointOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi).
2025-10-20 15:35:52.011 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-20 15:35:52.013 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-20 15:35:52.014 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-10-20 15:35:52.016 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-20 15:35:52.017 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-20 15:35:52.019 +03:00 [DBG] Executing controller factory for controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi)
2025-10-20 15:35:52.025 +03:00 [DBG] Executed controller factory for controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi)
2025-10-20 15:35:52.027 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2025-10-20 15:35:52.028 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2025-10-20 15:35:52.030 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-10-20 15:35:52.032 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-10-20 15:35:52.035 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2025-10-20 15:35:52.037 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2025-10-20 15:35:52.038 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2025-10-20 15:35:52.039 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2025-10-20 15:35:52.041 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2025-10-20 15:35:52.042 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2025-10-20 15:35:52.043 +03:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2025-10-20 15:35:52.044 +03:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2025-10-20 15:35:52.134 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-10-20 15:35:52.139 +03:00 [DBG] Creating DbConnection.
2025-10-20 15:35:52.140 +03:00 [DBG] Created DbConnection. (1ms).
2025-10-20 15:35:52.143 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:35:52.148 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:35:52.161 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:35:52.162 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 15:35:52.164 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-10-20 15:35:52.165 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[CityId] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-20 15:35:52.168 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[CityId] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-20 15:35:52.171 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:35:52.172 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 1ms reading results.
2025-10-20 15:35:52.174 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:35:52.175 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (1ms).
2025-10-20 15:35:52.177 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:35:52.178 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:35:52.179 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:35:52.180 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-20 15:35:52.181 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-10-20 15:35:52.182 +03:00 [DBG] Executing DbCommand [Parameters=[@__pointOfInterestId_0='?' (DbType = Int32), @__cityId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PointOfInterestId], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointOfInterests] AS [p]
WHERE [p].[PointOfInterestId] = @__pointOfInterestId_0 AND [p].[CityId] = @__cityId_1
2025-10-20 15:35:52.185 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__pointOfInterestId_0='?' (DbType = Int32), @__cityId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PointOfInterestId], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointOfInterests] AS [p]
WHERE [p].[PointOfInterestId] = @__pointOfInterestId_0 AND [p].[CityId] = @__cityId_1
2025-10-20 15:35:52.189 +03:00 [DBG] Context 'AppDbContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:35:52.190 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:35:52.192 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 3ms reading results.
2025-10-20 15:35:52.193 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:35:52.194 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (1ms).
2025-10-20 15:35:52.197 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-10-20 15:35:52.200 +03:00 [DBG] No information found on request to perform content negotiation.
2025-10-20 15:35:52.201 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-10-20 15:35:52.202 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-10-20 15:35:52.204 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-10-20 15:35:52.206 +03:00 [INF] Executing OkObjectResult, writing value of type 'CitiesApi.Models.PointOfInterestDto'.
2025-10-20 15:35:52.208 +03:00 [INF] Executed action CitiesApi.Controllers.PointsOfInterestController.GetPointOfInterest (CitiesApi) in 189.0607ms
2025-10-20 15:35:52.210 +03:00 [INF] Executed endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointOfInterest (CitiesApi)'
2025-10-20 15:35:52.211 +03:00 [DBG] Connection id "0HNGFQKJQFMK3" completed keep alive response.
2025-10-20 15:35:52.213 +03:00 [DBG] 'AppDbContext' disposed.
2025-10-20 15:35:52.214 +03:00 [DBG] Disposing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:35:52.215 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-20 15:35:52.217 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7025/api/cities/1/pointsofinterest/2 - 200 131 application/json; charset=utf-8 219.4407ms
2025-10-20 15:35:55.411 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7025/api/cities/1/pointsofinterest - null null
2025-10-20 15:35:55.415 +03:00 [DBG] The request path  does not match the path filter
2025-10-20 15:35:55.417 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2025-10-20 15:35:55.421 +03:00 [DBG] Endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointsOfInterest (CitiesApi)' with route pattern 'api/cities/{cityid}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2025-10-20 15:35:55.424 +03:00 [DBG] Request matched endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointsOfInterest (CitiesApi)'
2025-10-20 15:35:55.426 +03:00 [INF] Executing endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointsOfInterest (CitiesApi)'
2025-10-20 15:35:55.448 +03:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CitiesApi.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi).
2025-10-20 15:35:55.457 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-20 15:35:55.458 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-20 15:35:55.460 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-10-20 15:35:55.462 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-20 15:35:55.463 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-20 15:35:55.465 +03:00 [DBG] Executing controller factory for controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi)
2025-10-20 15:35:55.466 +03:00 [DBG] Executed controller factory for controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi)
2025-10-20 15:35:55.467 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2025-10-20 15:35:55.469 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2025-10-20 15:35:55.471 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-10-20 15:35:55.473 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-10-20 15:35:55.475 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2025-10-20 15:35:55.476 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2025-10-20 15:35:55.479 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-10-20 15:35:55.482 +03:00 [DBG] Creating DbConnection.
2025-10-20 15:35:55.483 +03:00 [DBG] Created DbConnection. (0ms).
2025-10-20 15:35:55.484 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:35:55.486 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:35:55.487 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:35:55.488 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-20 15:35:55.489 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-10-20 15:35:55.490 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[CityId] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-20 15:35:55.493 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[CityId] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-20 15:35:55.496 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:35:55.498 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 1ms reading results.
2025-10-20 15:35:55.500 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:35:55.501 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (1ms).
2025-10-20 15:35:55.510 +03:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0)'
2025-10-20 15:35:55.518 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.PointOfInterestId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(500), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.PointOfInterestId, p.CityId, p.Description, p.Name
        FROM PointOfInterests AS p
        WHERE p.CityId == @__cityId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CitiesApi.Data.AppDbContext, 
    False, 
    False, 
    True
)'
2025-10-20 15:35:55.520 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:35:55.521 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:35:55.522 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:35:55.523 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-20 15:35:55.525 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-10-20 15:35:55.526 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PointOfInterestId], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointOfInterests] AS [p]
WHERE [p].[CityId] = @__cityId_0
2025-10-20 15:35:55.533 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PointOfInterestId], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointOfInterests] AS [p]
WHERE [p].[CityId] = @__cityId_0
2025-10-20 15:35:55.536 +03:00 [DBG] Context 'AppDbContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:35:55.539 +03:00 [DBG] Context 'AppDbContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:35:55.541 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:35:55.542 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 5ms reading results.
2025-10-20 15:35:55.543 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:35:55.544 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (1ms).
2025-10-20 15:35:55.557 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-10-20 15:35:55.560 +03:00 [DBG] No information found on request to perform content negotiation.
2025-10-20 15:35:55.561 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-10-20 15:35:55.561 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-10-20 15:35:55.562 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-10-20 15:35:55.563 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CitiesApi.Models.PointOfInterestDto, CitiesApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-20 15:35:55.574 +03:00 [INF] Executed action CitiesApi.Controllers.PointsOfInterestController.GetPointsOfInterest (CitiesApi) in 109.4708ms
2025-10-20 15:35:55.576 +03:00 [INF] Executed endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointsOfInterest (CitiesApi)'
2025-10-20 15:35:55.577 +03:00 [DBG] Connection id "0HNGFQKJQFMK3" completed keep alive response.
2025-10-20 15:35:55.578 +03:00 [DBG] 'AppDbContext' disposed.
2025-10-20 15:35:55.578 +03:00 [DBG] Disposing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:35:55.580 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-20 15:35:55.583 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7025/api/cities/1/pointsofinterest - 200 240 application/json; charset=utf-8 171.9526ms
2025-10-20 15:45:22.252 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-10-20 15:45:22.479 +03:00 [DBG] Hosting starting
2025-10-20 15:45:22.499 +03:00 [DBG] Middleware loaded
2025-10-20 15:45:22.508 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16503 B).
2025-10-20 15:45:22.516 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-10-20 15:45:22.675 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-10-20 15:45:22.873 +03:00 [INF] Now listening on: https://localhost:7025
2025-10-20 15:45:22.875 +03:00 [INF] Now listening on: http://localhost:5105
2025-10-20 15:45:22.877 +03:00 [DBG] Loaded hosting startup assembly CitiesApi
2025-10-20 15:45:22.879 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-10-20 15:45:22.880 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-10-20 15:45:22.882 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-10-20 15:45:23.027 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-20 15:45:23.033 +03:00 [INF] Hosting environment: Development
2025-10-20 15:45:23.037 +03:00 [INF] Content root path: D:\Projects\CitiesApi\CitiesApi
2025-10-20 15:45:23.045 +03:00 [DBG] Hosting started
2025-10-20 15:45:23.197 +03:00 [DBG] Connection id "0HNGFQQ4IN7PB" accepted.
2025-10-20 15:45:23.246 +03:00 [DBG] Connection id "0HNGFQQ4IN7PA" received FIN.
2025-10-20 15:45:23.200 +03:00 [DBG] Connection id "0HNGFQQ4IN7PB" received FIN.
2025-10-20 15:45:23.197 +03:00 [DBG] Connection id "0HNGFQQ4IN7PA" accepted.
2025-10-20 15:45:23.280 +03:00 [DBG] Connection id "0HNGFQQ4IN7PA" started.
2025-10-20 15:45:23.275 +03:00 [DBG] Connection id "0HNGFQQ4IN7PB" started.
2025-10-20 15:45:23.340 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-20 15:45:23.340 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-20 15:45:23.646 +03:00 [DBG] Connection id "0HNGFQQ4IN7PA" stopped.
2025-10-20 15:45:23.663 +03:00 [DBG] Connection id "0HNGFQQ4IN7PB" stopped.
2025-10-20 15:45:23.672 +03:00 [DBG] Connection id "0HNGFQQ4IN7PA" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-20 15:45:23.672 +03:00 [DBG] Connection id "0HNGFQQ4IN7PB" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-20 15:45:23.763 +03:00 [DBG] Connection id "0HNGFQQ4IN7PC" accepted.
2025-10-20 15:45:23.769 +03:00 [DBG] Connection id "0HNGFQQ4IN7PC" started.
2025-10-20 15:45:23.877 +03:00 [DBG] Connection 0HNGFQQ4IN7PC established using the following protocol: "Tls13"
2025-10-20 15:45:23.966 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/swagger/index.html - null null
2025-10-20 15:45:24.206 +03:00 [WRN] Unable to contact VS to retrieve Browser Link script tag.
2025-10-20 15:45:24.212 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-10-20 15:45:24.429 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-10-20 15:45:24.556 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-10-20 15:45:24.585 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/swagger/index.html - 200 null text/html;charset=utf-8 627.6763ms
2025-10-20 15:45:24.710 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/_framework/aspnetcore-browser-refresh.js - null null
2025-10-20 15:45:24.757 +03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-10-20 15:45:24.766 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/_framework/aspnetcore-browser-refresh.js - 200 16503 application/javascript; charset=utf-8 56.177ms
2025-10-20 15:45:24.888 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/swagger/v1/swagger.json - null null
2025-10-20 15:45:24.992 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 104.335ms
2025-10-20 15:45:29.003 +03:00 [DBG] Connection id "0HNGFQQ4IN7PC" received FIN.
2025-10-20 15:45:29.010 +03:00 [DBG] The connection queue processing loop for 0HNGFQQ4IN7PC completed.
2025-10-20 15:45:29.014 +03:00 [DBG] Connection id "0HNGFQQ4IN7PC" is closed. The last processed stream ID was 5.
2025-10-20 15:45:29.018 +03:00 [DBG] Connection id "0HNGFQQ4IN7PC" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-20 15:45:29.031 +03:00 [DBG] Connection id "0HNGFQQ4IN7PC" stopped.
2025-10-20 15:46:22.631 +03:00 [DBG] Connection id "0HNGFQQ4IN7PD" received FIN.
2025-10-20 15:46:22.654 +03:00 [DBG] Connection id "0HNGFQQ4IN7PD" accepted.
2025-10-20 15:46:22.656 +03:00 [DBG] Connection id "0HNGFQQ4IN7PD" started.
2025-10-20 15:46:22.664 +03:00 [DBG] Connection id "0HNGFQQ4IN7PE" accepted.
2025-10-20 15:46:22.671 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-20 15:46:22.671 +03:00 [DBG] Connection id "0HNGFQQ4IN7PE" started.
2025-10-20 15:46:22.675 +03:00 [DBG] Connection id "0HNGFQQ4IN7PD" stopped.
2025-10-20 15:46:22.677 +03:00 [DBG] Connection id "0HNGFQQ4IN7PD" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-20 15:46:22.689 +03:00 [DBG] Connection 0HNGFQQ4IN7PE established using the following protocol: "Tls13"
2025-10-20 15:46:22.700 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7025/api/cities/1/includePointsOfInterest ture - null null
2025-10-20 15:46:22.710 +03:00 [DBG] The request path  does not match the path filter
2025-10-20 15:46:22.756 +03:00 [DBG] No candidates found for the request path '/api/cities/1/includePointsOfInterest ture'
2025-10-20 15:46:22.760 +03:00 [DBG] Request did not match any endpoints
2025-10-20 15:46:22.770 +03:00 [DBG] Connection id "0HNGFQQ4IN7PE" completed keep alive response.
2025-10-20 15:46:22.774 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7025/api/cities/1/includePointsOfInterest ture - 404 0 null 74.5855ms
2025-10-20 15:46:22.781 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7025/api/cities/1/includePointsOfInterest%20ture, Response status code: 404
2025-10-20 15:46:25.910 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7025/api/cities/1/?includePointsOfInterest=ture - null null
2025-10-20 15:46:25.917 +03:00 [DBG] The request path  does not match the path filter
2025-10-20 15:46:25.927 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/'
2025-10-20 15:46:25.937 +03:00 [DBG] Endpoint 'CitiesApi.Controllers.CitiesController.GetCity (CitiesApi)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1/'
2025-10-20 15:46:25.941 +03:00 [DBG] Request matched endpoint 'CitiesApi.Controllers.CitiesController.GetCity (CitiesApi)'
2025-10-20 15:46:25.944 +03:00 [INF] Executing endpoint 'CitiesApi.Controllers.CitiesController.GetCity (CitiesApi)'
2025-10-20 15:46:26.003 +03:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CitiesApi.Controllers.CitiesController (CitiesApi).
2025-10-20 15:46:26.008 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-20 15:46:26.011 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-20 15:46:26.013 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-10-20 15:46:26.017 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-20 15:46:26.020 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-20 15:46:26.025 +03:00 [DBG] Executing controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-20 15:46:26.298 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-10-20 15:46:26.629 +03:00 [DBG] Executed controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-20 15:46:26.648 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-10-20 15:46:26.656 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-10-20 15:46:26.661 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-10-20 15:46:26.663 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-10-20 15:46:26.665 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-10-20 15:46:26.672 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-10-20 15:46:26.676 +03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2025-10-20 15:46:26.678 +03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2025-10-20 15:46:26.688 +03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-10-20 15:46:26.690 +03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-10-20 15:46:26.691 +03:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2025-10-20 15:46:26.692 +03:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-10-20 15:46:26.695 +03:00 [DBG] The request has model state errors, returning an error response.
2025-10-20 15:46:26.697 +03:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2025-10-20 15:46:26.702 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-10-20 15:46:26.706 +03:00 [DBG] No information found on request to perform content negotiation.
2025-10-20 15:46:26.708 +03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-10-20 15:46:26.713 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-10-20 15:46:26.714 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-10-20 15:46:26.920 +03:00 [INF] Executed action CitiesApi.Controllers.CitiesController.GetCity (CitiesApi) in 893.6928ms
2025-10-20 15:46:26.922 +03:00 [INF] Executed endpoint 'CitiesApi.Controllers.CitiesController.GetCity (CitiesApi)'
2025-10-20 15:46:26.926 +03:00 [DBG] Connection id "0HNGFQQ4IN7PE" completed keep alive response.
2025-10-20 15:46:26.931 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7025/api/cities/1/?includePointsOfInterest=ture - 400 264 application/problem+json; charset=utf-8 1020.9659ms
2025-10-20 15:46:35.545 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7025/api/cities/1/?includePointsOfInterest=true - null null
2025-10-20 15:46:35.548 +03:00 [DBG] The request path  does not match the path filter
2025-10-20 15:46:35.549 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/'
2025-10-20 15:46:35.551 +03:00 [DBG] Endpoint 'CitiesApi.Controllers.CitiesController.GetCity (CitiesApi)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1/'
2025-10-20 15:46:35.552 +03:00 [DBG] Request matched endpoint 'CitiesApi.Controllers.CitiesController.GetCity (CitiesApi)'
2025-10-20 15:46:35.553 +03:00 [INF] Executing endpoint 'CitiesApi.Controllers.CitiesController.GetCity (CitiesApi)'
2025-10-20 15:46:35.556 +03:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CitiesApi.Controllers.CitiesController (CitiesApi).
2025-10-20 15:46:35.557 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-20 15:46:35.559 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-20 15:46:35.561 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-10-20 15:46:35.565 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-20 15:46:35.567 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-20 15:46:35.571 +03:00 [DBG] Executing controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-20 15:46:35.588 +03:00 [DBG] Executed controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-20 15:46:35.590 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-10-20 15:46:35.592 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-10-20 15:46:35.595 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-10-20 15:46:35.597 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-10-20 15:46:35.601 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-10-20 15:46:35.606 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-10-20 15:46:35.611 +03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2025-10-20 15:46:35.615 +03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2025-10-20 15:46:35.617 +03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-10-20 15:46:35.620 +03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-10-20 15:46:35.622 +03:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2025-10-20 15:46:35.628 +03:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-10-20 15:46:36.912 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-10-20 15:46:37.077 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(c => c.PointsOfInterest)
    .Where(c => c.CityId == __cityId_0)
    .FirstOrDefault()'
2025-10-20 15:46:37.162 +03:00 [DBG] Including navigation: 'City.PointsOfInterest'.
2025-10-20 15:46:37.605 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.CityId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(500), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.PointOfInterestId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) MaxLength(500), 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.CityId, t.Description, t.Name, p.PointOfInterestId, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.CityId, c.Description, c.Name
                FROM Cities AS c
                WHERE c.CityId == @__cityId_0
            ) AS t
            LEFT JOIN PointOfInterests AS p ON t.CityId == p.CityId
            ORDER BY t.CityId ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CitiesApi.Data.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-10-20 15:46:37.667 +03:00 [DBG] Creating DbConnection.
2025-10-20 15:46:37.715 +03:00 [DBG] Created DbConnection. (46ms).
2025-10-20 15:46:37.723 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:46:38.256 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:46:38.268 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:46:38.282 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (14ms).
2025-10-20 15:46:38.301 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (34ms).
2025-10-20 15:46:38.321 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[CityId], [t].[Description], [t].[Name], [p].[PointOfInterestId], [p].[CityId], [p].[Description], [p].[Name]
FROM (
    SELECT TOP(1) [c].[CityId], [c].[Description], [c].[Name]
    FROM [Cities] AS [c]
    WHERE [c].[CityId] = @__cityId_0
) AS [t]
LEFT JOIN [PointOfInterests] AS [p] ON [t].[CityId] = [p].[CityId]
ORDER BY [t].[CityId]
2025-10-20 15:46:38.577 +03:00 [INF] Executed DbCommand (259ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[CityId], [t].[Description], [t].[Name], [p].[PointOfInterestId], [p].[CityId], [p].[Description], [p].[Name]
FROM (
    SELECT TOP(1) [c].[CityId], [c].[Description], [c].[Name]
    FROM [Cities] AS [c]
    WHERE [c].[CityId] = @__cityId_0
) AS [t]
LEFT JOIN [PointOfInterests] AS [p] ON [t].[CityId] = [p].[CityId]
ORDER BY [t].[CityId]
2025-10-20 15:46:38.625 +03:00 [DBG] Context 'AppDbContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:46:38.686 +03:00 [DBG] Context 'AppDbContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:46:38.699 +03:00 [DBG] Context 'AppDbContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:46:38.716 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:46:38.735 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 142ms reading results.
2025-10-20 15:46:38.744 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:46:38.757 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (13ms).
2025-10-20 15:46:38.791 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-10-20 15:46:38.800 +03:00 [DBG] No information found on request to perform content negotiation.
2025-10-20 15:46:38.803 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-10-20 15:46:38.810 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-10-20 15:46:38.812 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-10-20 15:46:38.814 +03:00 [INF] Executing OkObjectResult, writing value of type 'CitiesApi.Models.CityDto'.
2025-10-20 15:46:38.828 +03:00 [INF] Executed action CitiesApi.Controllers.CitiesController.GetCity (CitiesApi) in 3256.9967ms
2025-10-20 15:46:38.831 +03:00 [INF] Executed endpoint 'CitiesApi.Controllers.CitiesController.GetCity (CitiesApi)'
2025-10-20 15:46:38.833 +03:00 [DBG] Connection id "0HNGFQQ4IN7PE" completed keep alive response.
2025-10-20 15:46:38.835 +03:00 [DBG] 'AppDbContext' disposed.
2025-10-20 15:46:38.843 +03:00 [DBG] Disposing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:46:38.854 +03:00 [DBG] Disposed connection to database '' on server '' (9ms).
2025-10-20 15:46:38.861 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7025/api/cities/1/?includePointsOfInterest=true - 200 364 application/json; charset=utf-8 3316.1485ms
2025-10-20 15:46:54.491 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7025/api/cities/2/?includePointsOfInterest=true - null null
2025-10-20 15:46:54.495 +03:00 [DBG] The request path  does not match the path filter
2025-10-20 15:46:54.497 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2/'
2025-10-20 15:46:54.499 +03:00 [DBG] Endpoint 'CitiesApi.Controllers.CitiesController.GetCity (CitiesApi)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/2/'
2025-10-20 15:46:54.500 +03:00 [DBG] Request matched endpoint 'CitiesApi.Controllers.CitiesController.GetCity (CitiesApi)'
2025-10-20 15:46:54.501 +03:00 [INF] Executing endpoint 'CitiesApi.Controllers.CitiesController.GetCity (CitiesApi)'
2025-10-20 15:46:54.503 +03:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CitiesApi.Controllers.CitiesController (CitiesApi).
2025-10-20 15:46:54.507 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-20 15:46:54.509 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-20 15:46:54.510 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-10-20 15:46:54.512 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-20 15:46:54.513 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-20 15:46:54.514 +03:00 [DBG] Executing controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-20 15:46:54.520 +03:00 [DBG] Executed controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-20 15:46:54.522 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-10-20 15:46:54.523 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-10-20 15:46:54.525 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-10-20 15:46:54.526 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-10-20 15:46:54.527 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-10-20 15:46:54.528 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-10-20 15:46:54.529 +03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2025-10-20 15:46:54.530 +03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2025-10-20 15:46:54.532 +03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-10-20 15:46:54.533 +03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-10-20 15:46:54.534 +03:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2025-10-20 15:46:54.536 +03:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-10-20 15:46:54.559 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-10-20 15:46:54.567 +03:00 [DBG] Creating DbConnection.
2025-10-20 15:46:54.569 +03:00 [DBG] Created DbConnection. (1ms).
2025-10-20 15:46:54.570 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:46:54.573 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:46:54.575 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:46:54.576 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-20 15:46:54.578 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-10-20 15:46:54.579 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[CityId], [t].[Description], [t].[Name], [p].[PointOfInterestId], [p].[CityId], [p].[Description], [p].[Name]
FROM (
    SELECT TOP(1) [c].[CityId], [c].[Description], [c].[Name]
    FROM [Cities] AS [c]
    WHERE [c].[CityId] = @__cityId_0
) AS [t]
LEFT JOIN [PointOfInterests] AS [p] ON [t].[CityId] = [p].[CityId]
ORDER BY [t].[CityId]
2025-10-20 15:46:54.594 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[CityId], [t].[Description], [t].[Name], [p].[PointOfInterestId], [p].[CityId], [p].[Description], [p].[Name]
FROM (
    SELECT TOP(1) [c].[CityId], [c].[Description], [c].[Name]
    FROM [Cities] AS [c]
    WHERE [c].[CityId] = @__cityId_0
) AS [t]
LEFT JOIN [PointOfInterests] AS [p] ON [t].[CityId] = [p].[CityId]
ORDER BY [t].[CityId]
2025-10-20 15:46:54.596 +03:00 [DBG] Context 'AppDbContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:46:54.597 +03:00 [DBG] Context 'AppDbContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:46:54.599 +03:00 [DBG] Context 'AppDbContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:46:54.601 +03:00 [DBG] Context 'AppDbContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:46:54.602 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:46:54.604 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 8ms reading results.
2025-10-20 15:46:54.605 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:46:54.606 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (1ms).
2025-10-20 15:46:54.609 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-10-20 15:46:54.612 +03:00 [DBG] No information found on request to perform content negotiation.
2025-10-20 15:46:54.614 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-10-20 15:46:54.615 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-10-20 15:46:54.617 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-10-20 15:46:54.618 +03:00 [INF] Executing OkObjectResult, writing value of type 'CitiesApi.Models.CityDto'.
2025-10-20 15:46:54.620 +03:00 [INF] Executed action CitiesApi.Controllers.CitiesController.GetCity (CitiesApi) in 105.406ms
2025-10-20 15:46:54.621 +03:00 [INF] Executed endpoint 'CitiesApi.Controllers.CitiesController.GetCity (CitiesApi)'
2025-10-20 15:46:54.622 +03:00 [DBG] Connection id "0HNGFQQ4IN7PE" completed keep alive response.
2025-10-20 15:46:54.623 +03:00 [DBG] 'AppDbContext' disposed.
2025-10-20 15:46:54.624 +03:00 [DBG] Disposing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:46:54.625 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-20 15:46:54.626 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7025/api/cities/2/?includePointsOfInterest=true - 200 471 application/json; charset=utf-8 136.1066ms
2025-10-20 15:47:07.599 +03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7025/api/cities/2/pointsofinterest/7 - null null
2025-10-20 15:47:07.604 +03:00 [DBG] DELETE requests are not supported
2025-10-20 15:47:07.607 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2/pointsofinterest/7'
2025-10-20 15:47:07.609 +03:00 [DBG] Endpoint 'CitiesApi.Controllers.PointsOfInterestController.DeletePointOfInterest (CitiesApi)' with route pattern 'api/cities/{cityid}/pointsofinterest/{pointOfInterestId}' is valid for the request path '/api/cities/2/pointsofinterest/7'
2025-10-20 15:47:07.611 +03:00 [DBG] Request matched endpoint 'CitiesApi.Controllers.PointsOfInterestController.DeletePointOfInterest (CitiesApi)'
2025-10-20 15:47:07.612 +03:00 [INF] Executing endpoint 'CitiesApi.Controllers.PointsOfInterestController.DeletePointOfInterest (CitiesApi)'
2025-10-20 15:47:07.622 +03:00 [INF] Route matched with {action = "DeletePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeletePointOfInterest(Int32, Int32) on controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi).
2025-10-20 15:47:07.625 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-20 15:47:07.628 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-20 15:47:07.630 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-10-20 15:47:07.631 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-20 15:47:07.633 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-20 15:47:07.634 +03:00 [DBG] Executing controller factory for controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi)
2025-10-20 15:47:07.637 +03:00 [DBG] Executed controller factory for controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi)
2025-10-20 15:47:07.639 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2025-10-20 15:47:07.640 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2025-10-20 15:47:07.642 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-10-20 15:47:07.643 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-10-20 15:47:07.644 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2025-10-20 15:47:07.646 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2025-10-20 15:47:07.647 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2025-10-20 15:47:07.648 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2025-10-20 15:47:07.650 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2025-10-20 15:47:07.652 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2025-10-20 15:47:07.655 +03:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2025-10-20 15:47:07.657 +03:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2025-10-20 15:47:07.757 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-10-20 15:47:07.763 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.CityId == __cityId_0)'
2025-10-20 15:47:07.775 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.CityId == @__cityId_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CitiesApi.Data.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-10-20 15:47:07.789 +03:00 [DBG] Creating DbConnection.
2025-10-20 15:47:07.790 +03:00 [DBG] Created DbConnection. (1ms).
2025-10-20 15:47:07.792 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:47:07.795 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:47:07.797 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:47:07.798 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 15:47:07.800 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-10-20 15:47:07.801 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[CityId] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-20 15:47:07.816 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[CityId] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-20 15:47:07.822 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:47:07.825 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 6ms reading results.
2025-10-20 15:47:07.830 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:47:07.833 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (2ms).
2025-10-20 15:47:07.843 +03:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .FirstOrDefault(P => P.PointOfInterestId == __pointOfInterestId_0 && P.CityId == __cityId_1)'
2025-10-20 15:47:07.864 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.PointOfInterestId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(500), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.PointOfInterestId, p.CityId, p.Description, p.Name
            FROM PointOfInterests AS p
            WHERE (p.PointOfInterestId == @__pointOfInterestId_0) && (p.CityId == @__cityId_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CitiesApi.Data.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-10-20 15:47:07.871 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:47:07.873 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:47:07.874 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:47:07.876 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 15:47:07.877 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-10-20 15:47:07.878 +03:00 [DBG] Executing DbCommand [Parameters=[@__pointOfInterestId_0='?' (DbType = Int32), @__cityId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PointOfInterestId], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointOfInterests] AS [p]
WHERE [p].[PointOfInterestId] = @__pointOfInterestId_0 AND [p].[CityId] = @__cityId_1
2025-10-20 15:47:07.890 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__pointOfInterestId_0='?' (DbType = Int32), @__cityId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PointOfInterestId], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointOfInterests] AS [p]
WHERE [p].[PointOfInterestId] = @__pointOfInterestId_0 AND [p].[CityId] = @__cityId_1
2025-10-20 15:47:07.894 +03:00 [DBG] Context 'AppDbContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:47:07.897 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:47:07.902 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 7ms reading results.
2025-10-20 15:47:07.904 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:47:07.906 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (1ms).
2025-10-20 15:47:07.934 +03:00 [DBG] An entity of type 'PointOfInterest' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:47:07.953 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-10-20 15:47:07.958 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-10-20 15:47:07.974 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-10-20 15:47:08.090 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:47:08.095 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:47:08.101 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:47:08.102 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 15:47:08.103 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-10-20 15:47:08.105 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [PointOfInterests]
OUTPUT 1
WHERE [PointOfInterestId] = @p0;
2025-10-20 15:47:08.158 +03:00 [INF] Executed DbCommand (53ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [PointOfInterests]
OUTPUT 1
WHERE [PointOfInterestId] = @p0;
2025-10-20 15:47:08.173 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:47:08.176 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 14ms reading results.
2025-10-20 15:47:08.180 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:47:08.181 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (1ms).
2025-10-20 15:47:08.189 +03:00 [DBG] An entity of type 'PointOfInterest' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:47:08.194 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-10-20 15:47:08.198 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-10-20 15:47:08.199 +03:00 [INF] Executed action CitiesApi.Controllers.PointsOfInterestController.DeletePointOfInterest (CitiesApi) in 564.6275ms
2025-10-20 15:47:08.200 +03:00 [INF] Executed endpoint 'CitiesApi.Controllers.PointsOfInterestController.DeletePointOfInterest (CitiesApi)'
2025-10-20 15:47:08.201 +03:00 [DBG] Connection id "0HNGFQQ4IN7PE" completed keep alive response.
2025-10-20 15:47:08.203 +03:00 [DBG] 'AppDbContext' disposed.
2025-10-20 15:47:08.204 +03:00 [DBG] Disposing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:47:08.206 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-20 15:47:08.207 +03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7025/api/cities/2/pointsofinterest/7 - 204 null null 607.788ms
2025-10-20 15:47:12.770 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7025/api/cities/2/?includePointsOfInterest=true - null null
2025-10-20 15:47:12.776 +03:00 [DBG] The request path  does not match the path filter
2025-10-20 15:47:12.777 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2/'
2025-10-20 15:47:12.781 +03:00 [DBG] Endpoint 'CitiesApi.Controllers.CitiesController.GetCity (CitiesApi)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/2/'
2025-10-20 15:47:12.782 +03:00 [DBG] Request matched endpoint 'CitiesApi.Controllers.CitiesController.GetCity (CitiesApi)'
2025-10-20 15:47:12.785 +03:00 [INF] Executing endpoint 'CitiesApi.Controllers.CitiesController.GetCity (CitiesApi)'
2025-10-20 15:47:12.789 +03:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CitiesApi.Controllers.CitiesController (CitiesApi).
2025-10-20 15:47:12.794 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-20 15:47:12.796 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-20 15:47:12.798 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-10-20 15:47:12.801 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-20 15:47:12.802 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-20 15:47:12.804 +03:00 [DBG] Executing controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-20 15:47:12.806 +03:00 [DBG] Executed controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-20 15:47:12.808 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-10-20 15:47:12.810 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-10-20 15:47:12.812 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-10-20 15:47:12.814 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-10-20 15:47:12.818 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-10-20 15:47:12.820 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-10-20 15:47:12.822 +03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2025-10-20 15:47:12.823 +03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2025-10-20 15:47:12.825 +03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-10-20 15:47:12.827 +03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-10-20 15:47:12.828 +03:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2025-10-20 15:47:12.829 +03:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-10-20 15:47:12.836 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-10-20 15:47:12.839 +03:00 [DBG] Creating DbConnection.
2025-10-20 15:47:12.840 +03:00 [DBG] Created DbConnection. (1ms).
2025-10-20 15:47:12.841 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:47:12.843 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:47:12.845 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:47:12.846 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 15:47:12.848 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-10-20 15:47:12.850 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[CityId], [t].[Description], [t].[Name], [p].[PointOfInterestId], [p].[CityId], [p].[Description], [p].[Name]
FROM (
    SELECT TOP(1) [c].[CityId], [c].[Description], [c].[Name]
    FROM [Cities] AS [c]
    WHERE [c].[CityId] = @__cityId_0
) AS [t]
LEFT JOIN [PointOfInterests] AS [p] ON [t].[CityId] = [p].[CityId]
ORDER BY [t].[CityId]
2025-10-20 15:47:12.857 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[CityId], [t].[Description], [t].[Name], [p].[PointOfInterestId], [p].[CityId], [p].[Description], [p].[Name]
FROM (
    SELECT TOP(1) [c].[CityId], [c].[Description], [c].[Name]
    FROM [Cities] AS [c]
    WHERE [c].[CityId] = @__cityId_0
) AS [t]
LEFT JOIN [PointOfInterests] AS [p] ON [t].[CityId] = [p].[CityId]
ORDER BY [t].[CityId]
2025-10-20 15:47:12.859 +03:00 [DBG] Context 'AppDbContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:47:12.863 +03:00 [DBG] Context 'AppDbContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:47:12.865 +03:00 [DBG] Context 'AppDbContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:47:12.866 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:47:12.867 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 7ms reading results.
2025-10-20 15:47:12.868 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:47:12.870 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (1ms).
2025-10-20 15:47:12.871 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-10-20 15:47:12.874 +03:00 [DBG] No information found on request to perform content negotiation.
2025-10-20 15:47:12.875 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-10-20 15:47:12.875 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-10-20 15:47:12.876 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-10-20 15:47:12.877 +03:00 [INF] Executing OkObjectResult, writing value of type 'CitiesApi.Models.CityDto'.
2025-10-20 15:47:12.879 +03:00 [INF] Executed action CitiesApi.Controllers.CitiesController.GetCity (CitiesApi) in 74.7502ms
2025-10-20 15:47:12.880 +03:00 [INF] Executed endpoint 'CitiesApi.Controllers.CitiesController.GetCity (CitiesApi)'
2025-10-20 15:47:12.881 +03:00 [DBG] Connection id "0HNGFQQ4IN7PE" completed keep alive response.
2025-10-20 15:47:12.882 +03:00 [DBG] 'AppDbContext' disposed.
2025-10-20 15:47:12.883 +03:00 [DBG] Disposing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:47:12.884 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-20 15:47:12.885 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7025/api/cities/2/?includePointsOfInterest=true - 200 348 application/json; charset=utf-8 114.9569ms
2025-10-20 15:48:09.311 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-10-20 15:48:09.454 +03:00 [DBG] Hosting starting
2025-10-20 15:48:09.463 +03:00 [DBG] Middleware loaded
2025-10-20 15:48:09.465 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16503 B).
2025-10-20 15:48:09.466 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-10-20 15:48:09.570 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-10-20 15:48:09.684 +03:00 [INF] Now listening on: https://localhost:7025
2025-10-20 15:48:09.686 +03:00 [INF] Now listening on: http://localhost:5105
2025-10-20 15:48:09.688 +03:00 [DBG] Loaded hosting startup assembly CitiesApi
2025-10-20 15:48:09.689 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-10-20 15:48:09.691 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-10-20 15:48:09.692 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-10-20 15:48:09.789 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-20 15:48:09.793 +03:00 [INF] Hosting environment: Development
2025-10-20 15:48:09.799 +03:00 [INF] Content root path: D:\Projects\CitiesApi\CitiesApi
2025-10-20 15:48:09.801 +03:00 [DBG] Hosting started
2025-10-20 15:48:09.900 +03:00 [DBG] Connection id "0HNGFQRM8HMV9" accepted.
2025-10-20 15:48:09.904 +03:00 [DBG] Connection id "0HNGFQRM8HMV9" started.
2025-10-20 15:48:09.908 +03:00 [DBG] Connection id "0HNGFQRM8HMV9" received FIN.
2025-10-20 15:48:09.908 +03:00 [DBG] Connection id "0HNGFQRM8HMVA" received FIN.
2025-10-20 15:48:09.929 +03:00 [DBG] Connection id "0HNGFQRM8HMVA" accepted.
2025-10-20 15:48:09.933 +03:00 [DBG] Connection id "0HNGFQRM8HMVA" started.
2025-10-20 15:48:09.941 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-20 15:48:09.944 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-20 15:48:09.986 +03:00 [DBG] Connection id "0HNGFQRM8HMV9" stopped.
2025-10-20 15:48:09.986 +03:00 [DBG] Connection id "0HNGFQRM8HMVA" stopped.
2025-10-20 15:48:09.993 +03:00 [DBG] Connection id "0HNGFQRM8HMVA" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-20 15:48:09.993 +03:00 [DBG] Connection id "0HNGFQRM8HMV9" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-20 15:48:10.028 +03:00 [DBG] Connection id "0HNGFQRM8HMVB" accepted.
2025-10-20 15:48:10.030 +03:00 [DBG] Connection id "0HNGFQRM8HMVB" started.
2025-10-20 15:48:10.084 +03:00 [DBG] Connection 0HNGFQRM8HMVB established using the following protocol: "Tls13"
2025-10-20 15:48:10.148 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/swagger/index.html - null null
2025-10-20 15:48:10.307 +03:00 [WRN] Unable to contact VS to retrieve Browser Link script tag.
2025-10-20 15:48:10.312 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-10-20 15:48:10.405 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-10-20 15:48:10.440 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-10-20 15:48:10.448 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/swagger/index.html - 200 null text/html;charset=utf-8 309.9864ms
2025-10-20 15:48:10.488 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/_framework/aspnetcore-browser-refresh.js - null null
2025-10-20 15:48:10.503 +03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-10-20 15:48:10.508 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/_framework/aspnetcore-browser-refresh.js - 200 16503 application/javascript; charset=utf-8 20.2245ms
2025-10-20 15:48:10.580 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/swagger/v1/swagger.json - null null
2025-10-20 15:48:10.614 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 34.6838ms
2025-10-20 15:48:19.202 +03:00 [DBG] Connection id "0HNGFQRM8HMVB" received FIN.
2025-10-20 15:48:19.208 +03:00 [DBG] The connection queue processing loop for 0HNGFQRM8HMVB completed.
2025-10-20 15:48:19.211 +03:00 [DBG] Connection id "0HNGFQRM8HMVB" is closed. The last processed stream ID was 5.
2025-10-20 15:48:19.215 +03:00 [DBG] Connection id "0HNGFQRM8HMVB" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-20 15:48:19.228 +03:00 [DBG] Connection id "0HNGFQRM8HMVB" stopped.
2025-10-20 15:48:22.488 +03:00 [DBG] Connection id "0HNGFQRM8HMVC" accepted.
2025-10-20 15:48:22.491 +03:00 [DBG] Connection id "0HNGFQRM8HMVC" started.
2025-10-20 15:48:22.496 +03:00 [DBG] Connection 0HNGFQRM8HMVC established using the following protocol: "Tls13"
2025-10-20 15:48:22.500 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/api/cities - null null
2025-10-20 15:48:22.508 +03:00 [DBG] The request path  does not match the path filter
2025-10-20 15:48:22.544 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-10-20 15:48:22.552 +03:00 [DBG] Endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-10-20 15:48:22.556 +03:00 [DBG] Request matched endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-20 15:48:22.562 +03:00 [INF] Executing endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-20 15:48:22.595 +03:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CitiesApi.Models.CityDtoWithoutPointsOfInterest]]] GetCities() on controller CitiesApi.Controllers.CitiesController (CitiesApi).
2025-10-20 15:48:22.600 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-20 15:48:22.603 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-20 15:48:22.605 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-10-20 15:48:22.607 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-20 15:48:22.609 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-20 15:48:22.613 +03:00 [DBG] Executing controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-20 15:48:22.817 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-10-20 15:48:23.045 +03:00 [DBG] Executed controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-20 15:48:24.065 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-10-20 15:48:24.169 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2025-10-20 15:48:24.483 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.CityId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(500), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.CityId, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CitiesApi.Data.AppDbContext, 
    False, 
    False, 
    True
)'
2025-10-20 15:48:24.532 +03:00 [DBG] Creating DbConnection.
2025-10-20 15:48:24.576 +03:00 [DBG] Created DbConnection. (42ms).
2025-10-20 15:48:24.582 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:48:25.057 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:48:25.065 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:48:25.075 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (9ms).
2025-10-20 15:48:25.079 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (15ms).
2025-10-20 15:48:25.095 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CityId], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2025-10-20 15:48:25.224 +03:00 [INF] Executed DbCommand (133ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CityId], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2025-10-20 15:48:25.288 +03:00 [DBG] Context 'AppDbContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:48:25.328 +03:00 [DBG] Context 'AppDbContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:48:25.332 +03:00 [DBG] Context 'AppDbContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:48:25.344 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:48:25.356 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 121ms reading results.
2025-10-20 15:48:25.365 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:48:25.378 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (13ms).
2025-10-20 15:48:25.415 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-10-20 15:48:25.426 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2025-10-20 15:48:25.430 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-10-20 15:48:25.433 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CitiesApi.Models.CityDtoWithoutPointsOfInterest, CitiesApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-20 15:48:25.581 +03:00 [INF] Executed action CitiesApi.Controllers.CitiesController.GetCities (CitiesApi) in 2964.6557ms
2025-10-20 15:48:25.585 +03:00 [INF] Executed endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-20 15:48:25.593 +03:00 [DBG] 'AppDbContext' disposed.
2025-10-20 15:48:25.604 +03:00 [DBG] Disposing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:48:25.608 +03:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-10-20 15:48:25.613 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/api/cities - 200 259 application/json; charset=utf-8 3112.559ms
2025-10-20 15:48:29.215 +03:00 [DBG] Connection id "0HNGFQRM8HMVC" received FIN.
2025-10-20 15:48:29.222 +03:00 [DBG] Connection id "0HNGFQRM8HMVC" is closed. The last processed stream ID was 1.
2025-10-20 15:48:29.222 +03:00 [DBG] The connection queue processing loop for 0HNGFQRM8HMVC completed.
2025-10-20 15:48:29.227 +03:00 [DBG] Connection id "0HNGFQRM8HMVC" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-20 15:48:29.234 +03:00 [DBG] Connection id "0HNGFQRM8HMVC" stopped.
2025-10-20 15:48:35.609 +03:00 [DBG] Connection id "0HNGFQRM8HMVD" accepted.
2025-10-20 15:48:35.612 +03:00 [DBG] Connection id "0HNGFQRM8HMVD" started.
2025-10-20 15:48:35.619 +03:00 [DBG] Connection 0HNGFQRM8HMVD established using the following protocol: "Tls13"
2025-10-20 15:48:35.624 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/api/cities/2?includePointsOfInterest=true - null null
2025-10-20 15:48:35.630 +03:00 [DBG] The request path  does not match the path filter
2025-10-20 15:48:35.634 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2'
2025-10-20 15:48:35.658 +03:00 [DBG] Endpoint 'CitiesApi.Controllers.CitiesController.GetCity (CitiesApi)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/2'
2025-10-20 15:48:35.692 +03:00 [DBG] Request matched endpoint 'CitiesApi.Controllers.CitiesController.GetCity (CitiesApi)'
2025-10-20 15:48:35.694 +03:00 [INF] Executing endpoint 'CitiesApi.Controllers.CitiesController.GetCity (CitiesApi)'
2025-10-20 15:48:35.717 +03:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CitiesApi.Controllers.CitiesController (CitiesApi).
2025-10-20 15:48:35.722 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-20 15:48:35.726 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-20 15:48:35.730 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-10-20 15:48:35.734 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-20 15:48:35.736 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-20 15:48:35.738 +03:00 [DBG] Executing controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-20 15:48:35.741 +03:00 [DBG] Executed controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-20 15:48:35.755 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-10-20 15:48:35.761 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-10-20 15:48:35.764 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-10-20 15:48:35.767 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-10-20 15:48:35.769 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-10-20 15:48:35.776 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-10-20 15:48:35.779 +03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2025-10-20 15:48:35.783 +03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2025-10-20 15:48:35.787 +03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-10-20 15:48:35.789 +03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-10-20 15:48:35.790 +03:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2025-10-20 15:48:35.792 +03:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-10-20 15:48:35.820 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-10-20 15:48:35.837 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(c => c.PointsOfInterest)
    .Where(c => c.CityId == __cityId_0)
    .FirstOrDefault()'
2025-10-20 15:48:35.856 +03:00 [DBG] Including navigation: 'City.PointsOfInterest'.
2025-10-20 15:48:36.026 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.CityId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(500), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.PointOfInterestId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) MaxLength(500), 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.CityId, t.Description, t.Name, p.PointOfInterestId, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.CityId, c.Description, c.Name
                FROM Cities AS c
                WHERE c.CityId == @__cityId_0
            ) AS t
            LEFT JOIN PointOfInterests AS p ON t.CityId == p.CityId
            ORDER BY t.CityId ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CitiesApi.Data.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-10-20 15:48:36.043 +03:00 [DBG] Creating DbConnection.
2025-10-20 15:48:36.046 +03:00 [DBG] Created DbConnection. (3ms).
2025-10-20 15:48:36.048 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:48:36.051 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:48:36.055 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:48:36.056 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 15:48:36.090 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (35ms).
2025-10-20 15:48:36.098 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[CityId], [t].[Description], [t].[Name], [p].[PointOfInterestId], [p].[CityId], [p].[Description], [p].[Name]
FROM (
    SELECT TOP(1) [c].[CityId], [c].[Description], [c].[Name]
    FROM [Cities] AS [c]
    WHERE [c].[CityId] = @__cityId_0
) AS [t]
LEFT JOIN [PointOfInterests] AS [p] ON [t].[CityId] = [p].[CityId]
ORDER BY [t].[CityId]
2025-10-20 15:48:36.148 +03:00 [INF] Executed DbCommand (54ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[CityId], [t].[Description], [t].[Name], [p].[PointOfInterestId], [p].[CityId], [p].[Description], [p].[Name]
FROM (
    SELECT TOP(1) [c].[CityId], [c].[Description], [c].[Name]
    FROM [Cities] AS [c]
    WHERE [c].[CityId] = @__cityId_0
) AS [t]
LEFT JOIN [PointOfInterests] AS [p] ON [t].[CityId] = [p].[CityId]
ORDER BY [t].[CityId]
2025-10-20 15:48:36.161 +03:00 [DBG] Context 'AppDbContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:48:36.190 +03:00 [DBG] Context 'AppDbContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:48:36.199 +03:00 [DBG] Context 'AppDbContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:48:36.202 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:48:36.205 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 44ms reading results.
2025-10-20 15:48:36.207 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:48:36.209 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (1ms).
2025-10-20 15:48:36.218 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-10-20 15:48:36.221 +03:00 [DBG] No information found on request to perform content negotiation.
2025-10-20 15:48:36.222 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-10-20 15:48:36.223 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-10-20 15:48:36.225 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-10-20 15:48:36.226 +03:00 [INF] Executing OkObjectResult, writing value of type 'CitiesApi.Models.CityDto'.
2025-10-20 15:48:36.235 +03:00 [INF] Executed action CitiesApi.Controllers.CitiesController.GetCity (CitiesApi) in 497.7068ms
2025-10-20 15:48:36.236 +03:00 [INF] Executed endpoint 'CitiesApi.Controllers.CitiesController.GetCity (CitiesApi)'
2025-10-20 15:48:36.237 +03:00 [DBG] 'AppDbContext' disposed.
2025-10-20 15:48:36.238 +03:00 [DBG] Disposing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:48:36.240 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-20 15:48:36.241 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/api/cities/2?includePointsOfInterest=true - 200 352 application/json; charset=utf-8 617.0972ms
2025-10-20 15:48:39.227 +03:00 [DBG] Connection id "0HNGFQRM8HMVD" received FIN.
2025-10-20 15:48:39.236 +03:00 [DBG] Connection id "0HNGFQRM8HMVD" is closed. The last processed stream ID was 1.
2025-10-20 15:48:39.236 +03:00 [DBG] The connection queue processing loop for 0HNGFQRM8HMVD completed.
2025-10-20 15:48:39.241 +03:00 [DBG] Connection id "0HNGFQRM8HMVD" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-20 15:48:39.260 +03:00 [DBG] Connection id "0HNGFQRM8HMVD" stopped.
2025-10-20 15:48:41.097 +03:00 [DBG] Connection id "0HNGFQRM8HMVE" accepted.
2025-10-20 15:48:41.097 +03:00 [DBG] Connection id "0HNGFQRM8HMVE" received FIN.
2025-10-20 15:48:41.099 +03:00 [DBG] Connection id "0HNGFQRM8HMVE" started.
2025-10-20 15:48:41.101 +03:00 [DBG] Connection id "0HNGFQRM8HMVF" accepted.
2025-10-20 15:48:41.107 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-20 15:48:41.107 +03:00 [DBG] Connection id "0HNGFQRM8HMVF" started.
2025-10-20 15:48:41.114 +03:00 [DBG] Connection id "0HNGFQRM8HMVE" stopped.
2025-10-20 15:48:41.121 +03:00 [DBG] Connection id "0HNGFQRM8HMVE" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-20 15:48:41.126 +03:00 [DBG] Connection 0HNGFQRM8HMVF established using the following protocol: "Tls13"
2025-10-20 15:48:41.134 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7025/api/cities/2/?includePointsOfInterest=true - null null
2025-10-20 15:48:41.137 +03:00 [DBG] The request path  does not match the path filter
2025-10-20 15:48:41.138 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2/'
2025-10-20 15:48:41.139 +03:00 [DBG] Endpoint 'CitiesApi.Controllers.CitiesController.GetCity (CitiesApi)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/2/'
2025-10-20 15:48:41.141 +03:00 [DBG] Request matched endpoint 'CitiesApi.Controllers.CitiesController.GetCity (CitiesApi)'
2025-10-20 15:48:41.142 +03:00 [INF] Executing endpoint 'CitiesApi.Controllers.CitiesController.GetCity (CitiesApi)'
2025-10-20 15:48:41.143 +03:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CitiesApi.Controllers.CitiesController (CitiesApi).
2025-10-20 15:48:41.145 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-20 15:48:41.147 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-20 15:48:41.148 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-10-20 15:48:41.151 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-20 15:48:41.152 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-20 15:48:41.153 +03:00 [DBG] Executing controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-20 15:48:41.158 +03:00 [DBG] Executed controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-20 15:48:41.161 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-10-20 15:48:41.163 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-10-20 15:48:41.165 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-10-20 15:48:41.167 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-10-20 15:48:41.168 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-10-20 15:48:41.170 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-10-20 15:48:41.172 +03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2025-10-20 15:48:41.174 +03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2025-10-20 15:48:41.176 +03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-10-20 15:48:41.178 +03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-10-20 15:48:41.180 +03:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2025-10-20 15:48:41.181 +03:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-10-20 15:48:41.276 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-10-20 15:48:41.287 +03:00 [DBG] Creating DbConnection.
2025-10-20 15:48:41.289 +03:00 [DBG] Created DbConnection. (1ms).
2025-10-20 15:48:41.290 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:48:41.298 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:48:41.301 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 15:48:41.302 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 15:48:41.304 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-10-20 15:48:41.305 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[CityId], [t].[Description], [t].[Name], [p].[PointOfInterestId], [p].[CityId], [p].[Description], [p].[Name]
FROM (
    SELECT TOP(1) [c].[CityId], [c].[Description], [c].[Name]
    FROM [Cities] AS [c]
    WHERE [c].[CityId] = @__cityId_0
) AS [t]
LEFT JOIN [PointOfInterests] AS [p] ON [t].[CityId] = [p].[CityId]
ORDER BY [t].[CityId]
2025-10-20 15:48:41.314 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[CityId], [t].[Description], [t].[Name], [p].[PointOfInterestId], [p].[CityId], [p].[Description], [p].[Name]
FROM (
    SELECT TOP(1) [c].[CityId], [c].[Description], [c].[Name]
    FROM [Cities] AS [c]
    WHERE [c].[CityId] = @__cityId_0
) AS [t]
LEFT JOIN [PointOfInterests] AS [p] ON [t].[CityId] = [p].[CityId]
ORDER BY [t].[CityId]
2025-10-20 15:48:41.317 +03:00 [DBG] Context 'AppDbContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:48:41.318 +03:00 [DBG] Context 'AppDbContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:48:41.320 +03:00 [DBG] Context 'AppDbContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 15:48:41.321 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:48:41.322 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 5ms reading results.
2025-10-20 15:48:41.323 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:48:41.324 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (1ms).
2025-10-20 15:48:41.327 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-10-20 15:48:41.329 +03:00 [DBG] No information found on request to perform content negotiation.
2025-10-20 15:48:41.330 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-10-20 15:48:41.331 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-10-20 15:48:41.331 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-10-20 15:48:41.333 +03:00 [INF] Executing OkObjectResult, writing value of type 'CitiesApi.Models.CityDto'.
2025-10-20 15:48:41.336 +03:00 [INF] Executed action CitiesApi.Controllers.CitiesController.GetCity (CitiesApi) in 182.4162ms
2025-10-20 15:48:41.337 +03:00 [INF] Executed endpoint 'CitiesApi.Controllers.CitiesController.GetCity (CitiesApi)'
2025-10-20 15:48:41.338 +03:00 [DBG] Connection id "0HNGFQRM8HMVF" completed keep alive response.
2025-10-20 15:48:41.339 +03:00 [DBG] 'AppDbContext' disposed.
2025-10-20 15:48:41.340 +03:00 [DBG] Disposing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 15:48:41.341 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-20 15:48:41.344 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7025/api/cities/2/?includePointsOfInterest=true - 200 352 application/json; charset=utf-8 210.5681ms
2025-10-20 15:59:48.749 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-10-20 15:59:48.952 +03:00 [DBG] Hosting starting
2025-10-20 15:59:48.976 +03:00 [DBG] Middleware loaded
2025-10-20 15:59:48.985 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16503 B).
2025-10-20 15:59:48.994 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-10-20 15:59:49.158 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-10-20 15:59:49.329 +03:00 [INF] Now listening on: https://localhost:7025
2025-10-20 15:59:49.331 +03:00 [INF] Now listening on: http://localhost:5105
2025-10-20 15:59:49.332 +03:00 [DBG] Loaded hosting startup assembly CitiesApi
2025-10-20 15:59:49.335 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-10-20 15:59:49.337 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-10-20 15:59:49.338 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-10-20 15:59:49.450 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-20 15:59:49.452 +03:00 [INF] Hosting environment: Development
2025-10-20 15:59:49.456 +03:00 [INF] Content root path: D:\Projects\CitiesApi\CitiesApi
2025-10-20 15:59:49.460 +03:00 [DBG] Hosting started
2025-10-20 15:59:49.591 +03:00 [DBG] Connection id "0HNGFR26PABNJ" accepted.
2025-10-20 15:59:49.593 +03:00 [DBG] Connection id "0HNGFR26PABNJ" started.
2025-10-20 15:59:49.615 +03:00 [DBG] Connection id "0HNGFR26PABNJ" received FIN.
2025-10-20 15:59:49.615 +03:00 [DBG] Connection id "0HNGFR26PABNK" received FIN.
2025-10-20 15:59:49.659 +03:00 [DBG] Connection id "0HNGFR26PABNK" accepted.
2025-10-20 15:59:49.671 +03:00 [DBG] Connection id "0HNGFR26PABNK" started.
2025-10-20 15:59:49.672 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-20 15:59:49.680 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-20 15:59:49.749 +03:00 [DBG] Connection id "0HNGFR26PABNJ" stopped.
2025-10-20 15:59:49.750 +03:00 [DBG] Connection id "0HNGFR26PABNK" stopped.
2025-10-20 15:59:49.758 +03:00 [DBG] Connection id "0HNGFR26PABNJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-20 15:59:49.758 +03:00 [DBG] Connection id "0HNGFR26PABNK" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-20 15:59:50.244 +03:00 [DBG] Connection id "0HNGFR26PABNL" accepted.
2025-10-20 15:59:50.255 +03:00 [DBG] Connection id "0HNGFR26PABNL" started.
2025-10-20 15:59:50.385 +03:00 [DBG] Connection 0HNGFR26PABNL established using the following protocol: "Tls13"
2025-10-20 15:59:50.483 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/swagger/index.html - null null
2025-10-20 15:59:50.644 +03:00 [WRN] Unable to contact VS to retrieve Browser Link script tag.
2025-10-20 15:59:50.649 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-10-20 15:59:50.753 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-10-20 15:59:50.784 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-10-20 15:59:50.793 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/swagger/index.html - 200 null text/html;charset=utf-8 317.6913ms
2025-10-20 15:59:50.928 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/_framework/aspnetcore-browser-refresh.js - null null
2025-10-20 15:59:51.012 +03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-10-20 15:59:51.025 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/_framework/aspnetcore-browser-refresh.js - 200 16503 application/javascript; charset=utf-8 96.76ms
2025-10-20 15:59:51.112 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/swagger/v1/swagger.json - null null
2025-10-20 15:59:51.150 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 39.5657ms
2025-10-20 15:59:59.938 +03:00 [DBG] Connection id "0HNGFR26PABNM" accepted.
2025-10-20 15:59:59.939 +03:00 [DBG] Connection id "0HNGFR26PABNM" received FIN.
2025-10-20 15:59:59.939 +03:00 [DBG] Connection id "0HNGFR26PABNM" started.
2025-10-20 15:59:59.940 +03:00 [DBG] Connection id "0HNGFR26PABNN" accepted.
2025-10-20 15:59:59.948 +03:00 [DBG] Connection id "0HNGFR26PABNN" started.
2025-10-20 15:59:59.945 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-20 15:59:59.962 +03:00 [DBG] Connection id "0HNGFR26PABNM" stopped.
2025-10-20 15:59:59.966 +03:00 [DBG] Connection id "0HNGFR26PABNM" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-20 15:59:59.971 +03:00 [DBG] Connection 0HNGFR26PABNN established using the following protocol: "Tls13"
2025-10-20 15:59:59.982 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7025/api/cities/2/?includePointsOfInterest=true - null null
2025-10-20 15:59:59.992 +03:00 [DBG] The request path  does not match the path filter
2025-10-20 16:00:00.096 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2/'
2025-10-20 16:00:00.110 +03:00 [DBG] Endpoint 'CitiesApi.Controllers.CitiesController.GetCity (CitiesApi)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/2/'
2025-10-20 16:00:00.115 +03:00 [DBG] Request matched endpoint 'CitiesApi.Controllers.CitiesController.GetCity (CitiesApi)'
2025-10-20 16:00:00.124 +03:00 [INF] Executing endpoint 'CitiesApi.Controllers.CitiesController.GetCity (CitiesApi)'
2025-10-20 16:00:00.174 +03:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CitiesApi.Controllers.CitiesController (CitiesApi).
2025-10-20 16:00:00.178 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-20 16:00:00.180 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-20 16:00:00.182 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-10-20 16:00:00.184 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-20 16:00:00.186 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-20 16:00:00.190 +03:00 [DBG] Connection id "0HNGFR26PABNL" received FIN.
2025-10-20 16:00:00.190 +03:00 [DBG] Executing controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-20 16:00:00.193 +03:00 [DBG] The connection queue processing loop for 0HNGFR26PABNL completed.
2025-10-20 16:00:00.197 +03:00 [DBG] Connection id "0HNGFR26PABNL" is closed. The last processed stream ID was 5.
2025-10-20 16:00:00.198 +03:00 [DBG] Connection id "0HNGFR26PABNL" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-20 16:00:00.206 +03:00 [DBG] Connection id "0HNGFR26PABNL" stopped.
2025-10-20 16:00:00.438 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-10-20 16:00:00.671 +03:00 [DBG] Executed controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-20 16:00:00.687 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-10-20 16:00:00.691 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-10-20 16:00:00.700 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-10-20 16:00:00.708 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-10-20 16:00:00.712 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-10-20 16:00:00.717 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-10-20 16:00:00.722 +03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2025-10-20 16:00:00.725 +03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2025-10-20 16:00:00.728 +03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-10-20 16:00:00.730 +03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-10-20 16:00:00.732 +03:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2025-10-20 16:00:00.734 +03:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-10-20 16:00:01.780 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-10-20 16:00:01.916 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(c => c.PointsOfInterest)
    .Where(c => c.CityId == __cityId_0)
    .FirstOrDefault()'
2025-10-20 16:00:01.994 +03:00 [DBG] Including navigation: 'City.PointsOfInterest'.
2025-10-20 16:00:02.409 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.CityId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(500), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.PointOfInterestId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) MaxLength(500), 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.CityId, t.Description, t.Name, p.PointOfInterestId, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.CityId, c.Description, c.Name
                FROM Cities AS c
                WHERE c.CityId == @__cityId_0
            ) AS t
            LEFT JOIN PointOfInterests AS p ON t.CityId == p.CityId
            ORDER BY t.CityId ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CitiesApi.Data.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-10-20 16:00:02.486 +03:00 [DBG] Creating DbConnection.
2025-10-20 16:00:02.537 +03:00 [DBG] Created DbConnection. (50ms).
2025-10-20 16:00:02.546 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 16:00:03.147 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 16:00:03.153 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 16:00:03.160 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-10-20 16:00:03.172 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (18ms).
2025-10-20 16:00:03.189 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[CityId], [t].[Description], [t].[Name], [p].[PointOfInterestId], [p].[CityId], [p].[Description], [p].[Name]
FROM (
    SELECT TOP(1) [c].[CityId], [c].[Description], [c].[Name]
    FROM [Cities] AS [c]
    WHERE [c].[CityId] = @__cityId_0
) AS [t]
LEFT JOIN [PointOfInterests] AS [p] ON [t].[CityId] = [p].[CityId]
ORDER BY [t].[CityId]
2025-10-20 16:00:03.464 +03:00 [INF] Executed DbCommand (280ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[CityId], [t].[Description], [t].[Name], [p].[PointOfInterestId], [p].[CityId], [p].[Description], [p].[Name]
FROM (
    SELECT TOP(1) [c].[CityId], [c].[Description], [c].[Name]
    FROM [Cities] AS [c]
    WHERE [c].[CityId] = @__cityId_0
) AS [t]
LEFT JOIN [PointOfInterests] AS [p] ON [t].[CityId] = [p].[CityId]
ORDER BY [t].[CityId]
2025-10-20 16:00:03.529 +03:00 [DBG] Context 'AppDbContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 16:00:03.584 +03:00 [DBG] Context 'AppDbContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 16:00:03.594 +03:00 [DBG] Context 'AppDbContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 16:00:03.603 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 16:00:03.617 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 139ms reading results.
2025-10-20 16:00:03.625 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 16:00:03.633 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (8ms).
2025-10-20 16:00:03.660 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-10-20 16:00:03.664 +03:00 [DBG] No information found on request to perform content negotiation.
2025-10-20 16:00:03.666 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-10-20 16:00:03.666 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-10-20 16:00:03.669 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-10-20 16:00:03.670 +03:00 [INF] Executing OkObjectResult, writing value of type 'CitiesApi.Models.CityDto'.
2025-10-20 16:00:03.832 +03:00 [INF] Executed action CitiesApi.Controllers.CitiesController.GetCity (CitiesApi) in 3640.328ms
2025-10-20 16:00:03.836 +03:00 [INF] Executed endpoint 'CitiesApi.Controllers.CitiesController.GetCity (CitiesApi)'
2025-10-20 16:00:03.838 +03:00 [DBG] Connection id "0HNGFR26PABNN" completed keep alive response.
2025-10-20 16:00:03.842 +03:00 [DBG] 'AppDbContext' disposed.
2025-10-20 16:00:03.851 +03:00 [DBG] Disposing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 16:00:03.855 +03:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-10-20 16:00:03.858 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7025/api/cities/2/?includePointsOfInterest=true - 200 352 application/json; charset=utf-8 3877.0416ms
2025-10-20 16:00:06.189 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7025/api/cities/1/?includePointsOfInterest=true - null null
2025-10-20 16:00:06.195 +03:00 [DBG] The request path  does not match the path filter
2025-10-20 16:00:06.197 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/'
2025-10-20 16:00:06.199 +03:00 [DBG] Endpoint 'CitiesApi.Controllers.CitiesController.GetCity (CitiesApi)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1/'
2025-10-20 16:00:06.201 +03:00 [DBG] Request matched endpoint 'CitiesApi.Controllers.CitiesController.GetCity (CitiesApi)'
2025-10-20 16:00:06.203 +03:00 [INF] Executing endpoint 'CitiesApi.Controllers.CitiesController.GetCity (CitiesApi)'
2025-10-20 16:00:06.204 +03:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CitiesApi.Controllers.CitiesController (CitiesApi).
2025-10-20 16:00:06.207 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-20 16:00:06.210 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-20 16:00:06.214 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-10-20 16:00:06.216 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-20 16:00:06.217 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-20 16:00:06.220 +03:00 [DBG] Executing controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-20 16:00:06.227 +03:00 [DBG] Executed controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-20 16:00:06.231 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-10-20 16:00:06.233 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-10-20 16:00:06.236 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-10-20 16:00:06.238 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-10-20 16:00:06.239 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-10-20 16:00:06.240 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-10-20 16:00:06.242 +03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2025-10-20 16:00:06.244 +03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2025-10-20 16:00:06.245 +03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-10-20 16:00:06.247 +03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-10-20 16:00:06.248 +03:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2025-10-20 16:00:06.250 +03:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-10-20 16:00:06.276 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-10-20 16:00:06.285 +03:00 [DBG] Creating DbConnection.
2025-10-20 16:00:06.287 +03:00 [DBG] Created DbConnection. (1ms).
2025-10-20 16:00:06.288 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 16:00:06.292 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 16:00:06.294 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 16:00:06.295 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 16:00:06.296 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-10-20 16:00:06.298 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[CityId], [t].[Description], [t].[Name], [p].[PointOfInterestId], [p].[CityId], [p].[Description], [p].[Name]
FROM (
    SELECT TOP(1) [c].[CityId], [c].[Description], [c].[Name]
    FROM [Cities] AS [c]
    WHERE [c].[CityId] = @__cityId_0
) AS [t]
LEFT JOIN [PointOfInterests] AS [p] ON [t].[CityId] = [p].[CityId]
ORDER BY [t].[CityId]
2025-10-20 16:00:06.319 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[CityId], [t].[Description], [t].[Name], [p].[PointOfInterestId], [p].[CityId], [p].[Description], [p].[Name]
FROM (
    SELECT TOP(1) [c].[CityId], [c].[Description], [c].[Name]
    FROM [Cities] AS [c]
    WHERE [c].[CityId] = @__cityId_0
) AS [t]
LEFT JOIN [PointOfInterests] AS [p] ON [t].[CityId] = [p].[CityId]
ORDER BY [t].[CityId]
2025-10-20 16:00:06.326 +03:00 [DBG] Context 'AppDbContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 16:00:06.332 +03:00 [DBG] Context 'AppDbContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 16:00:06.343 +03:00 [DBG] Context 'AppDbContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 16:00:06.346 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 16:00:06.348 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 22ms reading results.
2025-10-20 16:00:06.350 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 16:00:06.352 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (1ms).
2025-10-20 16:00:06.356 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-10-20 16:00:06.360 +03:00 [DBG] No information found on request to perform content negotiation.
2025-10-20 16:00:06.361 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-10-20 16:00:06.361 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-10-20 16:00:06.362 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-10-20 16:00:06.364 +03:00 [INF] Executing OkObjectResult, writing value of type 'CitiesApi.Models.CityDto'.
2025-10-20 16:00:06.366 +03:00 [INF] Executed action CitiesApi.Controllers.CitiesController.GetCity (CitiesApi) in 145.8359ms
2025-10-20 16:00:06.367 +03:00 [INF] Executed endpoint 'CitiesApi.Controllers.CitiesController.GetCity (CitiesApi)'
2025-10-20 16:00:06.369 +03:00 [DBG] Connection id "0HNGFR26PABNN" completed keep alive response.
2025-10-20 16:00:06.369 +03:00 [DBG] 'AppDbContext' disposed.
2025-10-20 16:00:06.371 +03:00 [DBG] Disposing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 16:00:06.372 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-20 16:00:06.373 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7025/api/cities/1/?includePointsOfInterest=true - 200 368 application/json; charset=utf-8 184.0744ms
2025-10-20 16:00:13.956 +03:00 [INF] Request starting HTTP/1.1 PATCH https://localhost:7025/api/cities/1/pointsofinterest/2 - application/json 107
2025-10-20 16:00:13.963 +03:00 [DBG] PATCH requests are not supported
2025-10-20 16:00:13.967 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/2'
2025-10-20 16:00:13.968 +03:00 [DBG] Endpoint 'CitiesApi.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CitiesApi)' with route pattern 'api/cities/{cityid}/pointsofinterest/{pointOfInterestId}' is valid for the request path '/api/cities/1/pointsofinterest/2'
2025-10-20 16:00:13.980 +03:00 [DBG] Request matched endpoint 'CitiesApi.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CitiesApi)'
2025-10-20 16:00:13.984 +03:00 [INF] Executing endpoint 'CitiesApi.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CitiesApi)'
2025-10-20 16:00:13.995 +03:00 [INF] Route matched with {action = "PartiallyUpdatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] PartiallyUpdatePointOfInterest(Int32, Int32, Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CitiesApi.Models.PointOfInterestForUpdateDto]) on controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi).
2025-10-20 16:00:13.997 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-20 16:00:13.998 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-20 16:00:14.001 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-10-20 16:00:14.003 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-20 16:00:14.006 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-20 16:00:14.007 +03:00 [DBG] Executing controller factory for controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi)
2025-10-20 16:00:14.013 +03:00 [DBG] Executed controller factory for controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi)
2025-10-20 16:00:14.015 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2025-10-20 16:00:14.017 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2025-10-20 16:00:14.018 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-10-20 16:00:14.020 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-10-20 16:00:14.021 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2025-10-20 16:00:14.022 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2025-10-20 16:00:14.023 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2025-10-20 16:00:14.025 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2025-10-20 16:00:14.027 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2025-10-20 16:00:14.028 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2025-10-20 16:00:14.029 +03:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2025-10-20 16:00:14.030 +03:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2025-10-20 16:00:14.035 +03:00 [DBG] Attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CitiesApi.Models.PointOfInterestForUpdateDto]' ...
2025-10-20 16:00:14.037 +03:00 [DBG] Attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CitiesApi.Models.PointOfInterestForUpdateDto]' using the name '' in request data ...
2025-10-20 16:00:14.041 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2025-10-20 16:00:14.044 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2025-10-20 16:00:14.055 +03:00 [DBG] Connection id "0HNGFR26PABNN", Request id "0HNGFR26PABNN:00000003": started reading request body.
2025-10-20 16:00:14.057 +03:00 [DBG] Connection id "0HNGFR26PABNN", Request id "0HNGFR26PABNN:00000003": done reading request body.
2025-10-20 16:00:14.134 +03:00 [DBG] Done attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CitiesApi.Models.PointOfInterestForUpdateDto]'.
2025-10-20 16:00:14.136 +03:00 [DBG] Done attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CitiesApi.Models.PointOfInterestForUpdateDto]'.
2025-10-20 16:00:14.137 +03:00 [DBG] Attempting to validate the bound parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CitiesApi.Models.PointOfInterestForUpdateDto]' ...
2025-10-20 16:00:14.146 +03:00 [DBG] Done attempting to validate the bound parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CitiesApi.Models.PointOfInterestForUpdateDto]'.
2025-10-20 16:00:14.253 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-10-20 16:00:14.261 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.CityId == __cityId_0)'
2025-10-20 16:00:14.274 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.CityId == @__cityId_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CitiesApi.Data.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-10-20 16:00:14.289 +03:00 [DBG] Creating DbConnection.
2025-10-20 16:00:14.292 +03:00 [DBG] Created DbConnection. (2ms).
2025-10-20 16:00:14.294 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 16:00:14.296 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 16:00:14.298 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 16:00:14.299 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 16:00:14.301 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-10-20 16:00:14.303 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[CityId] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-20 16:00:14.332 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[CityId] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-20 16:00:14.339 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 16:00:14.342 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 7ms reading results.
2025-10-20 16:00:14.345 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 16:00:14.347 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (2ms).
2025-10-20 16:00:14.355 +03:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .FirstOrDefault(P => P.PointOfInterestId == __pointOfInterestId_0 && P.CityId == __cityId_1)'
2025-10-20 16:00:14.364 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.PointOfInterestId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(500), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.PointOfInterestId, p.CityId, p.Description, p.Name
            FROM PointOfInterests AS p
            WHERE (p.PointOfInterestId == @__pointOfInterestId_0) && (p.CityId == @__cityId_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CitiesApi.Data.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-10-20 16:00:14.369 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 16:00:14.370 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 16:00:14.373 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 16:00:14.373 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-20 16:00:14.375 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-10-20 16:00:14.376 +03:00 [DBG] Executing DbCommand [Parameters=[@__pointOfInterestId_0='?' (DbType = Int32), @__cityId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PointOfInterestId], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointOfInterests] AS [p]
WHERE [p].[PointOfInterestId] = @__pointOfInterestId_0 AND [p].[CityId] = @__cityId_1
2025-10-20 16:00:14.384 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__pointOfInterestId_0='?' (DbType = Int32), @__cityId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PointOfInterestId], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointOfInterests] AS [p]
WHERE [p].[PointOfInterestId] = @__pointOfInterestId_0 AND [p].[CityId] = @__cityId_1
2025-10-20 16:00:14.389 +03:00 [DBG] Context 'AppDbContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 16:00:14.394 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 16:00:14.396 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 6ms reading results.
2025-10-20 16:00:14.404 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 16:00:14.406 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (1ms).
2025-10-20 16:00:14.426 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2025-10-20 16:00:14.432 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2025-10-20 16:00:14.449 +03:00 [DBG] The unchanged property 'PointOfInterest.Name' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-10-20 16:00:14.466 +03:00 [DBG] An entity of type 'PointOfInterest' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 16:00:14.475 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2025-10-20 16:00:14.581 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 16:00:14.584 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 16:00:14.591 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 16:00:14.594 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-10-20 16:00:14.597 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-10-20 16:00:14.601 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [PointOfInterests] SET [Name] = @p0
OUTPUT 1
WHERE [PointOfInterestId] = @p1;
2025-10-20 16:00:14.650 +03:00 [INF] Executed DbCommand (48ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [PointOfInterests] SET [Name] = @p0
OUTPUT 1
WHERE [PointOfInterestId] = @p1;
2025-10-20 16:00:14.661 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 16:00:14.664 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 12ms reading results.
2025-10-20 16:00:14.668 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 16:00:14.669 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (1ms).
2025-10-20 16:00:14.679 +03:00 [DBG] An entity of type 'PointOfInterest' tracked by 'AppDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 16:00:14.684 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2025-10-20 16:00:14.690 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-10-20 16:00:14.692 +03:00 [INF] Executed action CitiesApi.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CitiesApi) in 684.5756ms
2025-10-20 16:00:14.693 +03:00 [INF] Executed endpoint 'CitiesApi.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CitiesApi)'
2025-10-20 16:00:14.694 +03:00 [DBG] Connection id "0HNGFR26PABNN" completed keep alive response.
2025-10-20 16:00:14.696 +03:00 [DBG] 'AppDbContext' disposed.
2025-10-20 16:00:14.696 +03:00 [DBG] Disposing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 16:00:14.699 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-10-20 16:00:14.700 +03:00 [INF] Request finished HTTP/1.1 PATCH https://localhost:7025/api/cities/1/pointsofinterest/2 - 204 null null 743.797ms
2025-10-20 16:00:17.546 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7025/api/cities/1/?includePointsOfInterest=true - null null
2025-10-20 16:00:17.553 +03:00 [DBG] The request path  does not match the path filter
2025-10-20 16:00:17.555 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/'
2025-10-20 16:00:17.556 +03:00 [DBG] Endpoint 'CitiesApi.Controllers.CitiesController.GetCity (CitiesApi)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1/'
2025-10-20 16:00:17.557 +03:00 [DBG] Request matched endpoint 'CitiesApi.Controllers.CitiesController.GetCity (CitiesApi)'
2025-10-20 16:00:17.560 +03:00 [INF] Executing endpoint 'CitiesApi.Controllers.CitiesController.GetCity (CitiesApi)'
2025-10-20 16:00:17.561 +03:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CitiesApi.Controllers.CitiesController (CitiesApi).
2025-10-20 16:00:17.564 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-20 16:00:17.568 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-20 16:00:17.572 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-10-20 16:00:17.576 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-20 16:00:17.582 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-20 16:00:17.585 +03:00 [DBG] Executing controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-20 16:00:17.587 +03:00 [DBG] Executed controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-20 16:00:17.588 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-10-20 16:00:17.590 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-10-20 16:00:17.592 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-10-20 16:00:17.593 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-10-20 16:00:17.594 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-10-20 16:00:17.596 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-10-20 16:00:17.597 +03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2025-10-20 16:00:17.598 +03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2025-10-20 16:00:17.600 +03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-10-20 16:00:17.601 +03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-10-20 16:00:17.603 +03:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2025-10-20 16:00:17.604 +03:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-10-20 16:00:17.606 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-10-20 16:00:17.611 +03:00 [DBG] Creating DbConnection.
2025-10-20 16:00:17.612 +03:00 [DBG] Created DbConnection. (1ms).
2025-10-20 16:00:17.614 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 16:00:17.616 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 16:00:17.617 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 16:00:17.618 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-20 16:00:17.619 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-10-20 16:00:17.621 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[CityId], [t].[Description], [t].[Name], [p].[PointOfInterestId], [p].[CityId], [p].[Description], [p].[Name]
FROM (
    SELECT TOP(1) [c].[CityId], [c].[Description], [c].[Name]
    FROM [Cities] AS [c]
    WHERE [c].[CityId] = @__cityId_0
) AS [t]
LEFT JOIN [PointOfInterests] AS [p] ON [t].[CityId] = [p].[CityId]
ORDER BY [t].[CityId]
2025-10-20 16:00:17.628 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[CityId], [t].[Description], [t].[Name], [p].[PointOfInterestId], [p].[CityId], [p].[Description], [p].[Name]
FROM (
    SELECT TOP(1) [c].[CityId], [c].[Description], [c].[Name]
    FROM [Cities] AS [c]
    WHERE [c].[CityId] = @__cityId_0
) AS [t]
LEFT JOIN [PointOfInterests] AS [p] ON [t].[CityId] = [p].[CityId]
ORDER BY [t].[CityId]
2025-10-20 16:00:17.632 +03:00 [DBG] Context 'AppDbContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 16:00:17.633 +03:00 [DBG] Context 'AppDbContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 16:00:17.636 +03:00 [DBG] Context 'AppDbContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-20 16:00:17.638 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 16:00:17.640 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 8ms reading results.
2025-10-20 16:00:17.647 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 16:00:17.649 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (2ms).
2025-10-20 16:00:17.651 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-10-20 16:00:17.654 +03:00 [DBG] No information found on request to perform content negotiation.
2025-10-20 16:00:17.654 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-10-20 16:00:17.655 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-10-20 16:00:17.656 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-10-20 16:00:17.658 +03:00 [INF] Executing OkObjectResult, writing value of type 'CitiesApi.Models.CityDto'.
2025-10-20 16:00:17.662 +03:00 [INF] Executed action CitiesApi.Controllers.CitiesController.GetCity (CitiesApi) in 76.9617ms
2025-10-20 16:00:17.664 +03:00 [INF] Executed endpoint 'CitiesApi.Controllers.CitiesController.GetCity (CitiesApi)'
2025-10-20 16:00:17.665 +03:00 [DBG] Connection id "0HNGFR26PABNN" completed keep alive response.
2025-10-20 16:00:17.666 +03:00 [DBG] 'AppDbContext' disposed.
2025-10-20 16:00:17.667 +03:00 [DBG] Disposing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 16:00:17.669 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-20 16:00:17.671 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7025/api/cities/1/?includePointsOfInterest=true - 200 374 application/json; charset=utf-8 125.5765ms
2025-10-20 16:00:24.072 +03:00 [INF] Request starting HTTP/1.1 PATCH https://localhost:7025/api/cities/1/pointsofinterest/6 - application/json 107
2025-10-20 16:00:24.075 +03:00 [DBG] PATCH requests are not supported
2025-10-20 16:00:24.076 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/6'
2025-10-20 16:00:24.077 +03:00 [DBG] Endpoint 'CitiesApi.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CitiesApi)' with route pattern 'api/cities/{cityid}/pointsofinterest/{pointOfInterestId}' is valid for the request path '/api/cities/1/pointsofinterest/6'
2025-10-20 16:00:24.079 +03:00 [DBG] Request matched endpoint 'CitiesApi.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CitiesApi)'
2025-10-20 16:00:24.082 +03:00 [INF] Executing endpoint 'CitiesApi.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CitiesApi)'
2025-10-20 16:00:24.085 +03:00 [INF] Route matched with {action = "PartiallyUpdatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] PartiallyUpdatePointOfInterest(Int32, Int32, Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CitiesApi.Models.PointOfInterestForUpdateDto]) on controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi).
2025-10-20 16:00:24.090 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-20 16:00:24.092 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-20 16:00:24.094 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-10-20 16:00:24.096 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-20 16:00:24.097 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-20 16:00:24.099 +03:00 [DBG] Executing controller factory for controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi)
2025-10-20 16:00:24.102 +03:00 [DBG] Executed controller factory for controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi)
2025-10-20 16:00:24.103 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2025-10-20 16:00:24.104 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2025-10-20 16:00:24.106 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-10-20 16:00:24.107 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-10-20 16:00:24.109 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2025-10-20 16:00:24.110 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2025-10-20 16:00:24.112 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2025-10-20 16:00:24.113 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2025-10-20 16:00:24.115 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2025-10-20 16:00:24.116 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2025-10-20 16:00:24.117 +03:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2025-10-20 16:00:24.119 +03:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2025-10-20 16:00:24.121 +03:00 [DBG] Attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CitiesApi.Models.PointOfInterestForUpdateDto]' ...
2025-10-20 16:00:24.122 +03:00 [DBG] Attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CitiesApi.Models.PointOfInterestForUpdateDto]' using the name '' in request data ...
2025-10-20 16:00:24.123 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2025-10-20 16:00:24.125 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2025-10-20 16:00:24.126 +03:00 [DBG] Connection id "0HNGFR26PABNN", Request id "0HNGFR26PABNN:00000005": started reading request body.
2025-10-20 16:00:24.128 +03:00 [DBG] Connection id "0HNGFR26PABNN", Request id "0HNGFR26PABNN:00000005": done reading request body.
2025-10-20 16:00:24.131 +03:00 [DBG] Done attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CitiesApi.Models.PointOfInterestForUpdateDto]'.
2025-10-20 16:00:24.132 +03:00 [DBG] Done attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CitiesApi.Models.PointOfInterestForUpdateDto]'.
2025-10-20 16:00:24.134 +03:00 [DBG] Attempting to validate the bound parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CitiesApi.Models.PointOfInterestForUpdateDto]' ...
2025-10-20 16:00:24.136 +03:00 [DBG] Done attempting to validate the bound parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CitiesApi.Models.PointOfInterestForUpdateDto]'.
2025-10-20 16:00:24.137 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-10-20 16:00:24.140 +03:00 [DBG] Creating DbConnection.
2025-10-20 16:00:24.141 +03:00 [DBG] Created DbConnection. (1ms).
2025-10-20 16:00:24.144 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 16:00:24.146 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 16:00:24.149 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 16:00:24.152 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-10-20 16:00:24.154 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-10-20 16:00:24.156 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[CityId] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-20 16:00:24.171 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[CityId] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-20 16:00:24.178 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 16:00:24.179 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 2ms reading results.
2025-10-20 16:00:24.182 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 16:00:24.185 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (2ms).
2025-10-20 16:00:24.187 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 16:00:24.190 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 16:00:24.193 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 16:00:24.194 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 16:00:24.198 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-10-20 16:00:24.200 +03:00 [DBG] Executing DbCommand [Parameters=[@__pointOfInterestId_0='?' (DbType = Int32), @__cityId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PointOfInterestId], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointOfInterests] AS [p]
WHERE [p].[PointOfInterestId] = @__pointOfInterestId_0 AND [p].[CityId] = @__cityId_1
2025-10-20 16:00:24.236 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[@__pointOfInterestId_0='?' (DbType = Int32), @__cityId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PointOfInterestId], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointOfInterests] AS [p]
WHERE [p].[PointOfInterestId] = @__pointOfInterestId_0 AND [p].[CityId] = @__cityId_1
2025-10-20 16:00:24.256 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 16:00:24.259 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 2ms reading results.
2025-10-20 16:00:24.263 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 16:00:24.265 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (2ms).
2025-10-20 16:00:24.270 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-10-20 16:00:24.275 +03:00 [DBG] No information found on request to perform content negotiation.
2025-10-20 16:00:24.278 +03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-10-20 16:00:24.285 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-10-20 16:00:24.288 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-10-20 16:00:24.306 +03:00 [INF] Executed action CitiesApi.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CitiesApi) in 207.475ms
2025-10-20 16:00:24.310 +03:00 [INF] Executed endpoint 'CitiesApi.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CitiesApi)'
2025-10-20 16:00:24.311 +03:00 [DBG] Connection id "0HNGFR26PABNN" completed keep alive response.
2025-10-20 16:00:24.312 +03:00 [DBG] 'AppDbContext' disposed.
2025-10-20 16:00:24.313 +03:00 [DBG] Disposing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 16:00:24.315 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-20 16:00:24.317 +03:00 [INF] Request finished HTTP/1.1 PATCH https://localhost:7025/api/cities/1/pointsofinterest/6 - 404 162 application/problem+json; charset=utf-8 244.5557ms
2025-10-20 16:00:28.756 +03:00 [INF] Request starting HTTP/1.1 PATCH https://localhost:7025/api/cities/12/pointsofinterest/6 - application/json 107
2025-10-20 16:00:28.763 +03:00 [DBG] PATCH requests are not supported
2025-10-20 16:00:28.766 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/12/pointsofinterest/6'
2025-10-20 16:00:28.768 +03:00 [DBG] Endpoint 'CitiesApi.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CitiesApi)' with route pattern 'api/cities/{cityid}/pointsofinterest/{pointOfInterestId}' is valid for the request path '/api/cities/12/pointsofinterest/6'
2025-10-20 16:00:28.773 +03:00 [DBG] Request matched endpoint 'CitiesApi.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CitiesApi)'
2025-10-20 16:00:28.777 +03:00 [INF] Executing endpoint 'CitiesApi.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CitiesApi)'
2025-10-20 16:00:28.781 +03:00 [INF] Route matched with {action = "PartiallyUpdatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] PartiallyUpdatePointOfInterest(Int32, Int32, Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CitiesApi.Models.PointOfInterestForUpdateDto]) on controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi).
2025-10-20 16:00:28.785 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-20 16:00:28.787 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-20 16:00:28.789 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-10-20 16:00:28.792 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-20 16:00:28.796 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-20 16:00:28.800 +03:00 [DBG] Executing controller factory for controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi)
2025-10-20 16:00:28.802 +03:00 [DBG] Executed controller factory for controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi)
2025-10-20 16:00:28.805 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2025-10-20 16:00:28.812 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2025-10-20 16:00:28.822 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-10-20 16:00:28.831 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-10-20 16:00:28.832 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2025-10-20 16:00:28.833 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2025-10-20 16:00:28.835 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2025-10-20 16:00:28.836 +03:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2025-10-20 16:00:28.838 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2025-10-20 16:00:28.844 +03:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2025-10-20 16:00:28.845 +03:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2025-10-20 16:00:28.847 +03:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2025-10-20 16:00:28.848 +03:00 [DBG] Attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CitiesApi.Models.PointOfInterestForUpdateDto]' ...
2025-10-20 16:00:28.850 +03:00 [DBG] Attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CitiesApi.Models.PointOfInterestForUpdateDto]' using the name '' in request data ...
2025-10-20 16:00:28.852 +03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2025-10-20 16:00:28.853 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2025-10-20 16:00:28.856 +03:00 [DBG] Connection id "0HNGFR26PABNN", Request id "0HNGFR26PABNN:00000006": started reading request body.
2025-10-20 16:00:28.857 +03:00 [DBG] Connection id "0HNGFR26PABNN", Request id "0HNGFR26PABNN:00000006": done reading request body.
2025-10-20 16:00:28.859 +03:00 [DBG] Done attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CitiesApi.Models.PointOfInterestForUpdateDto]'.
2025-10-20 16:00:28.861 +03:00 [DBG] Done attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CitiesApi.Models.PointOfInterestForUpdateDto]'.
2025-10-20 16:00:28.862 +03:00 [DBG] Attempting to validate the bound parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CitiesApi.Models.PointOfInterestForUpdateDto]' ...
2025-10-20 16:00:28.864 +03:00 [DBG] Done attempting to validate the bound parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CitiesApi.Models.PointOfInterestForUpdateDto]'.
2025-10-20 16:00:28.866 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-10-20 16:00:28.871 +03:00 [DBG] Creating DbConnection.
2025-10-20 16:00:28.873 +03:00 [DBG] Created DbConnection. (1ms).
2025-10-20 16:00:28.874 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 16:00:28.877 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 16:00:28.879 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-20 16:00:28.880 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-20 16:00:28.883 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-10-20 16:00:28.886 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[CityId] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-20 16:00:28.901 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[CityId] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-20 16:00:28.905 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 16:00:28.907 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 2ms reading results.
2025-10-20 16:00:28.909 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 16:00:28.911 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (2ms).
2025-10-20 16:00:28.914 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-10-20 16:00:28.917 +03:00 [DBG] No information found on request to perform content negotiation.
2025-10-20 16:00:28.919 +03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-10-20 16:00:28.922 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-10-20 16:00:28.925 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-10-20 16:00:28.927 +03:00 [INF] Executed action CitiesApi.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CitiesApi) in 127.4093ms
2025-10-20 16:00:28.929 +03:00 [INF] Executed endpoint 'CitiesApi.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CitiesApi)'
2025-10-20 16:00:28.930 +03:00 [DBG] Connection id "0HNGFR26PABNN" completed keep alive response.
2025-10-20 16:00:28.933 +03:00 [DBG] 'AppDbContext' disposed.
2025-10-20 16:00:28.935 +03:00 [DBG] Disposing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-20 16:00:28.938 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-10-20 16:00:28.940 +03:00 [INF] Request finished HTTP/1.1 PATCH https://localhost:7025/api/cities/12/pointsofinterest/6 - 404 162 application/problem+json; charset=utf-8 184.4335ms
