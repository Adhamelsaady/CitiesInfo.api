2025-10-19 18:08:01.462 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-10-19 18:08:01.879 +03:00 [DBG] Hosting starting
2025-10-19 18:08:01.894 +03:00 [DBG] Middleware loaded
2025-10-19 18:08:01.897 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16503 B).
2025-10-19 18:08:01.900 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-10-19 18:08:02.055 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-10-19 18:08:02.175 +03:00 [INF] Now listening on: https://localhost:7025
2025-10-19 18:08:02.176 +03:00 [INF] Now listening on: http://localhost:5105
2025-10-19 18:08:02.176 +03:00 [DBG] Loaded hosting startup assembly CitiesApi
2025-10-19 18:08:02.177 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-10-19 18:08:02.178 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-10-19 18:08:02.179 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-10-19 18:08:02.345 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-19 18:08:02.346 +03:00 [INF] Hosting environment: Development
2025-10-19 18:08:02.348 +03:00 [INF] Content root path: D:\Projects\CitiesApi\CitiesApi
2025-10-19 18:08:02.350 +03:00 [DBG] Hosting started
2025-10-19 18:08:02.470 +03:00 [DBG] Connection id "0HNGF4567NF0U" accepted.
2025-10-19 18:08:02.470 +03:00 [DBG] Connection id "0HNGF4567NF0V" accepted.
2025-10-19 18:08:02.472 +03:00 [DBG] Connection id "0HNGF4567NF0U" started.
2025-10-19 18:08:02.473 +03:00 [DBG] Connection id "0HNGF4567NF0V" started.
2025-10-19 18:08:02.494 +03:00 [DBG] Connection id "0HNGF4567NF0V" received FIN.
2025-10-19 18:08:02.494 +03:00 [DBG] Connection id "0HNGF4567NF0U" received FIN.
2025-10-19 18:08:02.508 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-19 18:08:02.508 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-19 18:08:02.553 +03:00 [DBG] Connection id "0HNGF4567NF0V" stopped.
2025-10-19 18:08:02.554 +03:00 [DBG] Connection id "0HNGF4567NF0U" stopped.
2025-10-19 18:08:02.559 +03:00 [DBG] Connection id "0HNGF4567NF0U" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 18:08:02.559 +03:00 [DBG] Connection id "0HNGF4567NF0V" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 18:08:04.939 +03:00 [DBG] Connection id "0HNGF4567NF10" accepted.
2025-10-19 18:08:04.941 +03:00 [DBG] Connection id "0HNGF4567NF10" started.
2025-10-19 18:08:05.039 +03:00 [DBG] Connection 0HNGF4567NF10 established using the following protocol: "Tls13"
2025-10-19 18:08:05.162 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/swagger/index.html - null null
2025-10-19 18:08:05.394 +03:00 [WRN] Unable to contact VS to retrieve Browser Link script tag.
2025-10-19 18:08:05.398 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-10-19 18:08:05.490 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-10-19 18:08:05.511 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-10-19 18:08:05.518 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/swagger/index.html - 200 null text/html;charset=utf-8 365.8618ms
2025-10-19 18:08:05.616 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/_framework/aspnetcore-browser-refresh.js - null null
2025-10-19 18:08:05.628 +03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-10-19 18:08:05.631 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/_framework/aspnetcore-browser-refresh.js - 200 16503 application/javascript; charset=utf-8 14.9655ms
2025-10-19 18:08:06.304 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/swagger/v1/swagger.json - null null
2025-10-19 18:08:06.332 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 28.4697ms
2025-10-19 18:08:07.574 +03:00 [DBG] Connection id "0HNGF4567NF10" received FIN.
2025-10-19 18:08:07.587 +03:00 [DBG] The connection queue processing loop for 0HNGF4567NF10 completed.
2025-10-19 18:08:07.597 +03:00 [DBG] Connection id "0HNGF4567NF10" is closed. The last processed stream ID was 5.
2025-10-19 18:08:07.601 +03:00 [DBG] Connection id "0HNGF4567NF10" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 18:08:07.615 +03:00 [DBG] Connection id "0HNGF4567NF10" stopped.
2025-10-19 18:08:11.405 +03:00 [DBG] Connection id "0HNGF4567NF11" accepted.
2025-10-19 18:08:11.411 +03:00 [DBG] Connection id "0HNGF4567NF11" started.
2025-10-19 18:08:11.422 +03:00 [DBG] Connection 0HNGF4567NF11 established using the following protocol: "Tls13"
2025-10-19 18:08:11.427 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/api/cities - null null
2025-10-19 18:08:11.438 +03:00 [DBG] The request path  does not match the path filter
2025-10-19 18:08:11.493 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-10-19 18:08:11.497 +03:00 [DBG] Endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-10-19 18:08:11.501 +03:00 [DBG] Request matched endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 18:08:11.506 +03:00 [INF] Executing endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 18:08:11.553 +03:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CitiesApi.Models.CityDtoWithoutPointsOfInterest]]] GetCities() on controller CitiesApi.Controllers.CitiesController (CitiesApi).
2025-10-19 18:08:11.558 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-19 18:08:11.560 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-19 18:08:11.565 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-10-19 18:08:11.568 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-19 18:08:11.571 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-19 18:08:11.576 +03:00 [DBG] Executing controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-19 18:08:12.396 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-10-19 18:08:12.449 +03:00 [DBG] Executed controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-19 18:08:13.551 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-10-19 18:08:13.616 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2025-10-19 18:08:13.954 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.CityId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(500), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.CityId, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CitiesApi.Data.AppDbContext, 
    False, 
    False, 
    True
)'
2025-10-19 18:08:14.013 +03:00 [DBG] Creating DbConnection.
2025-10-19 18:08:14.434 +03:00 [DBG] Created DbConnection. (419ms).
2025-10-19 18:08:14.441 +03:00 [DBG] Opening connection to database '' on server ''.
2025-10-19 18:08:14.987 +03:00 [ERR] An error occurred using the connection to database '' on server ''.
2025-10-19 18:08:15.001 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CitiesApi.Data.AppDbContext'.
System.InvalidOperationException: The ConnectionString property has not been initialized.
   at Microsoft.Data.SqlClient.SqlConnection.PermissionDemand()
   at Microsoft.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: The ConnectionString property has not been initialized.
   at Microsoft.Data.SqlClient.SqlConnection.PermissionDemand()
   at Microsoft.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-10-19 18:08:15.182 +03:00 [INF] Executed action CitiesApi.Controllers.CitiesController.GetCities (CitiesApi) in 3595.6448ms
2025-10-19 18:08:15.188 +03:00 [INF] Executed endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 18:08:15.191 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The ConnectionString property has not been initialized.
   at Microsoft.Data.SqlClient.SqlConnection.PermissionDemand()
   at Microsoft.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CitiesApi.Services.CityInfoRepository.GetCitiesAsync() in D:\Projects\CitiesApi\CitiesApi\Services\CityInfoRepository.cs:line 16
   at CitiesApi.Controllers.CitiesController.GetCities() in D:\Projects\CitiesApi\CitiesApi\Controllers\CitiesController.cs:line 22
   at lambda_method5(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-10-19 18:08:15.267 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-10-19 18:08:15.287 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2025-10-19 18:08:15.293 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-10-19 18:08:15.299 +03:00 [DBG] 'AppDbContext' disposed.
2025-10-19 18:08:15.318 +03:00 [DBG] Disposing connection to database '' on server ''.
2025-10-19 18:08:15.327 +03:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-10-19 18:08:15.329 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/api/cities - 500 0 null 3901.8183ms
2025-10-19 18:08:17.585 +03:00 [DBG] Connection id "0HNGF4567NF11" received FIN.
2025-10-19 18:08:17.592 +03:00 [DBG] Connection id "0HNGF4567NF11" is closed. The last processed stream ID was 1.
2025-10-19 18:08:17.592 +03:00 [DBG] The connection queue processing loop for 0HNGF4567NF11 completed.
2025-10-19 18:08:17.598 +03:00 [DBG] Connection id "0HNGF4567NF11" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 18:08:17.611 +03:00 [DBG] Connection id "0HNGF4567NF11" stopped.
2025-10-19 18:09:32.998 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-10-19 18:09:33.278 +03:00 [DBG] Hosting starting
2025-10-19 18:09:33.312 +03:00 [DBG] Middleware loaded
2025-10-19 18:09:33.317 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16503 B).
2025-10-19 18:09:33.320 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-10-19 18:09:33.764 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-10-19 18:09:34.380 +03:00 [DBG] Connection id "0HNGF461K7MS6" accepted.
2025-10-19 18:09:34.386 +03:00 [INF] Now listening on: https://localhost:7025
2025-10-19 18:09:34.380 +03:00 [DBG] Connection id "0HNGF461K7MS7" accepted.
2025-10-19 18:09:34.388 +03:00 [DBG] Connection id "0HNGF461K7MS6" started.
2025-10-19 18:09:34.391 +03:00 [INF] Now listening on: http://localhost:5105
2025-10-19 18:09:34.389 +03:00 [DBG] Connection id "0HNGF461K7MS6" received FIN.
2025-10-19 18:09:34.389 +03:00 [DBG] Connection id "0HNGF461K7MS7" received FIN.
2025-10-19 18:09:34.399 +03:00 [DBG] Loaded hosting startup assembly CitiesApi
2025-10-19 18:09:34.393 +03:00 [DBG] Connection id "0HNGF461K7MS7" started.
2025-10-19 18:09:34.411 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-10-19 18:09:34.415 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-10-19 18:09:34.417 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-10-19 18:09:34.431 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-19 18:09:34.431 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-19 18:09:34.504 +03:00 [DBG] Connection id "0HNGF461K7MS6" stopped.
2025-10-19 18:09:34.504 +03:00 [DBG] Connection id "0HNGF461K7MS7" stopped.
2025-10-19 18:09:34.513 +03:00 [DBG] Connection id "0HNGF461K7MS7" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 18:09:34.513 +03:00 [DBG] Connection id "0HNGF461K7MS6" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 18:09:34.596 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-19 18:09:34.605 +03:00 [INF] Hosting environment: Development
2025-10-19 18:09:34.609 +03:00 [INF] Content root path: D:\Projects\CitiesApi\CitiesApi
2025-10-19 18:09:34.614 +03:00 [DBG] Hosting started
2025-10-19 18:09:35.188 +03:00 [DBG] Connection id "0HNGF461K7MS8" accepted.
2025-10-19 18:09:35.192 +03:00 [DBG] Connection id "0HNGF461K7MS8" started.
2025-10-19 18:09:35.270 +03:00 [DBG] Connection 0HNGF461K7MS8 established using the following protocol: "Tls13"
2025-10-19 18:09:35.382 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/swagger/index.html - null null
2025-10-19 18:09:35.585 +03:00 [WRN] Unable to contact VS to retrieve Browser Link script tag.
2025-10-19 18:09:35.589 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-10-19 18:09:35.678 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-10-19 18:09:35.712 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-10-19 18:09:35.717 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/swagger/index.html - 200 null text/html;charset=utf-8 342.456ms
2025-10-19 18:09:35.906 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/_framework/aspnetcore-browser-refresh.js - null null
2025-10-19 18:09:35.917 +03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-10-19 18:09:35.921 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/_framework/aspnetcore-browser-refresh.js - 200 16503 application/javascript; charset=utf-8 15.2812ms
2025-10-19 18:09:36.152 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/swagger/v1/swagger.json - null null
2025-10-19 18:09:36.175 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 23.9302ms
2025-10-19 18:09:37.697 +03:00 [DBG] Connection id "0HNGF461K7MS8" received FIN.
2025-10-19 18:09:37.710 +03:00 [DBG] The connection queue processing loop for 0HNGF461K7MS8 completed.
2025-10-19 18:09:37.720 +03:00 [DBG] Connection id "0HNGF461K7MS8" is closed. The last processed stream ID was 5.
2025-10-19 18:09:37.722 +03:00 [DBG] Connection id "0HNGF461K7MS8" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 18:09:37.733 +03:00 [DBG] Connection id "0HNGF461K7MS8" stopped.
2025-10-19 18:09:47.531 +03:00 [DBG] Connection id "0HNGF461K7MS9" accepted.
2025-10-19 18:09:47.534 +03:00 [DBG] Connection id "0HNGF461K7MS9" started.
2025-10-19 18:09:47.543 +03:00 [DBG] Connection 0HNGF461K7MS9 established using the following protocol: "Tls13"
2025-10-19 18:09:47.546 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/api/cities/2/pointsofinterest - null null
2025-10-19 18:09:47.571 +03:00 [WRN] Unable to contact VS to retrieve Browser Link script tag.
2025-10-19 18:09:47.577 +03:00 [DBG] The request path  does not match the path filter
2025-10-19 18:09:47.616 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2/pointsofinterest'
2025-10-19 18:09:47.624 +03:00 [DBG] Endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointsOfInterest (CitiesApi)' with route pattern 'api/cities/{cityid}/pointsofinterest' is valid for the request path '/api/cities/2/pointsofinterest'
2025-10-19 18:09:47.629 +03:00 [DBG] Request matched endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointsOfInterest (CitiesApi)'
2025-10-19 18:09:47.637 +03:00 [INF] Executing endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointsOfInterest (CitiesApi)'
2025-10-19 18:09:47.682 +03:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CitiesApi.Models.PointsOfInterestDto]] GetPointsOfInterest(Int32) on controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi).
2025-10-19 18:09:47.689 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-19 18:09:47.692 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-19 18:09:47.693 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-10-19 18:09:47.695 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-19 18:09:47.697 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-19 18:09:47.702 +03:00 [DBG] Executing controller factory for controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi)
2025-10-19 18:09:47.708 +03:00 [DBG] Executed controller factory for controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi)
2025-10-19 18:09:47.737 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2025-10-19 18:09:47.741 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2025-10-19 18:09:47.747 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-10-19 18:09:47.749 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-10-19 18:09:47.751 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2025-10-19 18:09:47.758 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2025-10-19 18:09:47.773 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-10-19 18:09:47.786 +03:00 [DBG] No information found on request to perform content negotiation.
2025-10-19 18:09:47.787 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-10-19 18:09:47.788 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-10-19 18:09:47.791 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-10-19 18:09:47.794 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CitiesApi.Models.PointsOfInterestDto, CitiesApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-19 18:09:47.997 +03:00 [INF] Executed action CitiesApi.Controllers.PointsOfInterestController.GetPointsOfInterest (CitiesApi) in 292.9993ms
2025-10-19 18:09:48.001 +03:00 [INF] Executed endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointsOfInterest (CitiesApi)'
2025-10-19 18:09:48.018 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/api/cities/2/pointsofinterest - 200 206 application/json; charset=utf-8 472.0372ms
2025-10-19 18:09:48.062 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/favicon.ico - null null
2025-10-19 18:09:48.065 +03:00 [DBG] The request path  does not match the path filter
2025-10-19 18:09:48.067 +03:00 [DBG] No candidates found for the request path '/favicon.ico'
2025-10-19 18:09:48.068 +03:00 [DBG] Request did not match any endpoints
2025-10-19 18:09:48.071 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/favicon.ico - 404 0 null 9.2795ms
2025-10-19 18:09:48.079 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7025/favicon.ico, Response status code: 404
2025-10-19 18:09:52.723 +03:00 [DBG] Connection id "0HNGF461K7MS9" received FIN.
2025-10-19 18:09:52.727 +03:00 [DBG] Connection id "0HNGF461K7MS9" is closed. The last processed stream ID was 3.
2025-10-19 18:09:52.728 +03:00 [DBG] The connection queue processing loop for 0HNGF461K7MS9 completed.
2025-10-19 18:09:52.733 +03:00 [DBG] Connection id "0HNGF461K7MS9" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 18:09:52.750 +03:00 [DBG] Connection id "0HNGF461K7MS9" stopped.
2025-10-19 18:09:54.135 +03:00 [DBG] Connection id "0HNGF461K7MSA" accepted.
2025-10-19 18:09:54.138 +03:00 [DBG] Connection id "0HNGF461K7MSA" started.
2025-10-19 18:09:54.152 +03:00 [DBG] Connection 0HNGF461K7MSA established using the following protocol: "Tls13"
2025-10-19 18:09:54.157 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/api/cities - null null
2025-10-19 18:09:54.176 +03:00 [WRN] Unable to contact VS to retrieve Browser Link script tag.
2025-10-19 18:09:54.177 +03:00 [DBG] The request path  does not match the path filter
2025-10-19 18:09:54.178 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-10-19 18:09:54.181 +03:00 [DBG] Endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-10-19 18:09:54.183 +03:00 [DBG] Request matched endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 18:09:54.184 +03:00 [INF] Executing endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 18:09:54.198 +03:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CitiesApi.Models.CityDtoWithoutPointsOfInterest]]] GetCities() on controller CitiesApi.Controllers.CitiesController (CitiesApi).
2025-10-19 18:09:54.201 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-19 18:09:54.204 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-19 18:09:54.205 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-10-19 18:09:54.207 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-19 18:09:54.209 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-19 18:09:54.211 +03:00 [DBG] Executing controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-19 18:09:54.494 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-10-19 18:09:54.527 +03:00 [DBG] Executed controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-19 18:09:55.622 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-10-19 18:09:55.671 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2025-10-19 18:09:56.037 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.CityId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(500), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.CityId, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CitiesApi.Data.AppDbContext, 
    False, 
    False, 
    True
)'
2025-10-19 18:09:56.086 +03:00 [DBG] Creating DbConnection.
2025-10-19 18:09:56.135 +03:00 [DBG] Created DbConnection. (47ms).
2025-10-19 18:09:56.141 +03:00 [DBG] Opening connection to database '' on server ''.
2025-10-19 18:09:56.356 +03:00 [ERR] An error occurred using the connection to database '' on server ''.
2025-10-19 18:09:56.370 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CitiesApi.Data.AppDbContext'.
System.InvalidOperationException: The ConnectionString property has not been initialized.
   at Microsoft.Data.SqlClient.SqlConnection.PermissionDemand()
   at Microsoft.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: The ConnectionString property has not been initialized.
   at Microsoft.Data.SqlClient.SqlConnection.PermissionDemand()
   at Microsoft.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-10-19 18:09:56.592 +03:00 [INF] Executed action CitiesApi.Controllers.CitiesController.GetCities (CitiesApi) in 2381.4001ms
2025-10-19 18:09:56.597 +03:00 [INF] Executed endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 18:09:56.600 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The ConnectionString property has not been initialized.
   at Microsoft.Data.SqlClient.SqlConnection.PermissionDemand()
   at Microsoft.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CitiesApi.Services.CityInfoRepository.GetCitiesAsync() in D:\Projects\CitiesApi\CitiesApi\Services\CityInfoRepository.cs:line 16
   at CitiesApi.Controllers.CitiesController.GetCities() in D:\Projects\CitiesApi\CitiesApi\Controllers\CitiesController.cs:line 22
   at lambda_method10(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-10-19 18:09:56.798 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-10-19 18:09:56.805 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-10-19 18:09:56.810 +03:00 [DBG] 'AppDbContext' disposed.
2025-10-19 18:09:56.822 +03:00 [DBG] Disposing connection to database '' on server ''.
2025-10-19 18:09:56.833 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/_framework/aspnetcore-browser-refresh.js - null null
2025-10-19 18:09:56.834 +03:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-10-19 18:09:56.838 +03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-10-19 18:09:56.840 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/api/cities - 500 null text/html; charset=utf-8 2683.3552ms
2025-10-19 18:09:56.840 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/_framework/aspnetcore-browser-refresh.js - 200 16503 application/javascript; charset=utf-8 9.3015ms
2025-10-19 18:10:01.310 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/api/cities/getcities - null null
2025-10-19 18:10:01.346 +03:00 [WRN] Unable to contact VS to retrieve Browser Link script tag.
2025-10-19 18:10:01.351 +03:00 [DBG] The request path  does not match the path filter
2025-10-19 18:10:01.356 +03:00 [DBG] No candidates found for the request path '/api/cities/getcities'
2025-10-19 18:10:01.359 +03:00 [DBG] Request did not match any endpoints
2025-10-19 18:10:01.363 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/api/cities/getcities - 404 0 null 53.9712ms
2025-10-19 18:10:01.373 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7025/api/cities/getcities, Response status code: 404
2025-10-19 18:10:12.742 +03:00 [DBG] Connection id "0HNGF461K7MSA" received FIN.
2025-10-19 18:10:12.744 +03:00 [DBG] Connection id "0HNGF461K7MSA" is closed. The last processed stream ID was 5.
2025-10-19 18:10:12.744 +03:00 [DBG] The connection queue processing loop for 0HNGF461K7MSA completed.
2025-10-19 18:10:12.747 +03:00 [DBG] Connection id "0HNGF461K7MSA" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 18:10:12.757 +03:00 [DBG] Connection id "0HNGF461K7MSA" stopped.
2025-10-19 18:10:18.216 +03:00 [DBG] Connection id "0HNGF461K7MSB" accepted.
2025-10-19 18:10:18.219 +03:00 [DBG] Connection id "0HNGF461K7MSB" received FIN.
2025-10-19 18:10:18.221 +03:00 [DBG] Connection id "0HNGF461K7MSB" started.
2025-10-19 18:10:18.222 +03:00 [DBG] Connection id "0HNGF461K7MSC" accepted.
2025-10-19 18:10:18.235 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-19 18:10:18.235 +03:00 [DBG] Connection id "0HNGF461K7MSC" started.
2025-10-19 18:10:18.239 +03:00 [DBG] Connection id "0HNGF461K7MSB" stopped.
2025-10-19 18:10:18.244 +03:00 [DBG] Connection id "0HNGF461K7MSB" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 18:10:18.250 +03:00 [DBG] Connection 0HNGF461K7MSC established using the following protocol: "Tls13"
2025-10-19 18:10:18.262 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7025/api/cities - null null
2025-10-19 18:10:18.264 +03:00 [DBG] The request path  does not match the path filter
2025-10-19 18:10:18.265 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-10-19 18:10:18.266 +03:00 [DBG] Endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-10-19 18:10:18.268 +03:00 [DBG] Request matched endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 18:10:18.269 +03:00 [INF] Executing endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 18:10:18.270 +03:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CitiesApi.Models.CityDtoWithoutPointsOfInterest]]] GetCities() on controller CitiesApi.Controllers.CitiesController (CitiesApi).
2025-10-19 18:10:18.272 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-19 18:10:18.274 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-19 18:10:18.275 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-10-19 18:10:18.277 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-19 18:10:18.278 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-19 18:10:18.279 +03:00 [DBG] Executing controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-19 18:10:18.282 +03:00 [DBG] Executed controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-19 18:10:18.303 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-10-19 18:10:18.311 +03:00 [DBG] Creating DbConnection.
2025-10-19 18:10:18.312 +03:00 [DBG] Created DbConnection. (1ms).
2025-10-19 18:10:18.313 +03:00 [DBG] Opening connection to database '' on server ''.
2025-10-19 18:10:18.315 +03:00 [ERR] An error occurred using the connection to database '' on server ''.
2025-10-19 18:10:18.318 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CitiesApi.Data.AppDbContext'.
System.InvalidOperationException: The ConnectionString property has not been initialized.
   at Microsoft.Data.SqlClient.SqlConnection.PermissionDemand()
   at Microsoft.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: The ConnectionString property has not been initialized.
   at Microsoft.Data.SqlClient.SqlConnection.PermissionDemand()
   at Microsoft.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-10-19 18:10:18.492 +03:00 [INF] Executed action CitiesApi.Controllers.CitiesController.GetCities (CitiesApi) in 212.9921ms
2025-10-19 18:10:18.494 +03:00 [INF] Executed endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 18:10:18.497 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The ConnectionString property has not been initialized.
   at Microsoft.Data.SqlClient.SqlConnection.PermissionDemand()
   at Microsoft.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CitiesApi.Services.CityInfoRepository.GetCitiesAsync() in D:\Projects\CitiesApi\CitiesApi\Services\CityInfoRepository.cs:line 16
   at CitiesApi.Controllers.CitiesController.GetCities() in D:\Projects\CitiesApi\CitiesApi\Controllers\CitiesController.cs:line 22
   at lambda_method10(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-10-19 18:10:18.541 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-10-19 18:10:18.553 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/xml"]' and explicitly specified content types '["application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2025-10-19 18:10:18.588 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter' and content type 'application/problem+xml' to write the response.
2025-10-19 18:10:18.633 +03:00 [ERR] An exception was thrown attempting to display the error page.
System.InvalidCastException: Xml type 'List of xdt:untypedAtomic' does not support a conversion from Clr type 'JsonElement' to Clr type 'String'.
   at System.Xml.Schema.XmlListConverter.ChangeListType(Object value, Type destinationType, IXmlNamespaceResolver nsResolver)
   at System.Xml.Schema.XmlUntypedConverter.ToString(Object value, IXmlNamespaceResolver nsResolver)
   at System.Xml.XmlWriter.WriteValue(Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.Xml.ProblemDetailsWrapper.WriteXml(XmlWriter writer)
   at System.Runtime.Serialization.XmlObjectSerializerWriteContext.WriteIXmlSerializable(XmlWriterDelegator xmlWriter, Object obj, XmlSerializableWriter xmlSerializableWriter)
   at System.Runtime.Serialization.DataContractSerializer.InternalWriteObjectContent(XmlWriterDelegator writer, Object graph, DataContractResolver dataContractResolver)
   at System.Runtime.Serialization.DataContractSerializer.InternalWriteObject(XmlWriterDelegator writer, Object graph, DataContractResolver dataContractResolver)
   at System.Runtime.Serialization.XmlObjectSerializer.WriteObjectHandleExceptions(XmlWriterDelegator writer, Object graph, DataContractResolver dataContractResolver)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Http.ProblemDetailsService.TryWriteAsync(ProblemDetailsContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.DisplayExceptionContent(ErrorContext errorContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-10-19 18:10:18.645 +03:00 [ERR] Connection id "0HNGF461K7MSC", Request id "0HNGF461K7MSC:00000001": An unhandled exception was thrown by the application.
System.InvalidOperationException: The ConnectionString property has not been initialized.
   at Microsoft.Data.SqlClient.SqlConnection.PermissionDemand()
   at Microsoft.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CitiesApi.Services.CityInfoRepository.GetCitiesAsync() in D:\Projects\CitiesApi\CitiesApi\Services\CityInfoRepository.cs:line 16
   at CitiesApi.Controllers.CitiesController.GetCities() in D:\Projects\CitiesApi\CitiesApi\Controllers\CitiesController.cs:line 22
   at lambda_method10(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.WebTools.BrowserLink.Net.BrowserLinkMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-10-19 18:10:18.694 +03:00 [DBG] Connection id "0HNGF461K7MSC" completed keep alive response.
2025-10-19 18:10:18.698 +03:00 [DBG] 'AppDbContext' disposed.
2025-10-19 18:10:18.699 +03:00 [DBG] Disposing connection to database '' on server ''.
2025-10-19 18:10:18.701 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-10-19 18:10:18.703 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7025/api/cities - 500 0 null 441.5339ms
2025-10-19 18:11:49.770 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-10-19 18:11:49.999 +03:00 [DBG] Hosting starting
2025-10-19 18:11:50.016 +03:00 [DBG] Middleware loaded
2025-10-19 18:11:50.022 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16503 B).
2025-10-19 18:11:50.033 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-10-19 18:11:50.192 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-10-19 18:11:50.320 +03:00 [INF] Now listening on: https://localhost:7025
2025-10-19 18:11:50.322 +03:00 [INF] Now listening on: http://localhost:5105
2025-10-19 18:11:50.323 +03:00 [DBG] Loaded hosting startup assembly CitiesApi
2025-10-19 18:11:50.325 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-10-19 18:11:50.327 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-10-19 18:11:50.328 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-10-19 18:11:50.388 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-19 18:11:50.389 +03:00 [INF] Hosting environment: Development
2025-10-19 18:11:50.391 +03:00 [INF] Content root path: D:\Projects\CitiesApi\CitiesApi
2025-10-19 18:11:50.393 +03:00 [DBG] Hosting started
2025-10-19 18:11:50.472 +03:00 [DBG] Connection id "0HNGF47A63S50" accepted.
2025-10-19 18:11:50.472 +03:00 [DBG] Connection id "0HNGF47A63S4V" accepted.
2025-10-19 18:11:50.475 +03:00 [DBG] Connection id "0HNGF47A63S50" started.
2025-10-19 18:11:50.476 +03:00 [DBG] Connection id "0HNGF47A63S4V" started.
2025-10-19 18:11:50.486 +03:00 [DBG] Connection id "0HNGF47A63S4V" received FIN.
2025-10-19 18:11:50.486 +03:00 [DBG] Connection id "0HNGF47A63S50" received FIN.
2025-10-19 18:11:50.513 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-19 18:11:50.513 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-19 18:11:50.580 +03:00 [DBG] Connection id "0HNGF47A63S50" stopped.
2025-10-19 18:11:50.580 +03:00 [DBG] Connection id "0HNGF47A63S4V" stopped.
2025-10-19 18:11:50.585 +03:00 [DBG] Connection id "0HNGF47A63S50" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 18:11:50.585 +03:00 [DBG] Connection id "0HNGF47A63S4V" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 18:11:52.351 +03:00 [DBG] Connection id "0HNGF47A63S51" accepted.
2025-10-19 18:11:52.353 +03:00 [DBG] Connection id "0HNGF47A63S51" started.
2025-10-19 18:11:52.424 +03:00 [DBG] Connection 0HNGF47A63S51 established using the following protocol: "Tls13"
2025-10-19 18:11:52.557 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/swagger/index.html - null null
2025-10-19 18:11:52.737 +03:00 [WRN] Unable to contact VS to retrieve Browser Link script tag.
2025-10-19 18:11:52.741 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-10-19 18:11:52.823 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-10-19 18:11:52.845 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-10-19 18:11:52.849 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/swagger/index.html - 200 null text/html;charset=utf-8 300.6761ms
2025-10-19 18:11:52.953 +03:00 [DBG] Connection id "0HNGF47A63S51" received FIN.
2025-10-19 18:11:52.959 +03:00 [DBG] The connection queue processing loop for 0HNGF47A63S51 completed.
2025-10-19 18:11:52.962 +03:00 [DBG] Connection id "0HNGF47A63S51" is closed. The last processed stream ID was 1.
2025-10-19 18:11:52.966 +03:00 [DBG] Connection id "0HNGF47A63S51" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 18:11:52.971 +03:00 [DBG] Connection id "0HNGF47A63S52" accepted.
2025-10-19 18:11:52.971 +03:00 [DBG] Connection id "0HNGF47A63S51" stopped.
2025-10-19 18:11:52.973 +03:00 [DBG] Connection id "0HNGF47A63S52" started.
2025-10-19 18:11:52.985 +03:00 [DBG] Connection 0HNGF47A63S52 established using the following protocol: "Tls13"
2025-10-19 18:11:52.990 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/_framework/aspnetcore-browser-refresh.js - null null
2025-10-19 18:11:53.001 +03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-10-19 18:11:53.004 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/_framework/aspnetcore-browser-refresh.js - 200 16503 application/javascript; charset=utf-8 13.8469ms
2025-10-19 18:11:53.098 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/swagger/v1/swagger.json - null null
2025-10-19 18:11:53.214 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 115.6075ms
2025-10-19 18:11:59.598 +03:00 [DBG] Connection id "0HNGF47A63S53" accepted.
2025-10-19 18:11:59.598 +03:00 [DBG] Connection id "0HNGF47A63S53" received FIN.
2025-10-19 18:11:59.600 +03:00 [DBG] Connection id "0HNGF47A63S53" started.
2025-10-19 18:11:59.601 +03:00 [DBG] Connection id "0HNGF47A63S54" accepted.
2025-10-19 18:11:59.604 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-19 18:11:59.604 +03:00 [DBG] Connection id "0HNGF47A63S54" started.
2025-10-19 18:11:59.607 +03:00 [DBG] Connection id "0HNGF47A63S53" stopped.
2025-10-19 18:11:59.610 +03:00 [DBG] Connection id "0HNGF47A63S53" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 18:11:59.614 +03:00 [DBG] Connection 0HNGF47A63S54 established using the following protocol: "Tls13"
2025-10-19 18:11:59.621 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7025/api/cities - null null
2025-10-19 18:11:59.632 +03:00 [DBG] The request path  does not match the path filter
2025-10-19 18:11:59.694 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-10-19 18:11:59.701 +03:00 [DBG] Endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-10-19 18:11:59.704 +03:00 [DBG] Request matched endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 18:11:59.710 +03:00 [INF] Executing endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 18:11:59.753 +03:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CitiesApi.Models.CityDtoWithoutPointsOfInterest]]] GetCities() on controller CitiesApi.Controllers.CitiesController (CitiesApi).
2025-10-19 18:11:59.757 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-19 18:11:59.759 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-19 18:11:59.762 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-10-19 18:11:59.763 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-19 18:11:59.766 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-19 18:11:59.772 +03:00 [DBG] Executing controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-19 18:12:00.014 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-10-19 18:12:00.103 +03:00 [DBG] Executed controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-19 18:12:18.525 +03:00 [DBG] Connection id "0HNGF47A63S52" received FIN.
2025-10-19 18:12:18.540 +03:00 [DBG] Connection id "0HNGF47A63S52" is closed. The last processed stream ID was 3.
2025-10-19 18:12:18.541 +03:00 [DBG] The connection queue processing loop for 0HNGF47A63S52 completed.
2025-10-19 18:12:18.547 +03:00 [DBG] Connection id "0HNGF47A63S52" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 18:12:18.572 +03:00 [DBG] Connection id "0HNGF47A63S52" stopped.
2025-10-19 18:12:19.612 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-10-19 18:12:19.770 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2025-10-19 18:12:20.086 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.CityId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(500), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.CityId, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CitiesApi.Data.AppDbContext, 
    False, 
    False, 
    True
)'
2025-10-19 18:12:20.135 +03:00 [DBG] Creating DbConnection.
2025-10-19 18:12:20.181 +03:00 [DBG] Created DbConnection. (45ms).
2025-10-19 18:12:20.189 +03:00 [DBG] Opening connection to database '' on server ''.
2025-10-19 18:12:20.404 +03:00 [ERR] An error occurred using the connection to database '' on server ''.
2025-10-19 18:12:20.418 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CitiesApi.Data.AppDbContext'.
System.InvalidOperationException: The ConnectionString property has not been initialized.
   at Microsoft.Data.SqlClient.SqlConnection.PermissionDemand()
   at Microsoft.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: The ConnectionString property has not been initialized.
   at Microsoft.Data.SqlClient.SqlConnection.PermissionDemand()
   at Microsoft.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-10-19 18:12:20.541 +03:00 [INF] Executed action CitiesApi.Controllers.CitiesController.GetCities (CitiesApi) in 20768.1377ms
2025-10-19 18:12:20.551 +03:00 [INF] Executed endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 18:12:20.555 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The ConnectionString property has not been initialized.
   at Microsoft.Data.SqlClient.SqlConnection.PermissionDemand()
   at Microsoft.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CitiesApi.Services.CityInfoRepository.GetCitiesAsync() in D:\Projects\CitiesApi\CitiesApi\Services\CityInfoRepository.cs:line 16
   at CitiesApi.Controllers.CitiesController.GetCities() in D:\Projects\CitiesApi\CitiesApi\Controllers\CitiesController.cs:line 22
   at lambda_method5(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-10-19 18:12:20.614 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-10-19 18:12:20.623 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/xml"]' and explicitly specified content types '["application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2025-10-19 18:12:20.643 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter' and content type 'application/problem+xml' to write the response.
2025-10-19 18:12:20.695 +03:00 [ERR] An exception was thrown attempting to display the error page.
System.InvalidCastException: Xml type 'List of xdt:untypedAtomic' does not support a conversion from Clr type 'JsonElement' to Clr type 'String'.
   at System.Xml.Schema.XmlListConverter.ChangeListType(Object value, Type destinationType, IXmlNamespaceResolver nsResolver)
   at System.Xml.Schema.XmlUntypedConverter.ToString(Object value, IXmlNamespaceResolver nsResolver)
   at System.Xml.XmlWriter.WriteValue(Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.Xml.ProblemDetailsWrapper.WriteXml(XmlWriter writer)
   at System.Runtime.Serialization.XmlObjectSerializerWriteContext.WriteIXmlSerializable(XmlWriterDelegator xmlWriter, Object obj, XmlSerializableWriter xmlSerializableWriter)
   at System.Runtime.Serialization.DataContractSerializer.InternalWriteObjectContent(XmlWriterDelegator writer, Object graph, DataContractResolver dataContractResolver)
   at System.Runtime.Serialization.DataContractSerializer.InternalWriteObject(XmlWriterDelegator writer, Object graph, DataContractResolver dataContractResolver)
   at System.Runtime.Serialization.XmlObjectSerializer.WriteObjectHandleExceptions(XmlWriterDelegator writer, Object graph, DataContractResolver dataContractResolver)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Http.ProblemDetailsService.TryWriteAsync(ProblemDetailsContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.DisplayExceptionContent(ErrorContext errorContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-10-19 18:12:20.703 +03:00 [ERR] Connection id "0HNGF47A63S54", Request id "0HNGF47A63S54:00000001": An unhandled exception was thrown by the application.
System.InvalidOperationException: The ConnectionString property has not been initialized.
   at Microsoft.Data.SqlClient.SqlConnection.PermissionDemand()
   at Microsoft.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CitiesApi.Services.CityInfoRepository.GetCitiesAsync() in D:\Projects\CitiesApi\CitiesApi\Services\CityInfoRepository.cs:line 16
   at CitiesApi.Controllers.CitiesController.GetCities() in D:\Projects\CitiesApi\CitiesApi\Controllers\CitiesController.cs:line 22
   at lambda_method5(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.WebTools.BrowserLink.Net.BrowserLinkMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-10-19 18:12:20.737 +03:00 [DBG] Connection id "0HNGF47A63S54" completed keep alive response.
2025-10-19 18:12:20.742 +03:00 [DBG] 'AppDbContext' disposed.
2025-10-19 18:12:20.750 +03:00 [DBG] Disposing connection to database '' on server ''.
2025-10-19 18:12:20.760 +03:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-10-19 18:12:20.766 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7025/api/cities - 500 0 null 21145.1694ms
2025-10-19 18:14:44.383 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-10-19 18:14:44.699 +03:00 [DBG] Hosting starting
2025-10-19 18:14:44.726 +03:00 [DBG] Middleware loaded
2025-10-19 18:14:44.730 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16503 B).
2025-10-19 18:14:44.735 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-10-19 18:14:44.979 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-10-19 18:14:45.192 +03:00 [DBG] Connection id "0HNGF48U8C65K" received FIN.
2025-10-19 18:14:45.195 +03:00 [DBG] Connection id "0HNGF48U8C65K" accepted.
2025-10-19 18:14:45.214 +03:00 [INF] Now listening on: https://localhost:7025
2025-10-19 18:14:45.221 +03:00 [DBG] Connection id "0HNGF48U8C65K" started.
2025-10-19 18:14:45.226 +03:00 [INF] Now listening on: http://localhost:5105
2025-10-19 18:14:45.229 +03:00 [DBG] Loaded hosting startup assembly CitiesApi
2025-10-19 18:14:45.231 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-10-19 18:14:45.232 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-10-19 18:14:45.233 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-10-19 18:14:45.268 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-19 18:14:45.343 +03:00 [DBG] Connection id "0HNGF48U8C65K" stopped.
2025-10-19 18:14:45.348 +03:00 [DBG] Connection id "0HNGF48U8C65K" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 18:14:45.384 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-19 18:14:45.395 +03:00 [INF] Hosting environment: Development
2025-10-19 18:14:45.406 +03:00 [INF] Content root path: D:\Projects\CitiesApi\CitiesApi
2025-10-19 18:14:45.409 +03:00 [DBG] Hosting started
2025-10-19 18:14:45.583 +03:00 [DBG] Connection id "0HNGF48U8C65L" accepted.
2025-10-19 18:14:45.598 +03:00 [DBG] Connection id "0HNGF48U8C65L" started.
2025-10-19 18:14:45.816 +03:00 [DBG] Connection 0HNGF48U8C65L established using the following protocol: "Tls13"
2025-10-19 18:14:45.915 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/swagger/index.html - null null
2025-10-19 18:14:46.101 +03:00 [WRN] Unable to contact VS to retrieve Browser Link script tag.
2025-10-19 18:14:46.104 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-10-19 18:14:46.207 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-10-19 18:14:46.236 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-10-19 18:14:46.248 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/swagger/index.html - 200 null text/html;charset=utf-8 338.3124ms
2025-10-19 18:14:46.365 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/_framework/aspnetcore-browser-refresh.js - null null
2025-10-19 18:14:46.388 +03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-10-19 18:14:46.392 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/_framework/aspnetcore-browser-refresh.js - 200 16503 application/javascript; charset=utf-8 26.7881ms
2025-10-19 18:14:46.499 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/swagger/v1/swagger.json - null null
2025-10-19 18:14:46.532 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 33.0445ms
2025-10-19 18:14:48.204 +03:00 [DBG] Connection id "0HNGF48U8C65L" received FIN.
2025-10-19 18:14:48.212 +03:00 [DBG] The connection queue processing loop for 0HNGF48U8C65L completed.
2025-10-19 18:14:48.218 +03:00 [DBG] Connection id "0HNGF48U8C65L" is closed. The last processed stream ID was 5.
2025-10-19 18:14:48.220 +03:00 [DBG] Connection id "0HNGF48U8C65L" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 18:14:48.244 +03:00 [DBG] Connection id "0HNGF48U8C65L" stopped.
2025-10-19 18:14:49.843 +03:00 [DBG] Connection id "0HNGF48U8C65M" accepted.
2025-10-19 18:14:49.864 +03:00 [DBG] Connection id "0HNGF48U8C65M" started.
2025-10-19 18:14:49.900 +03:00 [DBG] Connection 0HNGF48U8C65M established using the following protocol: "Tls13"
2025-10-19 18:14:49.913 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/api/cities - null null
2025-10-19 18:14:49.931 +03:00 [DBG] The request path  does not match the path filter
2025-10-19 18:14:49.975 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-10-19 18:14:49.981 +03:00 [DBG] Endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-10-19 18:14:49.984 +03:00 [DBG] Request matched endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 18:14:49.991 +03:00 [INF] Executing endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 18:14:50.037 +03:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CitiesApi.Models.CityDtoWithoutPointsOfInterest]]] GetCities() on controller CitiesApi.Controllers.CitiesController (CitiesApi).
2025-10-19 18:14:50.043 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-19 18:14:50.066 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-19 18:14:50.067 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-10-19 18:14:50.069 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-19 18:14:50.071 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-19 18:14:50.075 +03:00 [DBG] Executing controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-19 18:14:50.360 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-10-19 18:14:50.391 +03:00 [DBG] Executed controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-19 18:14:51.625 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-10-19 18:14:51.688 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2025-10-19 18:14:52.059 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.CityId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(500), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.CityId, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CitiesApi.Data.AppDbContext, 
    False, 
    False, 
    True
)'
2025-10-19 18:14:52.118 +03:00 [DBG] Creating DbConnection.
2025-10-19 18:14:52.169 +03:00 [DBG] Created DbConnection. (56ms).
2025-10-19 18:14:52.177 +03:00 [DBG] Opening connection to database '' on server ''.
2025-10-19 18:14:52.401 +03:00 [ERR] An error occurred using the connection to database '' on server ''.
2025-10-19 18:14:52.418 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CitiesApi.Data.AppDbContext'.
System.InvalidOperationException: The ConnectionString property has not been initialized.
   at Microsoft.Data.SqlClient.SqlConnection.PermissionDemand()
   at Microsoft.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: The ConnectionString property has not been initialized.
   at Microsoft.Data.SqlClient.SqlConnection.PermissionDemand()
   at Microsoft.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-10-19 18:14:52.576 +03:00 [INF] Executed action CitiesApi.Controllers.CitiesController.GetCities (CitiesApi) in 2498.7285ms
2025-10-19 18:14:52.581 +03:00 [INF] Executed endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 18:14:52.586 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The ConnectionString property has not been initialized.
   at Microsoft.Data.SqlClient.SqlConnection.PermissionDemand()
   at Microsoft.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CitiesApi.Services.CityInfoRepository.GetCitiesAsync() in D:\Projects\CitiesApi\CitiesApi\Services\CityInfoRepository.cs:line 16
   at CitiesApi.Controllers.CitiesController.GetCities() in D:\Projects\CitiesApi\CitiesApi\Controllers\CitiesController.cs:line 22
   at lambda_method5(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-10-19 18:14:52.695 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-10-19 18:14:52.704 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2025-10-19 18:14:52.709 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-10-19 18:14:52.714 +03:00 [DBG] 'AppDbContext' disposed.
2025-10-19 18:14:52.724 +03:00 [DBG] Disposing connection to database '' on server ''.
2025-10-19 18:14:52.733 +03:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-10-19 18:14:52.736 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/api/cities - 500 0 null 2823.0747ms
2025-10-19 18:14:58.226 +03:00 [DBG] Connection id "0HNGF48U8C65M" received FIN.
2025-10-19 18:14:58.234 +03:00 [DBG] Connection id "0HNGF48U8C65M" is closed. The last processed stream ID was 1.
2025-10-19 18:14:58.235 +03:00 [DBG] The connection queue processing loop for 0HNGF48U8C65M completed.
2025-10-19 18:14:58.241 +03:00 [DBG] Connection id "0HNGF48U8C65M" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 18:14:58.252 +03:00 [DBG] Connection id "0HNGF48U8C65M" stopped.
2025-10-19 18:15:40.130 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-10-19 18:15:40.479 +03:00 [DBG] Hosting starting
2025-10-19 18:15:40.499 +03:00 [DBG] Middleware loaded
2025-10-19 18:15:40.504 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16503 B).
2025-10-19 18:15:40.506 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-10-19 18:15:40.642 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-10-19 18:15:40.835 +03:00 [INF] Now listening on: https://localhost:7025
2025-10-19 18:15:40.836 +03:00 [INF] Now listening on: http://localhost:5105
2025-10-19 18:15:40.837 +03:00 [DBG] Loaded hosting startup assembly CitiesApi
2025-10-19 18:15:40.838 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-10-19 18:15:40.839 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-10-19 18:15:40.840 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-10-19 18:15:41.202 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-19 18:15:41.219 +03:00 [INF] Hosting environment: Development
2025-10-19 18:15:41.222 +03:00 [INF] Content root path: D:\Projects\CitiesApi\CitiesApi
2025-10-19 18:15:41.220 +03:00 [DBG] Connection id "0HNGF49EUMQ6B" received FIN.
2025-10-19 18:15:41.226 +03:00 [DBG] Hosting started
2025-10-19 18:15:41.243 +03:00 [DBG] Connection id "0HNGF49EUMQ6B" accepted.
2025-10-19 18:15:41.251 +03:00 [DBG] Connection id "0HNGF49EUMQ6B" started.
2025-10-19 18:15:41.287 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-19 18:15:41.364 +03:00 [DBG] Connection id "0HNGF49EUMQ6B" stopped.
2025-10-19 18:15:41.373 +03:00 [DBG] Connection id "0HNGF49EUMQ6B" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 18:15:41.704 +03:00 [DBG] Connection id "0HNGF49EUMQ6C" accepted.
2025-10-19 18:15:41.706 +03:00 [DBG] Connection id "0HNGF49EUMQ6C" started.
2025-10-19 18:15:41.829 +03:00 [DBG] Connection 0HNGF49EUMQ6C established using the following protocol: "Tls13"
2025-10-19 18:15:42.003 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/swagger/index.html - null null
2025-10-19 18:15:42.236 +03:00 [WRN] Unable to contact VS to retrieve Browser Link script tag.
2025-10-19 18:15:42.239 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-10-19 18:15:42.330 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-10-19 18:15:42.357 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-10-19 18:15:42.361 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/swagger/index.html - 200 null text/html;charset=utf-8 367.4833ms
2025-10-19 18:15:42.384 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/_framework/aspnetcore-browser-refresh.js - null null
2025-10-19 18:15:42.396 +03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-10-19 18:15:42.399 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/_framework/aspnetcore-browser-refresh.js - 200 16503 application/javascript; charset=utf-8 14.3415ms
2025-10-19 18:15:42.460 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/swagger/v1/swagger.json - null null
2025-10-19 18:15:42.498 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 38.6432ms
2025-10-19 18:15:43.288 +03:00 [DBG] Connection id "0HNGF49EUMQ6C" received FIN.
2025-10-19 18:15:43.304 +03:00 [DBG] The connection queue processing loop for 0HNGF49EUMQ6C completed.
2025-10-19 18:15:43.309 +03:00 [DBG] Connection id "0HNGF49EUMQ6C" is closed. The last processed stream ID was 5.
2025-10-19 18:15:43.315 +03:00 [DBG] Connection id "0HNGF49EUMQ6C" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 18:15:43.332 +03:00 [DBG] Connection id "0HNGF49EUMQ6C" stopped.
2025-10-19 18:15:45.371 +03:00 [DBG] Connection id "0HNGF49EUMQ6D" accepted.
2025-10-19 18:15:45.373 +03:00 [DBG] Connection id "0HNGF49EUMQ6D" started.
2025-10-19 18:15:45.380 +03:00 [DBG] Connection 0HNGF49EUMQ6D established using the following protocol: "Tls13"
2025-10-19 18:15:45.388 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/api/cities - null null
2025-10-19 18:15:45.397 +03:00 [DBG] The request path  does not match the path filter
2025-10-19 18:15:45.443 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-10-19 18:15:45.455 +03:00 [DBG] Endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-10-19 18:15:45.459 +03:00 [DBG] Request matched endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 18:15:45.465 +03:00 [INF] Executing endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 18:15:45.495 +03:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CitiesApi.Models.CityDtoWithoutPointsOfInterest]]] GetCities() on controller CitiesApi.Controllers.CitiesController (CitiesApi).
2025-10-19 18:15:45.498 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-19 18:15:45.503 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-19 18:15:45.505 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-10-19 18:15:45.509 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-19 18:15:45.511 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-19 18:15:45.515 +03:00 [DBG] Executing controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-19 18:15:45.918 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-10-19 18:15:45.955 +03:00 [DBG] Executed controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-19 18:15:47.185 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-10-19 18:15:47.246 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2025-10-19 18:15:47.565 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.CityId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(500), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.CityId, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CitiesApi.Data.AppDbContext, 
    False, 
    False, 
    True
)'
2025-10-19 18:15:47.630 +03:00 [DBG] Creating DbConnection.
2025-10-19 18:15:47.685 +03:00 [DBG] Created DbConnection. (52ms).
2025-10-19 18:15:47.692 +03:00 [DBG] Opening connection to database '' on server ''.
2025-10-19 18:15:47.893 +03:00 [ERR] An error occurred using the connection to database '' on server ''.
2025-10-19 18:15:47.906 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CitiesApi.Data.AppDbContext'.
System.InvalidOperationException: The ConnectionString property has not been initialized.
   at Microsoft.Data.SqlClient.SqlConnection.PermissionDemand()
   at Microsoft.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: The ConnectionString property has not been initialized.
   at Microsoft.Data.SqlClient.SqlConnection.PermissionDemand()
   at Microsoft.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-10-19 18:15:48.053 +03:00 [INF] Executed action CitiesApi.Controllers.CitiesController.GetCities (CitiesApi) in 2536.3454ms
2025-10-19 18:15:48.059 +03:00 [INF] Executed endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 18:15:48.063 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The ConnectionString property has not been initialized.
   at Microsoft.Data.SqlClient.SqlConnection.PermissionDemand()
   at Microsoft.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CitiesApi.Services.CityInfoRepository.GetCitiesAsync() in D:\Projects\CitiesApi\CitiesApi\Services\CityInfoRepository.cs:line 16
   at CitiesApi.Controllers.CitiesController.GetCities() in D:\Projects\CitiesApi\CitiesApi\Controllers\CitiesController.cs:line 22
   at lambda_method5(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-10-19 18:15:48.137 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-10-19 18:15:48.146 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2025-10-19 18:15:48.152 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-10-19 18:15:48.162 +03:00 [DBG] 'AppDbContext' disposed.
2025-10-19 18:15:48.174 +03:00 [DBG] Disposing connection to database '' on server ''.
2025-10-19 18:15:48.185 +03:00 [DBG] Disposed connection to database '' on server '' (6ms).
2025-10-19 18:15:48.190 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/api/cities - 500 0 null 2802.711ms
2025-10-19 18:20:49.513 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-10-19 18:20:49.667 +03:00 [DBG] Hosting starting
2025-10-19 18:20:49.679 +03:00 [DBG] Middleware loaded
2025-10-19 18:20:49.683 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16503 B).
2025-10-19 18:20:49.689 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-10-19 18:20:49.800 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-10-19 18:20:49.925 +03:00 [INF] Now listening on: https://localhost:7025
2025-10-19 18:20:49.927 +03:00 [INF] Now listening on: http://localhost:5105
2025-10-19 18:20:49.928 +03:00 [DBG] Loaded hosting startup assembly CitiesApi
2025-10-19 18:20:49.930 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-10-19 18:20:49.931 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-10-19 18:20:49.933 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-10-19 18:20:50.118 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-19 18:20:50.119 +03:00 [INF] Hosting environment: Development
2025-10-19 18:20:50.121 +03:00 [INF] Content root path: D:\Projects\CitiesApi\CitiesApi
2025-10-19 18:20:50.123 +03:00 [DBG] Hosting started
2025-10-19 18:20:50.296 +03:00 [DBG] Connection id "0HNGF4CB29DUN" accepted.
2025-10-19 18:20:50.296 +03:00 [DBG] Connection id "0HNGF4CB29DUO" accepted.
2025-10-19 18:20:50.298 +03:00 [DBG] Connection id "0HNGF4CB29DUN" started.
2025-10-19 18:20:50.299 +03:00 [DBG] Connection id "0HNGF4CB29DUO" started.
2025-10-19 18:20:50.318 +03:00 [DBG] Connection id "0HNGF4CB29DUO" received FIN.
2025-10-19 18:20:50.318 +03:00 [DBG] Connection id "0HNGF4CB29DUN" received FIN.
2025-10-19 18:20:50.345 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-19 18:20:50.345 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-19 18:20:50.404 +03:00 [DBG] Connection id "0HNGF4CB29DUN" stopped.
2025-10-19 18:20:50.404 +03:00 [DBG] Connection id "0HNGF4CB29DUO" stopped.
2025-10-19 18:20:50.408 +03:00 [DBG] Connection id "0HNGF4CB29DUN" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 18:20:50.408 +03:00 [DBG] Connection id "0HNGF4CB29DUO" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 18:20:51.191 +03:00 [DBG] Connection id "0HNGF4CB29DUP" accepted.
2025-10-19 18:20:51.203 +03:00 [DBG] Connection id "0HNGF4CB29DUP" started.
2025-10-19 18:20:51.341 +03:00 [DBG] Connection 0HNGF4CB29DUP established using the following protocol: "Tls13"
2025-10-19 18:20:51.468 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/swagger/index.html - null null
2025-10-19 18:20:51.662 +03:00 [WRN] Unable to contact VS to retrieve Browser Link script tag.
2025-10-19 18:20:51.666 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-10-19 18:20:51.782 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-10-19 18:20:51.837 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-10-19 18:20:51.842 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/swagger/index.html - 200 null text/html;charset=utf-8 387.7741ms
2025-10-19 18:20:51.875 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/_framework/aspnetcore-browser-refresh.js - null null
2025-10-19 18:20:51.892 +03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-10-19 18:20:51.898 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/_framework/aspnetcore-browser-refresh.js - 200 16503 application/javascript; charset=utf-8 23.1178ms
2025-10-19 18:20:52.008 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/swagger/v1/swagger.json - null null
2025-10-19 18:20:52.037 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 30.1423ms
2025-10-19 18:20:56.770 +03:00 [DBG] Connection id "0HNGF4CB29DUP" received FIN.
2025-10-19 18:20:56.777 +03:00 [DBG] The connection queue processing loop for 0HNGF4CB29DUP completed.
2025-10-19 18:20:56.780 +03:00 [DBG] Connection id "0HNGF4CB29DUP" is closed. The last processed stream ID was 5.
2025-10-19 18:20:56.783 +03:00 [DBG] Connection id "0HNGF4CB29DUP" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 18:20:56.805 +03:00 [DBG] Connection id "0HNGF4CB29DUP" stopped.
2025-10-19 18:21:22.331 +03:00 [DBG] Connection id "0HNGF4CB29DUQ" accepted.
2025-10-19 18:21:22.349 +03:00 [DBG] Connection id "0HNGF4CB29DUQ" started.
2025-10-19 18:21:22.369 +03:00 [DBG] Connection 0HNGF4CB29DUQ established using the following protocol: "Tls13"
2025-10-19 18:21:22.375 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/api/cities - null null
2025-10-19 18:21:22.395 +03:00 [DBG] The request path  does not match the path filter
2025-10-19 18:21:22.445 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-10-19 18:21:22.451 +03:00 [DBG] Endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-10-19 18:21:22.454 +03:00 [DBG] Request matched endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 18:21:22.459 +03:00 [INF] Executing endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 18:21:22.522 +03:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CitiesApi.Models.CityDtoWithoutPointsOfInterest]]] GetCities() on controller CitiesApi.Controllers.CitiesController (CitiesApi).
2025-10-19 18:21:22.535 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-19 18:21:22.540 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-19 18:21:22.544 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-10-19 18:21:22.549 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-19 18:21:22.554 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-19 18:21:22.566 +03:00 [DBG] Executing controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-19 18:21:23.076 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-10-19 18:21:23.127 +03:00 [DBG] Executed controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-19 18:21:24.319 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-10-19 18:21:24.382 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2025-10-19 18:21:24.759 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.CityId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(500), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.CityId, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CitiesApi.Data.AppDbContext, 
    False, 
    False, 
    True
)'
2025-10-19 18:21:24.811 +03:00 [DBG] Creating DbConnection.
2025-10-19 18:21:24.866 +03:00 [DBG] Created DbConnection. (53ms).
2025-10-19 18:21:24.871 +03:00 [DBG] Opening connection to database '' on server ''.
2025-10-19 18:21:25.066 +03:00 [ERR] An error occurred using the connection to database '' on server ''.
2025-10-19 18:21:25.081 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CitiesApi.Data.AppDbContext'.
System.InvalidOperationException: The ConnectionString property has not been initialized.
   at Microsoft.Data.SqlClient.SqlConnection.PermissionDemand()
   at Microsoft.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: The ConnectionString property has not been initialized.
   at Microsoft.Data.SqlClient.SqlConnection.PermissionDemand()
   at Microsoft.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-10-19 18:21:25.275 +03:00 [INF] Executed action CitiesApi.Controllers.CitiesController.GetCities (CitiesApi) in 2707.6996ms
2025-10-19 18:21:25.283 +03:00 [INF] Executed endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 18:21:25.286 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The ConnectionString property has not been initialized.
   at Microsoft.Data.SqlClient.SqlConnection.PermissionDemand()
   at Microsoft.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CitiesApi.Services.CityInfoRepository.GetCitiesAsync() in D:\Projects\CitiesApi\CitiesApi\Services\CityInfoRepository.cs:line 16
   at CitiesApi.Controllers.CitiesController.GetCities() in D:\Projects\CitiesApi\CitiesApi\Controllers\CitiesController.cs:line 22
   at lambda_method5(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-10-19 18:21:25.361 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-10-19 18:21:25.371 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2025-10-19 18:21:25.374 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-10-19 18:21:25.382 +03:00 [DBG] 'AppDbContext' disposed.
2025-10-19 18:21:25.392 +03:00 [DBG] Disposing connection to database '' on server ''.
2025-10-19 18:21:25.402 +03:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-10-19 18:21:25.405 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/api/cities - 500 0 null 3031.1944ms
2025-10-19 18:21:26.821 +03:00 [DBG] Connection id "0HNGF4CB29DUQ" received FIN.
2025-10-19 18:21:26.822 +03:00 [DBG] Connection id "0HNGF4CB29DUQ" is closed. The last processed stream ID was 1.
2025-10-19 18:21:26.822 +03:00 [DBG] The connection queue processing loop for 0HNGF4CB29DUQ completed.
2025-10-19 18:21:26.824 +03:00 [DBG] Connection id "0HNGF4CB29DUQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 18:21:26.828 +03:00 [DBG] Connection id "0HNGF4CB29DUQ" stopped.
2025-10-19 18:24:39.478 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-10-19 18:24:39.624 +03:00 [DBG] Hosting starting
2025-10-19 18:24:39.642 +03:00 [DBG] Middleware loaded
2025-10-19 18:24:39.644 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16503 B).
2025-10-19 18:24:39.649 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-10-19 18:24:39.771 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-10-19 18:24:39.935 +03:00 [INF] Now listening on: https://localhost:7025
2025-10-19 18:24:39.936 +03:00 [INF] Now listening on: http://localhost:5105
2025-10-19 18:24:39.937 +03:00 [DBG] Loaded hosting startup assembly CitiesApi
2025-10-19 18:24:39.943 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-10-19 18:24:39.944 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-10-19 18:24:39.948 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-10-19 18:24:40.135 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-19 18:24:40.136 +03:00 [INF] Hosting environment: Development
2025-10-19 18:24:40.137 +03:00 [INF] Content root path: D:\Projects\CitiesApi\CitiesApi
2025-10-19 18:24:40.139 +03:00 [DBG] Hosting started
2025-10-19 18:24:40.363 +03:00 [DBG] Connection id "0HNGF4EFKBVS1" received FIN.
2025-10-19 18:24:40.366 +03:00 [DBG] Connection id "0HNGF4EFKBVS1" accepted.
2025-10-19 18:24:40.369 +03:00 [DBG] Connection id "0HNGF4EFKBVS1" started.
2025-10-19 18:24:40.426 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-19 18:24:40.542 +03:00 [DBG] Connection id "0HNGF4EFKBVS1" stopped.
2025-10-19 18:24:40.546 +03:00 [DBG] Connection id "0HNGF4EFKBVS1" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 18:24:41.339 +03:00 [DBG] Connection id "0HNGF4EFKBVS2" accepted.
2025-10-19 18:24:41.341 +03:00 [DBG] Connection id "0HNGF4EFKBVS2" started.
2025-10-19 18:24:41.435 +03:00 [DBG] Connection 0HNGF4EFKBVS2 established using the following protocol: "Tls13"
2025-10-19 18:24:41.547 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/swagger/index.html - null null
2025-10-19 18:24:41.848 +03:00 [WRN] Unable to contact VS to retrieve Browser Link script tag.
2025-10-19 18:24:41.854 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-10-19 18:24:41.953 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-10-19 18:24:41.978 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-10-19 18:24:41.998 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/swagger/index.html - 200 null text/html;charset=utf-8 468.4162ms
2025-10-19 18:24:42.162 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/_framework/aspnetcore-browser-refresh.js - null null
2025-10-19 18:24:42.172 +03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-10-19 18:24:42.175 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/_framework/aspnetcore-browser-refresh.js - 200 16503 application/javascript; charset=utf-8 13.3791ms
2025-10-19 18:24:42.299 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/swagger/v1/swagger.json - null null
2025-10-19 18:24:42.354 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 55.2796ms
2025-10-19 18:24:46.198 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/api/cities - null null
2025-10-19 18:24:46.210 +03:00 [DBG] The request path  does not match the path filter
2025-10-19 18:24:46.277 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-10-19 18:24:46.324 +03:00 [DBG] Endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-10-19 18:24:46.330 +03:00 [DBG] Request matched endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 18:24:46.346 +03:00 [INF] Executing endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 18:24:46.410 +03:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CitiesApi.Models.CityDtoWithoutPointsOfInterest]]] GetCities() on controller CitiesApi.Controllers.CitiesController (CitiesApi).
2025-10-19 18:24:46.415 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-19 18:24:46.419 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-19 18:24:46.422 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-10-19 18:24:46.426 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-19 18:24:46.428 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-19 18:24:46.435 +03:00 [DBG] Executing controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-19 18:24:46.855 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-10-19 18:24:46.935 +03:00 [DBG] Executed controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-19 18:24:48.158 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-10-19 18:24:48.228 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2025-10-19 18:24:48.638 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.CityId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(500), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.CityId, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CitiesApi.Data.AppDbContext, 
    False, 
    False, 
    True
)'
2025-10-19 18:24:48.710 +03:00 [DBG] Creating DbConnection.
2025-10-19 18:24:48.781 +03:00 [DBG] Created DbConnection. (69ms).
2025-10-19 18:24:48.788 +03:00 [DBG] Opening connection to database '' on server ''.
2025-10-19 18:24:49.027 +03:00 [ERR] An error occurred using the connection to database '' on server ''.
2025-10-19 18:24:49.044 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CitiesApi.Data.AppDbContext'.
System.InvalidOperationException: The ConnectionString property has not been initialized.
   at Microsoft.Data.SqlClient.SqlConnection.PermissionDemand()
   at Microsoft.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: The ConnectionString property has not been initialized.
   at Microsoft.Data.SqlClient.SqlConnection.PermissionDemand()
   at Microsoft.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-10-19 18:24:49.293 +03:00 [INF] Executed action CitiesApi.Controllers.CitiesController.GetCities (CitiesApi) in 2857.8213ms
2025-10-19 18:24:49.296 +03:00 [INF] Executed endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 18:24:49.301 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The ConnectionString property has not been initialized.
   at Microsoft.Data.SqlClient.SqlConnection.PermissionDemand()
   at Microsoft.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CitiesApi.Services.CityInfoRepository.GetCitiesAsync() in D:\Projects\CitiesApi\CitiesApi\Services\CityInfoRepository.cs:line 16
   at CitiesApi.Controllers.CitiesController.GetCities() in D:\Projects\CitiesApi\CitiesApi\Controllers\CitiesController.cs:line 22
   at lambda_method5(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-10-19 18:24:49.417 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-10-19 18:24:49.428 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2025-10-19 18:24:49.434 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-10-19 18:24:49.441 +03:00 [DBG] 'AppDbContext' disposed.
2025-10-19 18:24:49.450 +03:00 [DBG] Disposing connection to database '' on server ''.
2025-10-19 18:24:49.462 +03:00 [DBG] Disposed connection to database '' on server '' (6ms).
2025-10-19 18:24:49.466 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/api/cities - 500 0 null 3267.9534ms
2025-10-19 18:24:52.175 +03:00 [DBG] Connection id "0HNGF4EFKBVS2" received FIN.
2025-10-19 18:24:52.179 +03:00 [DBG] The connection queue processing loop for 0HNGF4EFKBVS2 completed.
2025-10-19 18:24:52.182 +03:00 [DBG] Connection id "0HNGF4EFKBVS2" is closed. The last processed stream ID was 7.
2025-10-19 18:24:52.184 +03:00 [DBG] Connection id "0HNGF4EFKBVS2" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 18:24:52.194 +03:00 [DBG] Connection id "0HNGF4EFKBVS2" stopped.
2025-10-19 18:31:04.058 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-10-19 18:31:04.196 +03:00 [DBG] Hosting starting
2025-10-19 18:31:04.208 +03:00 [DBG] Middleware loaded
2025-10-19 18:31:04.211 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16503 B).
2025-10-19 18:31:04.217 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-10-19 18:31:04.595 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-10-19 18:31:04.763 +03:00 [INF] Now listening on: https://localhost:7025
2025-10-19 18:31:04.764 +03:00 [INF] Now listening on: http://localhost:5105
2025-10-19 18:31:04.767 +03:00 [DBG] Loaded hosting startup assembly CitiesApi
2025-10-19 18:31:04.775 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-10-19 18:31:04.777 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-10-19 18:31:04.779 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-10-19 18:31:04.801 +03:00 [DBG] Connection id "0HNGF4I26L7FG" accepted.
2025-10-19 18:31:04.804 +03:00 [DBG] Connection id "0HNGF4I26L7FG" started.
2025-10-19 18:31:04.807 +03:00 [DBG] Connection id "0HNGF4I26L7FH" accepted.
2025-10-19 18:31:04.808 +03:00 [DBG] Connection id "0HNGF4I26L7FH" started.
2025-10-19 18:31:04.827 +03:00 [DBG] Connection id "0HNGF4I26L7FG" received FIN.
2025-10-19 18:31:04.827 +03:00 [DBG] Connection id "0HNGF4I26L7FH" received FIN.
2025-10-19 18:31:04.854 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-19 18:31:04.854 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-19 18:31:04.921 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-19 18:31:04.929 +03:00 [INF] Hosting environment: Development
2025-10-19 18:31:04.930 +03:00 [INF] Content root path: D:\Projects\CitiesApi\CitiesApi
2025-10-19 18:31:04.932 +03:00 [DBG] Hosting started
2025-10-19 18:31:04.932 +03:00 [DBG] Connection id "0HNGF4I26L7FH" stopped.
2025-10-19 18:31:04.932 +03:00 [DBG] Connection id "0HNGF4I26L7FG" stopped.
2025-10-19 18:31:04.939 +03:00 [DBG] Connection id "0HNGF4I26L7FG" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 18:31:04.939 +03:00 [DBG] Connection id "0HNGF4I26L7FH" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 18:31:05.478 +03:00 [DBG] Connection id "0HNGF4I26L7FI" accepted.
2025-10-19 18:31:05.480 +03:00 [DBG] Connection id "0HNGF4I26L7FI" started.
2025-10-19 18:31:05.553 +03:00 [DBG] Connection 0HNGF4I26L7FI established using the following protocol: "Tls13"
2025-10-19 18:31:05.706 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/swagger/index.html - null null
2025-10-19 18:31:05.927 +03:00 [WRN] Unable to contact VS to retrieve Browser Link script tag.
2025-10-19 18:31:05.931 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-10-19 18:31:06.022 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-10-19 18:31:06.070 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-10-19 18:31:06.084 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/swagger/index.html - 200 null text/html;charset=utf-8 389.1294ms
2025-10-19 18:31:06.179 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/_framework/aspnetcore-browser-refresh.js - null null
2025-10-19 18:31:06.199 +03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-10-19 18:31:06.204 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/_framework/aspnetcore-browser-refresh.js - 200 16503 application/javascript; charset=utf-8 25.1734ms
2025-10-19 18:31:06.315 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/swagger/v1/swagger.json - null null
2025-10-19 18:31:06.349 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 34.9612ms
2025-10-19 18:31:09.137 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/api/cities - null null
2025-10-19 18:31:09.148 +03:00 [DBG] The request path  does not match the path filter
2025-10-19 18:31:09.208 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-10-19 18:31:09.221 +03:00 [DBG] Endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-10-19 18:31:09.228 +03:00 [DBG] Request matched endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 18:31:09.238 +03:00 [INF] Executing endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 18:31:09.288 +03:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CitiesApi.Models.CityDtoWithoutPointsOfInterest]]] GetCities() on controller CitiesApi.Controllers.CitiesController (CitiesApi).
2025-10-19 18:31:09.294 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-19 18:31:09.296 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-19 18:31:09.299 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-10-19 18:31:09.301 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-19 18:31:09.302 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-19 18:31:09.308 +03:00 [DBG] Executing controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-19 18:31:09.628 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-10-19 18:31:09.663 +03:00 [DBG] Executed controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-19 18:31:11.130 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-10-19 18:31:11.258 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2025-10-19 18:31:11.703 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.CityId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(500), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.CityId, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CitiesApi.Data.AppDbContext, 
    False, 
    False, 
    True
)'
2025-10-19 18:31:11.761 +03:00 [DBG] Creating DbConnection.
2025-10-19 18:31:11.805 +03:00 [DBG] Created DbConnection. (39ms).
2025-10-19 18:31:11.816 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\\MSSQLSERVER01'.
2025-10-19 18:31:13.119 +03:00 [ERR] An error occurred using the connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\\MSSQLSERVER01'.
2025-10-19 18:31:13.145 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CitiesApi.Data.AppDbContext'.
System.InvalidOperationException: Instance failure.
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Instance failure.
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-10-19 18:31:13.332 +03:00 [INF] Executed action CitiesApi.Controllers.CitiesController.GetCities (CitiesApi) in 4020.8502ms
2025-10-19 18:31:13.337 +03:00 [INF] Executed endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 18:31:13.344 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Instance failure.
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CitiesApi.Services.CityInfoRepository.GetCitiesAsync() in D:\Projects\CitiesApi\CitiesApi\Services\CityInfoRepository.cs:line 16
   at CitiesApi.Controllers.CitiesController.GetCities() in D:\Projects\CitiesApi\CitiesApi\Controllers\CitiesController.cs:line 22
   at lambda_method5(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-10-19 18:31:13.423 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-10-19 18:31:13.430 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2025-10-19 18:31:13.433 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-10-19 18:31:13.438 +03:00 [DBG] 'AppDbContext' disposed.
2025-10-19 18:31:13.450 +03:00 [DBG] Disposing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\\MSSQLSERVER01'.
2025-10-19 18:31:13.461 +03:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-10-19 18:31:13.470 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/api/cities - 500 0 null 4333.4322ms
2025-10-19 18:31:22.683 +03:00 [DBG] Connection id "0HNGF4I26L7FI" received FIN.
2025-10-19 18:31:22.699 +03:00 [DBG] The connection queue processing loop for 0HNGF4I26L7FI completed.
2025-10-19 18:31:22.702 +03:00 [DBG] Connection id "0HNGF4I26L7FI" is closed. The last processed stream ID was 7.
2025-10-19 18:31:22.709 +03:00 [DBG] Connection id "0HNGF4I26L7FI" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 18:31:22.721 +03:00 [DBG] Connection id "0HNGF4I26L7FI" stopped.
2025-10-19 18:34:44.313 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-10-19 18:34:44.517 +03:00 [DBG] Hosting starting
2025-10-19 18:34:44.540 +03:00 [DBG] Middleware loaded
2025-10-19 18:34:44.543 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16503 B).
2025-10-19 18:34:44.547 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-10-19 18:34:44.683 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-10-19 18:34:44.911 +03:00 [INF] Now listening on: https://localhost:7025
2025-10-19 18:34:44.914 +03:00 [INF] Now listening on: http://localhost:5105
2025-10-19 18:34:44.915 +03:00 [DBG] Loaded hosting startup assembly CitiesApi
2025-10-19 18:34:44.916 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-10-19 18:34:44.917 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-10-19 18:34:44.918 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-10-19 18:34:45.189 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-19 18:34:45.192 +03:00 [INF] Hosting environment: Development
2025-10-19 18:34:45.195 +03:00 [INF] Content root path: D:\Projects\CitiesApi\CitiesApi
2025-10-19 18:34:45.197 +03:00 [DBG] Hosting started
2025-10-19 18:34:45.366 +03:00 [DBG] Connection id "0HNGF4K3U4DE3" received FIN.
2025-10-19 18:34:45.370 +03:00 [DBG] Connection id "0HNGF4K3U4DE4" received FIN.
2025-10-19 18:34:45.390 +03:00 [DBG] Connection id "0HNGF4K3U4DE4" accepted.
2025-10-19 18:34:45.398 +03:00 [DBG] Connection id "0HNGF4K3U4DE3" accepted.
2025-10-19 18:34:45.497 +03:00 [DBG] Connection id "0HNGF4K3U4DE4" started.
2025-10-19 18:34:45.500 +03:00 [DBG] Connection id "0HNGF4K3U4DE3" started.
2025-10-19 18:34:45.543 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-19 18:34:45.543 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-19 18:34:45.609 +03:00 [DBG] Connection id "0HNGF4K3U4DE4" stopped.
2025-10-19 18:34:45.609 +03:00 [DBG] Connection id "0HNGF4K3U4DE3" stopped.
2025-10-19 18:34:45.617 +03:00 [DBG] Connection id "0HNGF4K3U4DE3" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 18:34:45.617 +03:00 [DBG] Connection id "0HNGF4K3U4DE4" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 18:34:46.318 +03:00 [DBG] Connection id "0HNGF4K3U4DE5" accepted.
2025-10-19 18:34:46.321 +03:00 [DBG] Connection id "0HNGF4K3U4DE5" started.
2025-10-19 18:34:46.423 +03:00 [DBG] Connection 0HNGF4K3U4DE5 established using the following protocol: "Tls13"
2025-10-19 18:34:46.562 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/swagger/index.html - null null
2025-10-19 18:34:46.793 +03:00 [WRN] Unable to contact VS to retrieve Browser Link script tag.
2025-10-19 18:34:46.797 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-10-19 18:34:46.888 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-10-19 18:34:46.914 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-10-19 18:34:46.918 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/swagger/index.html - 200 null text/html;charset=utf-8 368.4956ms
2025-10-19 18:34:46.964 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/_framework/aspnetcore-browser-refresh.js - null null
2025-10-19 18:34:46.975 +03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-10-19 18:34:46.979 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/_framework/aspnetcore-browser-refresh.js - 200 16503 application/javascript; charset=utf-8 15.6623ms
2025-10-19 18:34:47.094 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/swagger/v1/swagger.json - null null
2025-10-19 18:34:47.131 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 37.1288ms
2025-10-19 18:34:47.973 +03:00 [DBG] Connection id "0HNGF4K3U4DE5" received FIN.
2025-10-19 18:34:47.980 +03:00 [DBG] The connection queue processing loop for 0HNGF4K3U4DE5 completed.
2025-10-19 18:34:47.984 +03:00 [DBG] Connection id "0HNGF4K3U4DE5" is closed. The last processed stream ID was 5.
2025-10-19 18:34:47.986 +03:00 [DBG] Connection id "0HNGF4K3U4DE5" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 18:34:47.997 +03:00 [DBG] Connection id "0HNGF4K3U4DE5" stopped.
2025-10-19 18:34:51.723 +03:00 [DBG] Connection id "0HNGF4K3U4DE6" accepted.
2025-10-19 18:34:51.725 +03:00 [DBG] Connection id "0HNGF4K3U4DE6" started.
2025-10-19 18:34:51.734 +03:00 [DBG] Connection 0HNGF4K3U4DE6 established using the following protocol: "Tls13"
2025-10-19 18:34:51.741 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/api/cities - null null
2025-10-19 18:34:51.750 +03:00 [DBG] The request path  does not match the path filter
2025-10-19 18:34:51.812 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-10-19 18:34:51.822 +03:00 [DBG] Endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-10-19 18:34:51.826 +03:00 [DBG] Request matched endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 18:34:51.836 +03:00 [INF] Executing endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 18:34:51.907 +03:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CitiesApi.Models.CityDtoWithoutPointsOfInterest]]] GetCities() on controller CitiesApi.Controllers.CitiesController (CitiesApi).
2025-10-19 18:34:51.918 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-19 18:34:51.922 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-19 18:34:51.924 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-10-19 18:34:51.927 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-19 18:34:51.930 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-19 18:34:51.938 +03:00 [DBG] Executing controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-19 18:34:52.230 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-10-19 18:34:52.273 +03:00 [DBG] Executed controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-19 18:34:53.840 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-10-19 18:34:53.976 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2025-10-19 18:34:54.379 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.CityId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(500), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.CityId, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CitiesApi.Data.AppDbContext, 
    False, 
    False, 
    True
)'
2025-10-19 18:34:54.430 +03:00 [DBG] Creating DbConnection.
2025-10-19 18:34:54.519 +03:00 [DBG] Created DbConnection. (74ms).
2025-10-19 18:34:54.565 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\\MSSQLSERVER01'.
2025-10-19 18:34:55.064 +03:00 [ERR] An error occurred using the connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\\MSSQLSERVER01'.
2025-10-19 18:34:55.091 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CitiesApi.Data.AppDbContext'.
System.InvalidOperationException: Instance failure.
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Instance failure.
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-10-19 18:34:55.228 +03:00 [INF] Executed action CitiesApi.Controllers.CitiesController.GetCities (CitiesApi) in 3290.7348ms
2025-10-19 18:34:55.234 +03:00 [INF] Executed endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 18:34:55.238 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Instance failure.
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CitiesApi.Controllers.CitiesController.GetCities() in D:\Projects\CitiesApi\CitiesApi\Controllers\CitiesController.cs:line 24
   at lambda_method5(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-10-19 18:34:55.344 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-10-19 18:34:55.350 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2025-10-19 18:34:55.354 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-10-19 18:34:55.360 +03:00 [DBG] 'AppDbContext' disposed.
2025-10-19 18:34:55.369 +03:00 [DBG] Disposing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\\MSSQLSERVER01'.
2025-10-19 18:34:55.387 +03:00 [DBG] Disposed connection to database '' on server '' (6ms).
2025-10-19 18:34:55.393 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/api/cities - 500 0 null 3651.7594ms
2025-10-19 18:34:57.981 +03:00 [DBG] Connection id "0HNGF4K3U4DE6" received FIN.
2025-10-19 18:34:57.985 +03:00 [DBG] Connection id "0HNGF4K3U4DE6" is closed. The last processed stream ID was 1.
2025-10-19 18:34:57.985 +03:00 [DBG] The connection queue processing loop for 0HNGF4K3U4DE6 completed.
2025-10-19 18:34:57.988 +03:00 [DBG] Connection id "0HNGF4K3U4DE6" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 18:34:58.017 +03:00 [DBG] Connection id "0HNGF4K3U4DE6" stopped.
2025-10-19 18:35:23.388 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-10-19 18:35:23.619 +03:00 [DBG] Hosting starting
2025-10-19 18:35:23.643 +03:00 [DBG] Middleware loaded
2025-10-19 18:35:23.653 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16503 B).
2025-10-19 18:35:23.658 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-10-19 18:35:23.802 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-10-19 18:35:23.974 +03:00 [INF] Now listening on: https://localhost:7025
2025-10-19 18:35:23.976 +03:00 [INF] Now listening on: http://localhost:5105
2025-10-19 18:35:23.977 +03:00 [DBG] Loaded hosting startup assembly CitiesApi
2025-10-19 18:35:23.978 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-10-19 18:35:23.979 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-10-19 18:35:23.980 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-10-19 18:35:24.112 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-19 18:35:24.116 +03:00 [INF] Hosting environment: Development
2025-10-19 18:35:24.121 +03:00 [INF] Content root path: D:\Projects\CitiesApi\CitiesApi
2025-10-19 18:35:24.123 +03:00 [DBG] Hosting started
2025-10-19 18:35:24.362 +03:00 [DBG] Connection id "0HNGF4KFI108R" received FIN.
2025-10-19 18:35:24.362 +03:00 [DBG] Connection id "0HNGF4KFI108S" received FIN.
2025-10-19 18:35:24.373 +03:00 [DBG] Connection id "0HNGF4KFI108S" accepted.
2025-10-19 18:35:24.373 +03:00 [DBG] Connection id "0HNGF4KFI108R" accepted.
2025-10-19 18:35:24.376 +03:00 [DBG] Connection id "0HNGF4KFI108S" started.
2025-10-19 18:35:24.376 +03:00 [DBG] Connection id "0HNGF4KFI108R" started.
2025-10-19 18:35:24.404 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-19 18:35:24.404 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-19 18:35:24.452 +03:00 [DBG] Connection id "0HNGF4KFI108S" stopped.
2025-10-19 18:35:24.452 +03:00 [DBG] Connection id "0HNGF4KFI108R" stopped.
2025-10-19 18:35:24.460 +03:00 [DBG] Connection id "0HNGF4KFI108R" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 18:35:24.460 +03:00 [DBG] Connection id "0HNGF4KFI108S" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 18:35:24.556 +03:00 [DBG] Connection id "0HNGF4KFI108T" accepted.
2025-10-19 18:35:24.563 +03:00 [DBG] Connection id "0HNGF4KFI108T" started.
2025-10-19 18:35:24.632 +03:00 [DBG] Connection 0HNGF4KFI108T established using the following protocol: "Tls13"
2025-10-19 18:35:24.745 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/swagger/index.html - null null
2025-10-19 18:35:24.941 +03:00 [WRN] Unable to contact VS to retrieve Browser Link script tag.
2025-10-19 18:35:24.943 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-10-19 18:35:25.036 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-10-19 18:35:25.061 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-10-19 18:35:25.068 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/swagger/index.html - 200 null text/html;charset=utf-8 331.4641ms
2025-10-19 18:35:25.092 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/_framework/aspnetcore-browser-refresh.js - null null
2025-10-19 18:35:25.102 +03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-10-19 18:35:25.105 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/_framework/aspnetcore-browser-refresh.js - 200 16503 application/javascript; charset=utf-8 12.7451ms
2025-10-19 18:35:25.172 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/swagger/v1/swagger.json - null null
2025-10-19 18:35:25.198 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 26.8338ms
2025-10-19 18:35:27.850 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/api/cities - null null
2025-10-19 18:35:27.859 +03:00 [DBG] The request path  does not match the path filter
2025-10-19 18:35:27.913 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-10-19 18:35:27.917 +03:00 [DBG] Endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-10-19 18:35:27.921 +03:00 [DBG] Request matched endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 18:35:27.927 +03:00 [INF] Executing endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 18:35:27.951 +03:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CitiesApi.Models.CityDtoWithoutPointsOfInterest]] GetCities() on controller CitiesApi.Controllers.CitiesController (CitiesApi).
2025-10-19 18:35:27.956 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-19 18:35:27.959 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-19 18:35:27.962 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-10-19 18:35:27.964 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-19 18:35:27.965 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-19 18:35:27.970 +03:00 [DBG] Executing controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-19 18:35:28.155 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-10-19 18:35:28.186 +03:00 [DBG] Executed controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-19 18:35:29.479 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-10-19 18:35:29.621 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2025-10-19 18:35:30.074 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.CityId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(500), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.CityId, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CitiesApi.Data.AppDbContext, 
    False, 
    False, 
    True
)'
2025-10-19 18:35:30.118 +03:00 [DBG] Creating DbConnection.
2025-10-19 18:35:30.163 +03:00 [DBG] Created DbConnection. (41ms).
2025-10-19 18:35:30.178 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\\MSSQLSERVER01'.
2025-10-19 18:35:30.692 +03:00 [ERR] An error occurred using the connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\\MSSQLSERVER01'.
2025-10-19 18:35:30.702 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CitiesApi.Data.AppDbContext'.
System.InvalidOperationException: Instance failure.
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternal(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
System.InvalidOperationException: Instance failure.
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternal(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
2025-10-19 18:35:42.801 +03:00 [INF] Executed action CitiesApi.Controllers.CitiesController.GetCities (CitiesApi) in 14827.9401ms
2025-10-19 18:35:42.804 +03:00 [INF] Executed endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 18:35:42.809 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Instance failure.
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternal(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at CitiesApi.Controllers.CitiesController.GetCities() in D:\Projects\CitiesApi\CitiesApi\Controllers\CitiesController.cs:line 24
   at lambda_method2(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-10-19 18:35:42.880 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-10-19 18:35:42.888 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2025-10-19 18:35:42.895 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-10-19 18:35:42.901 +03:00 [DBG] 'AppDbContext' disposed.
2025-10-19 18:35:42.910 +03:00 [DBG] Disposing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\\MSSQLSERVER01'.
2025-10-19 18:35:42.921 +03:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-10-19 18:35:42.923 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/api/cities - 500 0 null 15072.3352ms
2025-10-19 18:35:43.029 +03:00 [DBG] Connection id "0HNGF4KFI108T" received FIN.
2025-10-19 18:35:43.034 +03:00 [DBG] The connection queue processing loop for 0HNGF4KFI108T completed.
2025-10-19 18:35:43.038 +03:00 [DBG] Connection id "0HNGF4KFI108T" is closed. The last processed stream ID was 7.
2025-10-19 18:35:43.039 +03:00 [DBG] Connection id "0HNGF4KFI108T" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 18:35:43.045 +03:00 [DBG] Connection id "0HNGF4KFI108T" stopped.
2025-10-19 18:37:02.946 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-10-19 18:37:03.268 +03:00 [DBG] Hosting starting
2025-10-19 18:37:03.314 +03:00 [DBG] Middleware loaded
2025-10-19 18:37:03.319 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16503 B).
2025-10-19 18:37:03.324 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-10-19 18:37:03.555 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-10-19 18:37:03.808 +03:00 [INF] Now listening on: https://localhost:7025
2025-10-19 18:37:03.814 +03:00 [INF] Now listening on: http://localhost:5105
2025-10-19 18:37:03.824 +03:00 [DBG] Loaded hosting startup assembly CitiesApi
2025-10-19 18:37:03.827 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-10-19 18:37:03.832 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-10-19 18:37:03.834 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-10-19 18:37:03.986 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-19 18:37:03.992 +03:00 [DBG] Connection id "0HNGF4LD84QR3" received FIN.
2025-10-19 18:37:03.990 +03:00 [DBG] Connection id "0HNGF4LD84QR2" accepted.
2025-10-19 18:37:04.007 +03:00 [INF] Hosting environment: Development
2025-10-19 18:37:04.010 +03:00 [DBG] Connection id "0HNGF4LD84QR3" accepted.
2025-10-19 18:37:03.992 +03:00 [DBG] Connection id "0HNGF4LD84QR2" received FIN.
2025-10-19 18:37:04.016 +03:00 [INF] Content root path: D:\Projects\CitiesApi\CitiesApi
2025-10-19 18:37:04.015 +03:00 [DBG] Connection id "0HNGF4LD84QR2" started.
2025-10-19 18:37:04.019 +03:00 [DBG] Connection id "0HNGF4LD84QR3" started.
2025-10-19 18:37:04.023 +03:00 [DBG] Hosting started
2025-10-19 18:37:04.075 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-19 18:37:04.075 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-19 18:37:04.205 +03:00 [DBG] Connection id "0HNGF4LD84QR2" stopped.
2025-10-19 18:37:04.205 +03:00 [DBG] Connection id "0HNGF4LD84QR3" stopped.
2025-10-19 18:37:04.213 +03:00 [DBG] Connection id "0HNGF4LD84QR2" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 18:37:04.213 +03:00 [DBG] Connection id "0HNGF4LD84QR3" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 18:37:04.559 +03:00 [DBG] Connection id "0HNGF4LD84QR4" accepted.
2025-10-19 18:37:04.564 +03:00 [DBG] Connection id "0HNGF4LD84QR4" started.
2025-10-19 18:37:04.649 +03:00 [DBG] Connection 0HNGF4LD84QR4 established using the following protocol: "Tls13"
2025-10-19 18:37:04.798 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/swagger/index.html - null null
2025-10-19 18:37:05.045 +03:00 [WRN] Unable to contact VS to retrieve Browser Link script tag.
2025-10-19 18:37:05.051 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-10-19 18:37:05.122 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-10-19 18:37:05.149 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-10-19 18:37:05.154 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/swagger/index.html - 200 null text/html;charset=utf-8 380.9596ms
2025-10-19 18:37:05.315 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/_framework/aspnetcore-browser-refresh.js - null null
2025-10-19 18:37:05.327 +03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-10-19 18:37:05.330 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/_framework/aspnetcore-browser-refresh.js - 200 16503 application/javascript; charset=utf-8 15.5102ms
2025-10-19 18:37:05.455 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/swagger/v1/swagger.json - null null
2025-10-19 18:37:05.486 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 32.0443ms
2025-10-19 18:37:08.788 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/api/cities - null null
2025-10-19 18:37:08.799 +03:00 [DBG] The request path  does not match the path filter
2025-10-19 18:37:08.860 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-10-19 18:37:08.868 +03:00 [DBG] Endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-10-19 18:37:08.871 +03:00 [DBG] Request matched endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 18:37:08.886 +03:00 [INF] Executing endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 18:37:08.972 +03:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CitiesApi.Models.CityDtoWithoutPointsOfInterest]] GetCities() on controller CitiesApi.Controllers.CitiesController (CitiesApi).
2025-10-19 18:37:08.981 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-19 18:37:08.982 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-19 18:37:08.984 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-10-19 18:37:08.987 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-19 18:37:08.989 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-19 18:37:08.998 +03:00 [DBG] Executing controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-19 18:37:09.344 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-10-19 18:37:09.379 +03:00 [DBG] Executed controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-19 18:37:10.978 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-10-19 18:37:11.031 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2025-10-19 18:37:11.420 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.CityId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(500), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.CityId, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CitiesApi.Data.AppDbContext, 
    False, 
    False, 
    True
)'
2025-10-19 18:37:11.469 +03:00 [DBG] Creating DbConnection.
2025-10-19 18:37:11.521 +03:00 [DBG] Created DbConnection. (47ms).
2025-10-19 18:37:11.528 +03:00 [DBG] Opening connection to database '' on server ''.
2025-10-19 18:37:11.777 +03:00 [ERR] An error occurred using the connection to database '' on server ''.
2025-10-19 18:37:11.790 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CitiesApi.Data.AppDbContext'.
System.InvalidOperationException: The ConnectionString property has not been initialized.
   at Microsoft.Data.SqlClient.SqlConnection.PermissionDemand()
   at Microsoft.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternal(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
System.InvalidOperationException: The ConnectionString property has not been initialized.
   at Microsoft.Data.SqlClient.SqlConnection.PermissionDemand()
   at Microsoft.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternal(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
2025-10-19 18:38:45.033 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-10-19 18:38:45.350 +03:00 [DBG] Hosting starting
2025-10-19 18:38:45.373 +03:00 [DBG] Middleware loaded
2025-10-19 18:38:45.376 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16503 B).
2025-10-19 18:38:45.379 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-10-19 18:38:45.558 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-10-19 18:38:45.837 +03:00 [INF] Now listening on: https://localhost:7025
2025-10-19 18:38:45.839 +03:00 [INF] Now listening on: http://localhost:5105
2025-10-19 18:38:45.841 +03:00 [DBG] Loaded hosting startup assembly CitiesApi
2025-10-19 18:38:45.843 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-10-19 18:38:45.844 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-10-19 18:38:45.846 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-10-19 18:38:45.992 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-19 18:38:45.999 +03:00 [INF] Hosting environment: Development
2025-10-19 18:38:46.000 +03:00 [INF] Content root path: D:\Projects\CitiesApi\CitiesApi
2025-10-19 18:38:46.001 +03:00 [DBG] Hosting started
2025-10-19 18:38:46.198 +03:00 [DBG] Connection id "0HNGF4MBMSBSN" accepted.
2025-10-19 18:38:46.211 +03:00 [DBG] Connection id "0HNGF4MBMSBSM" received FIN.
2025-10-19 18:38:46.198 +03:00 [DBG] Connection id "0HNGF4MBMSBSN" received FIN.
2025-10-19 18:38:46.198 +03:00 [DBG] Connection id "0HNGF4MBMSBSM" accepted.
2025-10-19 18:38:46.224 +03:00 [DBG] Connection id "0HNGF4MBMSBSN" started.
2025-10-19 18:38:46.228 +03:00 [DBG] Connection id "0HNGF4MBMSBSM" started.
2025-10-19 18:38:46.266 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-19 18:38:46.266 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-19 18:38:46.357 +03:00 [DBG] Connection id "0HNGF4MBMSBSN" stopped.
2025-10-19 18:38:46.357 +03:00 [DBG] Connection id "0HNGF4MBMSBSM" stopped.
2025-10-19 18:38:46.363 +03:00 [DBG] Connection id "0HNGF4MBMSBSM" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 18:38:46.363 +03:00 [DBG] Connection id "0HNGF4MBMSBSN" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 18:38:47.261 +03:00 [DBG] Connection id "0HNGF4MBMSBSO" accepted.
2025-10-19 18:38:47.264 +03:00 [DBG] Connection id "0HNGF4MBMSBSO" started.
2025-10-19 18:38:47.370 +03:00 [DBG] Connection 0HNGF4MBMSBSO established using the following protocol: "Tls13"
2025-10-19 18:38:47.519 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/swagger/index.html - null null
2025-10-19 18:38:47.721 +03:00 [WRN] Unable to contact VS to retrieve Browser Link script tag.
2025-10-19 18:38:47.726 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-10-19 18:38:47.849 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-10-19 18:38:47.873 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-10-19 18:38:47.879 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/swagger/index.html - 200 null text/html;charset=utf-8 371.7923ms
2025-10-19 18:38:47.995 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/_framework/aspnetcore-browser-refresh.js - null null
2025-10-19 18:38:48.010 +03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-10-19 18:38:48.015 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/_framework/aspnetcore-browser-refresh.js - 200 16503 application/javascript; charset=utf-8 20.7913ms
2025-10-19 18:38:48.127 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/swagger/v1/swagger.json - null null
2025-10-19 18:38:48.166 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 41.1978ms
2025-10-19 18:38:48.438 +03:00 [DBG] Connection id "0HNGF4MBMSBSO" received FIN.
2025-10-19 18:38:48.473 +03:00 [DBG] Connection id "0HNGF4MBMSBSO" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 18:38:48.485 +03:00 [DBG] Connection id "0HNGF4MBMSBSO" is closed. The last processed stream ID was 5.
2025-10-19 18:38:48.506 +03:00 [DBG] The connection queue processing loop for 0HNGF4MBMSBSO completed.
2025-10-19 18:38:48.514 +03:00 [DBG] Connection id "0HNGF4MBMSBSO" stopped.
2025-10-19 18:38:53.256 +03:00 [DBG] Connection id "0HNGF4MBMSBSP" accepted.
2025-10-19 18:38:53.258 +03:00 [DBG] Connection id "0HNGF4MBMSBSP" started.
2025-10-19 18:38:53.266 +03:00 [DBG] Connection 0HNGF4MBMSBSP established using the following protocol: "Tls13"
2025-10-19 18:38:53.271 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/api/cities - null null
2025-10-19 18:38:53.285 +03:00 [DBG] The request path  does not match the path filter
2025-10-19 18:38:53.342 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-10-19 18:38:53.355 +03:00 [DBG] Endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-10-19 18:38:53.359 +03:00 [DBG] Request matched endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 18:38:53.368 +03:00 [INF] Executing endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 18:38:53.414 +03:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CitiesApi.Models.CityDtoWithoutPointsOfInterest]] GetCities() on controller CitiesApi.Controllers.CitiesController (CitiesApi).
2025-10-19 18:38:53.421 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-19 18:38:53.423 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-19 18:38:53.426 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-10-19 18:38:53.428 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-19 18:38:53.431 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-19 18:38:53.436 +03:00 [DBG] Executing controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-19 18:38:53.751 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-10-19 18:38:53.791 +03:00 [DBG] Executed controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-19 18:38:55.161 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-10-19 18:38:55.246 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2025-10-19 18:38:55.595 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.CityId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(500), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.CityId, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CitiesApi.Data.AppDbContext, 
    False, 
    False, 
    True
)'
2025-10-19 18:38:55.662 +03:00 [DBG] Creating DbConnection.
2025-10-19 18:38:55.707 +03:00 [DBG] Created DbConnection. (43ms).
2025-10-19 18:38:55.729 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 18:38:56.304 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 18:38:56.311 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-19 18:38:56.322 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (9ms).
2025-10-19 18:38:56.328 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (16ms).
2025-10-19 18:38:56.344 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CityId], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2025-10-19 18:38:56.482 +03:00 [INF] Executed DbCommand (130ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CityId], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2025-10-19 18:38:56.547 +03:00 [DBG] Context 'AppDbContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-19 18:38:56.584 +03:00 [DBG] Context 'AppDbContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-19 18:38:56.592 +03:00 [DBG] Context 'AppDbContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-19 18:38:56.602 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 18:38:56.615 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 116ms reading results.
2025-10-19 18:38:56.619 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 18:38:56.632 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (12ms).
2025-10-19 18:38:56.644 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-10-19 18:38:56.651 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-10-19 18:38:56.657 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-10-19 18:38:56.659 +03:00 [WRN] No output formatter was found for content types '["text/plain"]' to write the response.
2025-10-19 18:38:56.667 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-10-19 18:38:56.671 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2025-10-19 18:38:56.673 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-10-19 18:38:56.682 +03:00 [INF] Executed action CitiesApi.Controllers.CitiesController.GetCities (CitiesApi) in 3243.2703ms
2025-10-19 18:38:56.684 +03:00 [INF] Executed endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 18:38:56.690 +03:00 [DBG] 'AppDbContext' disposed.
2025-10-19 18:38:56.699 +03:00 [DBG] Disposing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 18:38:56.704 +03:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-10-19 18:38:56.706 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/api/cities - 406 0 null 3435.8175ms
2025-10-19 18:39:03.303 +03:00 [DBG] Connection id "0HNGF4MBMSBSP" received FIN.
2025-10-19 18:39:03.307 +03:00 [DBG] Connection id "0HNGF4MBMSBSP" is closed. The last processed stream ID was 1.
2025-10-19 18:39:03.308 +03:00 [DBG] The connection queue processing loop for 0HNGF4MBMSBSP completed.
2025-10-19 18:39:03.311 +03:00 [DBG] Connection id "0HNGF4MBMSBSP" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 18:39:03.318 +03:00 [DBG] Connection id "0HNGF4MBMSBSP" stopped.
2025-10-19 18:40:34.345 +03:00 [DBG] Connection id "0HNGF4MBMSBSQ" received FIN.
2025-10-19 18:40:34.370 +03:00 [DBG] Connection id "0HNGF4MBMSBSQ" accepted.
2025-10-19 18:40:34.372 +03:00 [DBG] Connection id "0HNGF4MBMSBSQ" started.
2025-10-19 18:40:34.417 +03:00 [DBG] Connection id "0HNGF4MBMSBSR" accepted.
2025-10-19 18:40:34.419 +03:00 [DBG] Connection id "0HNGF4MBMSBSR" started.
2025-10-19 18:40:34.435 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-19 18:40:34.444 +03:00 [DBG] Connection 0HNGF4MBMSBSR established using the following protocol: "Tls13"
2025-10-19 18:40:34.448 +03:00 [DBG] Connection id "0HNGF4MBMSBSQ" stopped.
2025-10-19 18:40:34.450 +03:00 [DBG] Connection id "0HNGF4MBMSBSQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 18:40:34.488 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7025/api/cities - null null
2025-10-19 18:40:34.514 +03:00 [DBG] The request path  does not match the path filter
2025-10-19 18:40:34.527 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-10-19 18:40:34.530 +03:00 [DBG] Endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-10-19 18:40:34.535 +03:00 [DBG] Request matched endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 18:40:34.540 +03:00 [INF] Executing endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 18:40:34.558 +03:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CitiesApi.Models.CityDtoWithoutPointsOfInterest]] GetCities() on controller CitiesApi.Controllers.CitiesController (CitiesApi).
2025-10-19 18:40:34.562 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-19 18:40:34.566 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-19 18:40:34.569 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-10-19 18:40:34.570 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-19 18:40:34.572 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-19 18:40:34.574 +03:00 [DBG] Executing controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-19 18:40:34.590 +03:00 [DBG] Executed controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-19 18:40:34.665 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-10-19 18:40:34.691 +03:00 [DBG] Creating DbConnection.
2025-10-19 18:40:34.701 +03:00 [DBG] Created DbConnection. (9ms).
2025-10-19 18:40:34.704 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 18:40:34.721 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 18:40:34.722 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-19 18:40:34.724 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-19 18:40:34.725 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-10-19 18:40:34.728 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CityId], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2025-10-19 18:40:34.868 +03:00 [INF] Executed DbCommand (140ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CityId], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2025-10-19 18:40:34.873 +03:00 [DBG] Context 'AppDbContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-19 18:40:34.878 +03:00 [DBG] Context 'AppDbContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-19 18:40:34.883 +03:00 [DBG] Context 'AppDbContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-19 18:40:34.885 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 18:40:34.888 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 17ms reading results.
2025-10-19 18:40:34.890 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 18:40:34.892 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (2ms).
2025-10-19 18:40:34.897 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-10-19 18:40:34.901 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/xml"]'.
2025-10-19 18:40:34.909 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter' and content type 'application/xml' to write the response.
2025-10-19 18:40:34.911 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CitiesApi.Models.CityDtoWithoutPointsOfInterest, CitiesApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-19 18:40:35.056 +03:00 [INF] Executed action CitiesApi.Controllers.CitiesController.GetCities (CitiesApi) in 482.1561ms
2025-10-19 18:40:35.058 +03:00 [INF] Executed endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 18:40:35.060 +03:00 [DBG] Connection id "0HNGF4MBMSBSR" completed keep alive response.
2025-10-19 18:40:35.061 +03:00 [DBG] 'AppDbContext' disposed.
2025-10-19 18:40:35.064 +03:00 [DBG] Disposing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 18:40:35.065 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-19 18:40:35.068 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7025/api/cities - 200 679 application/xml; charset=utf-8 585.3187ms
2025-10-19 18:40:52.646 +03:00 [DBG] Connection id "0HNGF4MBMSBSS" accepted.
2025-10-19 18:40:52.648 +03:00 [DBG] Connection id "0HNGF4MBMSBSS" started.
2025-10-19 18:40:52.654 +03:00 [DBG] Connection 0HNGF4MBMSBSS established using the following protocol: "Tls13"
2025-10-19 18:40:52.661 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/api/cities - null null
2025-10-19 18:40:52.667 +03:00 [DBG] The request path  does not match the path filter
2025-10-19 18:40:52.669 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-10-19 18:40:52.670 +03:00 [DBG] Endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-10-19 18:40:52.673 +03:00 [DBG] Request matched endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 18:40:52.674 +03:00 [INF] Executing endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 18:40:52.674 +03:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CitiesApi.Models.CityDtoWithoutPointsOfInterest]] GetCities() on controller CitiesApi.Controllers.CitiesController (CitiesApi).
2025-10-19 18:40:52.676 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-19 18:40:52.680 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-19 18:40:52.681 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-10-19 18:40:52.682 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-19 18:40:52.684 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-19 18:40:52.686 +03:00 [DBG] Executing controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-19 18:40:52.690 +03:00 [DBG] Executed controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-19 18:40:52.807 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-10-19 18:40:52.812 +03:00 [DBG] Creating DbConnection.
2025-10-19 18:40:52.813 +03:00 [DBG] Created DbConnection. (1ms).
2025-10-19 18:40:52.814 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 18:40:52.816 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 18:40:52.817 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-19 18:40:52.818 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-10-19 18:40:52.819 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-10-19 18:40:52.821 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CityId], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2025-10-19 18:40:52.825 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CityId], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2025-10-19 18:40:52.827 +03:00 [DBG] Context 'AppDbContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-19 18:40:52.829 +03:00 [DBG] Context 'AppDbContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-19 18:40:52.831 +03:00 [DBG] Context 'AppDbContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-19 18:40:52.832 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 18:40:52.834 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 6ms reading results.
2025-10-19 18:40:52.835 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 18:40:52.839 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (3ms).
2025-10-19 18:40:52.841 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-10-19 18:40:52.846 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2025-10-19 18:40:52.847 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2025-10-19 18:40:52.848 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CitiesApi.Models.CityDtoWithoutPointsOfInterest, CitiesApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-19 18:40:53.092 +03:00 [INF] Executed action CitiesApi.Controllers.CitiesController.GetCities (CitiesApi) in 405.646ms
2025-10-19 18:40:53.096 +03:00 [INF] Executed endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 18:40:53.098 +03:00 [DBG] 'AppDbContext' disposed.
2025-10-19 18:40:53.101 +03:00 [DBG] Disposing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 18:40:53.106 +03:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-10-19 18:40:53.113 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/api/cities - 200 247 text/json; charset=utf-8 452.8772ms
2025-10-19 18:41:00.630 +03:00 [DBG] Connection id "0HNGF4MBMSBSS" received FIN.
2025-10-19 18:41:00.631 +03:00 [DBG] Connection id "0HNGF4MBMSBSS" is closed. The last processed stream ID was 1.
2025-10-19 18:41:00.632 +03:00 [DBG] The connection queue processing loop for 0HNGF4MBMSBSS completed.
2025-10-19 18:41:00.634 +03:00 [DBG] Connection id "0HNGF4MBMSBSS" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 18:41:00.644 +03:00 [DBG] Connection id "0HNGF4MBMSBSS" stopped.
2025-10-19 18:42:18.503 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-10-19 18:42:18.650 +03:00 [DBG] Hosting starting
2025-10-19 18:42:18.673 +03:00 [DBG] Middleware loaded
2025-10-19 18:42:18.682 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16503 B).
2025-10-19 18:42:18.687 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-10-19 18:42:18.830 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-10-19 18:42:18.955 +03:00 [INF] Now listening on: https://localhost:7025
2025-10-19 18:42:18.956 +03:00 [INF] Now listening on: http://localhost:5105
2025-10-19 18:42:18.958 +03:00 [DBG] Loaded hosting startup assembly CitiesApi
2025-10-19 18:42:18.958 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-10-19 18:42:18.959 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-10-19 18:42:18.960 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-10-19 18:42:19.043 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-19 18:42:19.044 +03:00 [INF] Hosting environment: Development
2025-10-19 18:42:19.045 +03:00 [INF] Content root path: D:\Projects\CitiesApi\CitiesApi
2025-10-19 18:42:19.046 +03:00 [DBG] Hosting started
2025-10-19 18:42:19.325 +03:00 [DBG] Connection id "0HNGF4OB7DFDN" accepted.
2025-10-19 18:42:19.325 +03:00 [DBG] Connection id "0HNGF4OB7DFDM" accepted.
2025-10-19 18:42:19.327 +03:00 [DBG] Connection id "0HNGF4OB7DFDN" started.
2025-10-19 18:42:19.328 +03:00 [DBG] Connection id "0HNGF4OB7DFDM" started.
2025-10-19 18:42:19.362 +03:00 [DBG] Connection id "0HNGF4OB7DFDN" received FIN.
2025-10-19 18:42:19.362 +03:00 [DBG] Connection id "0HNGF4OB7DFDM" received FIN.
2025-10-19 18:42:19.388 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-19 18:42:19.388 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-19 18:42:19.454 +03:00 [DBG] Connection id "0HNGF4OB7DFDN" stopped.
2025-10-19 18:42:19.454 +03:00 [DBG] Connection id "0HNGF4OB7DFDM" stopped.
2025-10-19 18:42:19.462 +03:00 [DBG] Connection id "0HNGF4OB7DFDM" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 18:42:19.462 +03:00 [DBG] Connection id "0HNGF4OB7DFDN" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 18:42:20.080 +03:00 [DBG] Connection id "0HNGF4OB7DFDO" accepted.
2025-10-19 18:42:20.110 +03:00 [DBG] Connection id "0HNGF4OB7DFDO" started.
2025-10-19 18:42:20.246 +03:00 [DBG] Connection 0HNGF4OB7DFDO established using the following protocol: "Tls13"
2025-10-19 18:42:20.391 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/swagger/index.html - null null
2025-10-19 18:42:20.625 +03:00 [WRN] Unable to contact VS to retrieve Browser Link script tag.
2025-10-19 18:42:20.631 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-10-19 18:42:20.725 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-10-19 18:42:20.770 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-10-19 18:42:20.777 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/swagger/index.html - 200 null text/html;charset=utf-8 400.1077ms
2025-10-19 18:42:20.943 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/_framework/aspnetcore-browser-refresh.js - null null
2025-10-19 18:42:20.956 +03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-10-19 18:42:20.960 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/_framework/aspnetcore-browser-refresh.js - 200 16503 application/javascript; charset=utf-8 17.0394ms
2025-10-19 18:42:21.124 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/swagger/v1/swagger.json - null null
2025-10-19 18:42:21.167 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 42.461ms
2025-10-19 18:42:23.291 +03:00 [DBG] Connection id "0HNGF4OB7DFDP" accepted.
2025-10-19 18:42:23.292 +03:00 [DBG] Connection id "0HNGF4OB7DFDP" received FIN.
2025-10-19 18:42:23.295 +03:00 [DBG] Connection id "0HNGF4OB7DFDP" started.
2025-10-19 18:42:23.297 +03:00 [DBG] Connection id "0HNGF4OB7DFDQ" accepted.
2025-10-19 18:42:23.310 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-19 18:42:23.312 +03:00 [DBG] Connection id "0HNGF4OB7DFDQ" started.
2025-10-19 18:42:23.320 +03:00 [DBG] Connection id "0HNGF4OB7DFDP" stopped.
2025-10-19 18:42:23.331 +03:00 [DBG] Connection id "0HNGF4OB7DFDP" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 18:42:23.343 +03:00 [DBG] Connection 0HNGF4OB7DFDQ established using the following protocol: "Tls13"
2025-10-19 18:42:23.356 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7025/api/cities - null null
2025-10-19 18:42:23.367 +03:00 [DBG] The request path  does not match the path filter
2025-10-19 18:42:23.419 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-10-19 18:42:23.432 +03:00 [DBG] Endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-10-19 18:42:23.435 +03:00 [DBG] Request matched endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 18:42:23.447 +03:00 [INF] Executing endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 18:42:23.494 +03:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CitiesApi.Models.CityDtoWithoutPointsOfInterest]]] GetCities() on controller CitiesApi.Controllers.CitiesController (CitiesApi).
2025-10-19 18:42:23.499 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-19 18:42:23.502 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-19 18:42:23.504 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-10-19 18:42:23.507 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-19 18:42:23.509 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-19 18:42:23.513 +03:00 [DBG] Executing controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-19 18:42:23.833 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-10-19 18:42:23.895 +03:00 [DBG] Executed controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-19 18:42:25.538 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-10-19 18:42:25.684 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2025-10-19 18:42:25.782 +03:00 [DBG] Connection id "0HNGF4OB7DFDO" received FIN.
2025-10-19 18:42:25.787 +03:00 [DBG] The connection queue processing loop for 0HNGF4OB7DFDO completed.
2025-10-19 18:42:25.791 +03:00 [DBG] Connection id "0HNGF4OB7DFDO" is closed. The last processed stream ID was 5.
2025-10-19 18:42:25.792 +03:00 [DBG] Connection id "0HNGF4OB7DFDO" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 18:42:25.796 +03:00 [DBG] Connection id "0HNGF4OB7DFDO" stopped.
2025-10-19 18:42:26.106 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.CityId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(500), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.CityId, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CitiesApi.Data.AppDbContext, 
    False, 
    False, 
    True
)'
2025-10-19 18:42:26.169 +03:00 [DBG] Creating DbConnection.
2025-10-19 18:42:26.221 +03:00 [DBG] Created DbConnection. (50ms).
2025-10-19 18:42:26.228 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 18:42:26.963 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 18:42:26.972 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-19 18:42:26.981 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (9ms).
2025-10-19 18:42:26.985 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (14ms).
2025-10-19 18:42:27.001 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CityId], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2025-10-19 18:42:27.269 +03:00 [INF] Executed DbCommand (266ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CityId], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2025-10-19 18:42:27.343 +03:00 [DBG] Context 'AppDbContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-19 18:42:27.393 +03:00 [DBG] Context 'AppDbContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-19 18:42:27.399 +03:00 [DBG] Context 'AppDbContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-19 18:42:27.414 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 18:42:27.434 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 149ms reading results.
2025-10-19 18:42:27.456 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 18:42:27.475 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (23ms).
2025-10-19 18:42:27.487 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-10-19 18:42:27.495 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/xml"]'.
2025-10-19 18:42:27.502 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter' and content type 'application/xml' to write the response.
2025-10-19 18:42:27.504 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CitiesApi.Models.CityDtoWithoutPointsOfInterest, CitiesApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-19 18:42:27.569 +03:00 [INF] Executed action CitiesApi.Controllers.CitiesController.GetCities (CitiesApi) in 4053.2565ms
2025-10-19 18:42:27.572 +03:00 [INF] Executed endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 18:42:27.574 +03:00 [DBG] Connection id "0HNGF4OB7DFDQ" completed keep alive response.
2025-10-19 18:42:27.580 +03:00 [DBG] 'AppDbContext' disposed.
2025-10-19 18:42:27.588 +03:00 [DBG] Disposing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 18:42:27.591 +03:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-10-19 18:42:27.594 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7025/api/cities - 200 679 application/xml; charset=utf-8 4237.9793ms
2025-10-19 18:42:34.598 +03:00 [DBG] Connection id "0HNGF4OB7DFDR" accepted.
2025-10-19 18:42:34.611 +03:00 [DBG] Connection id "0HNGF4OB7DFDR" started.
2025-10-19 18:42:34.617 +03:00 [DBG] Connection 0HNGF4OB7DFDR established using the following protocol: "Tls13"
2025-10-19 18:42:34.622 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/api/cities - null null
2025-10-19 18:42:34.625 +03:00 [DBG] The request path  does not match the path filter
2025-10-19 18:42:34.628 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-10-19 18:42:34.629 +03:00 [DBG] Endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-10-19 18:42:34.631 +03:00 [DBG] Request matched endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 18:42:34.634 +03:00 [INF] Executing endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 18:42:34.636 +03:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CitiesApi.Models.CityDtoWithoutPointsOfInterest]]] GetCities() on controller CitiesApi.Controllers.CitiesController (CitiesApi).
2025-10-19 18:42:34.638 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-19 18:42:34.640 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-19 18:42:34.641 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-10-19 18:42:34.643 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-19 18:42:34.645 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-19 18:42:34.647 +03:00 [DBG] Executing controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-19 18:42:34.650 +03:00 [DBG] Executed controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-19 18:42:34.673 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-10-19 18:42:34.683 +03:00 [DBG] Creating DbConnection.
2025-10-19 18:42:34.685 +03:00 [DBG] Created DbConnection. (1ms).
2025-10-19 18:42:34.686 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 18:42:34.690 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 18:42:34.692 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-19 18:42:34.693 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-19 18:42:34.694 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-10-19 18:42:34.696 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CityId], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2025-10-19 18:42:34.716 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CityId], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2025-10-19 18:42:34.718 +03:00 [DBG] Context 'AppDbContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-19 18:42:34.720 +03:00 [DBG] Context 'AppDbContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-19 18:42:34.721 +03:00 [DBG] Context 'AppDbContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-19 18:42:34.723 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 18:42:34.725 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 7ms reading results.
2025-10-19 18:42:34.727 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 18:42:34.728 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (1ms).
2025-10-19 18:42:34.731 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-10-19 18:42:34.733 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-10-19 18:42:34.736 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-10-19 18:42:34.739 +03:00 [WRN] No output formatter was found for content types '["text/plain"]' to write the response.
2025-10-19 18:42:34.744 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-10-19 18:42:34.747 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2025-10-19 18:42:34.750 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-10-19 18:42:34.752 +03:00 [INF] Executed action CitiesApi.Controllers.CitiesController.GetCities (CitiesApi) in 105.3115ms
2025-10-19 18:42:34.754 +03:00 [INF] Executed endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 18:42:34.755 +03:00 [DBG] 'AppDbContext' disposed.
2025-10-19 18:42:34.756 +03:00 [DBG] Disposing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 18:42:34.759 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-10-19 18:42:34.761 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/api/cities - 406 0 null 139.0182ms
2025-10-19 18:42:35.788 +03:00 [DBG] Connection id "0HNGF4OB7DFDR" received FIN.
2025-10-19 18:42:35.789 +03:00 [DBG] Connection id "0HNGF4OB7DFDR" is closed. The last processed stream ID was 1.
2025-10-19 18:42:35.790 +03:00 [DBG] The connection queue processing loop for 0HNGF4OB7DFDR completed.
2025-10-19 18:42:35.792 +03:00 [DBG] Connection id "0HNGF4OB7DFDR" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 18:42:35.806 +03:00 [DBG] Connection id "0HNGF4OB7DFDR" stopped.
2025-10-19 18:42:41.810 +03:00 [DBG] Connection id "0HNGF4OB7DFDS" accepted.
2025-10-19 18:42:41.815 +03:00 [DBG] Connection id "0HNGF4OB7DFDS" started.
2025-10-19 18:42:41.823 +03:00 [DBG] Connection 0HNGF4OB7DFDS established using the following protocol: "Tls13"
2025-10-19 18:42:41.828 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/api/cities - null null
2025-10-19 18:42:41.832 +03:00 [DBG] The request path  does not match the path filter
2025-10-19 18:42:41.834 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-10-19 18:42:41.836 +03:00 [DBG] Endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-10-19 18:42:41.838 +03:00 [DBG] Request matched endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 18:42:41.840 +03:00 [INF] Executing endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 18:42:41.841 +03:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CitiesApi.Models.CityDtoWithoutPointsOfInterest]]] GetCities() on controller CitiesApi.Controllers.CitiesController (CitiesApi).
2025-10-19 18:42:41.845 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-19 18:42:41.852 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-19 18:42:41.854 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-10-19 18:42:41.857 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-19 18:42:41.865 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-19 18:42:41.866 +03:00 [DBG] Executing controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-19 18:42:41.872 +03:00 [DBG] Executed controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-19 18:42:41.957 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-10-19 18:42:41.967 +03:00 [DBG] Creating DbConnection.
2025-10-19 18:42:41.968 +03:00 [DBG] Created DbConnection. (0ms).
2025-10-19 18:42:41.969 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 18:42:41.970 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 18:42:41.971 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-19 18:42:41.973 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-19 18:42:41.975 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-10-19 18:42:41.976 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CityId], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2025-10-19 18:42:41.982 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CityId], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2025-10-19 18:42:41.984 +03:00 [DBG] Context 'AppDbContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-19 18:42:41.985 +03:00 [DBG] Context 'AppDbContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-19 18:42:41.988 +03:00 [DBG] Context 'AppDbContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-19 18:42:41.990 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 18:42:41.991 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 7ms reading results.
2025-10-19 18:42:41.993 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 18:42:41.994 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (1ms).
2025-10-19 18:42:41.996 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-10-19 18:42:41.998 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/json"]'.
2025-10-19 18:42:41.999 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'text/json' to write the response.
2025-10-19 18:42:42.001 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CitiesApi.Models.CityDtoWithoutPointsOfInterest, CitiesApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-19 18:42:42.167 +03:00 [INF] Executed action CitiesApi.Controllers.CitiesController.GetCities (CitiesApi) in 300.8163ms
2025-10-19 18:42:42.170 +03:00 [INF] Executed endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 18:42:42.172 +03:00 [DBG] 'AppDbContext' disposed.
2025-10-19 18:42:42.173 +03:00 [DBG] Disposing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 18:42:42.177 +03:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-10-19 18:42:42.179 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/api/cities - 200 247 text/json; charset=utf-8 352.2356ms
2025-10-19 18:42:45.792 +03:00 [DBG] Connection id "0HNGF4OB7DFDS" received FIN.
2025-10-19 18:42:45.795 +03:00 [DBG] Connection id "0HNGF4OB7DFDS" is closed. The last processed stream ID was 1.
2025-10-19 18:42:45.795 +03:00 [DBG] The connection queue processing loop for 0HNGF4OB7DFDS completed.
2025-10-19 18:42:45.798 +03:00 [DBG] Connection id "0HNGF4OB7DFDS" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 18:42:45.807 +03:00 [DBG] Connection id "0HNGF4OB7DFDS" stopped.
2025-10-19 18:43:44.963 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-10-19 18:43:45.175 +03:00 [DBG] Hosting starting
2025-10-19 18:43:45.195 +03:00 [DBG] Middleware loaded
2025-10-19 18:43:45.199 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16503 B).
2025-10-19 18:43:45.201 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-10-19 18:43:45.365 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-10-19 18:43:45.599 +03:00 [DBG] Connection id "0HNGF4P4U63R5" received FIN.
2025-10-19 18:43:45.599 +03:00 [DBG] Connection id "0HNGF4P4U63R6" received FIN.
2025-10-19 18:43:45.608 +03:00 [INF] Now listening on: https://localhost:7025
2025-10-19 18:43:45.610 +03:00 [DBG] Connection id "0HNGF4P4U63R6" accepted.
2025-10-19 18:43:45.610 +03:00 [DBG] Connection id "0HNGF4P4U63R5" accepted.
2025-10-19 18:43:45.610 +03:00 [INF] Now listening on: http://localhost:5105
2025-10-19 18:43:45.612 +03:00 [DBG] Connection id "0HNGF4P4U63R6" started.
2025-10-19 18:43:45.612 +03:00 [DBG] Connection id "0HNGF4P4U63R5" started.
2025-10-19 18:43:45.613 +03:00 [DBG] Loaded hosting startup assembly CitiesApi
2025-10-19 18:43:45.618 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-10-19 18:43:45.619 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-10-19 18:43:45.628 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-10-19 18:43:45.652 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-19 18:43:45.652 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-19 18:43:45.723 +03:00 [DBG] Connection id "0HNGF4P4U63R5" stopped.
2025-10-19 18:43:45.723 +03:00 [DBG] Connection id "0HNGF4P4U63R6" stopped.
2025-10-19 18:43:45.730 +03:00 [DBG] Connection id "0HNGF4P4U63R6" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 18:43:45.730 +03:00 [DBG] Connection id "0HNGF4P4U63R5" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 18:43:45.784 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-19 18:43:45.786 +03:00 [INF] Hosting environment: Development
2025-10-19 18:43:45.790 +03:00 [INF] Content root path: D:\Projects\CitiesApi\CitiesApi
2025-10-19 18:43:45.792 +03:00 [DBG] Hosting started
2025-10-19 18:43:46.193 +03:00 [DBG] Connection id "0HNGF4P4U63R7" accepted.
2025-10-19 18:43:46.194 +03:00 [DBG] Connection id "0HNGF4P4U63R7" started.
2025-10-19 18:43:46.270 +03:00 [DBG] Connection 0HNGF4P4U63R7 established using the following protocol: "Tls13"
2025-10-19 18:43:46.400 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/swagger/index.html - null null
2025-10-19 18:43:46.673 +03:00 [WRN] Unable to contact VS to retrieve Browser Link script tag.
2025-10-19 18:43:46.678 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-10-19 18:43:46.783 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-10-19 18:43:46.807 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-10-19 18:43:46.819 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/swagger/index.html - 200 null text/html;charset=utf-8 433.4829ms
2025-10-19 18:43:46.879 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/_framework/aspnetcore-browser-refresh.js - null null
2025-10-19 18:43:46.895 +03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-10-19 18:43:46.906 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/_framework/aspnetcore-browser-refresh.js - 200 16503 application/javascript; charset=utf-8 25.6392ms
2025-10-19 18:43:47.064 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/swagger/v1/swagger.json - null null
2025-10-19 18:43:47.190 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 125.3343ms
2025-10-19 18:43:53.044 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/api/cities - null null
2025-10-19 18:43:53.053 +03:00 [DBG] The request path  does not match the path filter
2025-10-19 18:43:53.123 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-10-19 18:43:53.136 +03:00 [DBG] Endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-10-19 18:43:53.139 +03:00 [DBG] Request matched endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 18:43:53.148 +03:00 [INF] Executing endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 18:43:53.194 +03:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CitiesApi.Models.CityDtoWithoutPointsOfInterest]]] GetCities() on controller CitiesApi.Controllers.CitiesController (CitiesApi).
2025-10-19 18:43:53.198 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-19 18:43:53.200 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-19 18:43:53.202 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-10-19 18:43:53.204 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-19 18:43:53.207 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-19 18:43:53.220 +03:00 [DBG] Executing controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-19 18:43:53.492 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-10-19 18:43:53.541 +03:00 [DBG] Executed controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-19 18:43:54.833 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-10-19 18:43:54.941 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2025-10-19 18:43:55.302 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.CityId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(500), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.CityId, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CitiesApi.Data.AppDbContext, 
    False, 
    False, 
    True
)'
2025-10-19 18:43:55.361 +03:00 [DBG] Creating DbConnection.
2025-10-19 18:43:55.405 +03:00 [DBG] Created DbConnection. (41ms).
2025-10-19 18:43:55.411 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 18:43:55.973 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 18:43:55.981 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-19 18:43:55.996 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (10ms).
2025-10-19 18:43:56.002 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (21ms).
2025-10-19 18:43:56.024 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CityId], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2025-10-19 18:43:56.126 +03:00 [INF] Executed DbCommand (109ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CityId], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2025-10-19 18:43:56.179 +03:00 [DBG] Context 'AppDbContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-19 18:43:56.205 +03:00 [DBG] Context 'AppDbContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-19 18:43:56.209 +03:00 [DBG] Context 'AppDbContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-19 18:43:56.218 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 18:43:56.236 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 92ms reading results.
2025-10-19 18:43:56.250 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 18:43:56.263 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (14ms).
2025-10-19 18:43:56.275 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-10-19 18:43:56.281 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2025-10-19 18:43:56.285 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-10-19 18:43:56.287 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CitiesApi.Models.CityDtoWithoutPointsOfInterest, CitiesApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-19 18:43:56.456 +03:00 [INF] Executed action CitiesApi.Controllers.CitiesController.GetCities (CitiesApi) in 3231.9867ms
2025-10-19 18:43:56.463 +03:00 [INF] Executed endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 18:43:56.479 +03:00 [DBG] 'AppDbContext' disposed.
2025-10-19 18:43:56.497 +03:00 [DBG] Disposing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 18:43:56.503 +03:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-10-19 18:43:56.507 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/api/cities - 200 247 application/json; charset=utf-8 3462.5771ms
2025-10-19 18:53:30.692 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-10-19 18:53:30.801 +03:00 [DBG] Hosting starting
2025-10-19 18:53:30.816 +03:00 [DBG] Middleware loaded
2025-10-19 18:53:30.820 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16503 B).
2025-10-19 18:53:30.822 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-10-19 18:53:30.927 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-10-19 18:53:31.018 +03:00 [INF] Now listening on: https://localhost:7025
2025-10-19 18:53:31.019 +03:00 [INF] Now listening on: http://localhost:5105
2025-10-19 18:53:31.020 +03:00 [DBG] Loaded hosting startup assembly CitiesApi
2025-10-19 18:53:31.021 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-10-19 18:53:31.022 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-10-19 18:53:31.023 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-10-19 18:53:31.081 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-19 18:53:31.082 +03:00 [INF] Hosting environment: Development
2025-10-19 18:53:31.084 +03:00 [INF] Content root path: D:\Projects\CitiesApi\CitiesApi
2025-10-19 18:53:31.085 +03:00 [DBG] Hosting started
2025-10-19 18:53:31.475 +03:00 [DBG] Connection id "0HNGF4UJHHJ3V" accepted.
2025-10-19 18:53:31.478 +03:00 [DBG] Connection id "0HNGF4UJHHJ3V" started.
2025-10-19 18:53:31.478 +03:00 [DBG] Connection id "0HNGF4UJHHJ3V" received FIN.
2025-10-19 18:53:31.507 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-19 18:53:31.562 +03:00 [DBG] Connection id "0HNGF4UJHHJ3V" stopped.
2025-10-19 18:53:31.566 +03:00 [DBG] Connection id "0HNGF4UJHHJ3V" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 18:53:32.677 +03:00 [DBG] Connection id "0HNGF4UJHHJ40" accepted.
2025-10-19 18:53:32.679 +03:00 [DBG] Connection id "0HNGF4UJHHJ40" started.
2025-10-19 18:53:32.737 +03:00 [DBG] Connection 0HNGF4UJHHJ40 established using the following protocol: "Tls13"
2025-10-19 18:53:32.792 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/swagger/index.html - null null
2025-10-19 18:53:32.957 +03:00 [WRN] Unable to contact VS to retrieve Browser Link script tag.
2025-10-19 18:53:32.960 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-10-19 18:53:33.069 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-10-19 18:53:33.099 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-10-19 18:53:33.104 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/swagger/index.html - 200 null text/html;charset=utf-8 321.7875ms
2025-10-19 18:53:33.254 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/_framework/aspnetcore-browser-refresh.js - null null
2025-10-19 18:53:33.273 +03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-10-19 18:53:33.277 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/_framework/aspnetcore-browser-refresh.js - 200 16503 application/javascript; charset=utf-8 22.5083ms
2025-10-19 18:53:33.481 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/swagger/v1/swagger.json - null null
2025-10-19 18:53:33.575 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 94.5267ms
2025-10-19 18:53:35.715 +03:00 [DBG] Connection id "0HNGF4UJHHJ41" accepted.
2025-10-19 18:53:35.717 +03:00 [DBG] Connection id "0HNGF4UJHHJ41" received FIN.
2025-10-19 18:53:35.730 +03:00 [DBG] Connection id "0HNGF4UJHHJ41" started.
2025-10-19 18:53:35.732 +03:00 [DBG] Connection id "0HNGF4UJHHJ42" accepted.
2025-10-19 18:53:35.766 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-19 18:53:35.771 +03:00 [DBG] Connection id "0HNGF4UJHHJ42" started.
2025-10-19 18:53:35.840 +03:00 [DBG] Connection id "0HNGF4UJHHJ41" stopped.
2025-10-19 18:53:35.871 +03:00 [DBG] Connection id "0HNGF4UJHHJ41" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 18:53:35.874 +03:00 [DBG] Connection 0HNGF4UJHHJ42 established using the following protocol: "Tls13"
2025-10-19 18:53:35.889 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7025/api/cities - null null
2025-10-19 18:53:35.906 +03:00 [DBG] The request path  does not match the path filter
2025-10-19 18:53:35.958 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-10-19 18:53:35.968 +03:00 [DBG] Endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-10-19 18:53:36.000 +03:00 [DBG] Request matched endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 18:53:36.009 +03:00 [INF] Executing endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 18:53:36.049 +03:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CitiesApi.Models.CityDtoWithoutPointsOfInterest]]] GetCities() on controller CitiesApi.Controllers.CitiesController (CitiesApi).
2025-10-19 18:53:36.052 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-19 18:53:36.056 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-19 18:53:36.057 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-10-19 18:53:36.060 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-19 18:53:36.062 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-19 18:53:36.066 +03:00 [DBG] Executing controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-19 18:53:36.226 +03:00 [DBG] Connection id "0HNGF4UJHHJ40" received FIN.
2025-10-19 18:53:36.299 +03:00 [DBG] The connection queue processing loop for 0HNGF4UJHHJ40 completed.
2025-10-19 18:53:36.303 +03:00 [DBG] Connection id "0HNGF4UJHHJ40" is closed. The last processed stream ID was 5.
2025-10-19 18:53:36.320 +03:00 [DBG] Connection id "0HNGF4UJHHJ40" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 18:53:36.337 +03:00 [DBG] Connection id "0HNGF4UJHHJ40" stopped.
2025-10-19 18:53:36.425 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-10-19 18:53:36.469 +03:00 [INF] Executed action CitiesApi.Controllers.CitiesController.GetCities (CitiesApi) in 401.5873ms
2025-10-19 18:53:36.472 +03:00 [INF] Executed endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 18:53:36.476 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.MissingMethodException: Method not found: 'Void AutoMapper.MapperConfiguration..ctor(AutoMapper.MapperConfigurationExpression)'.
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionExtensions.<>c.<AddAutoMapperClasses>b__12_2(IServiceProvider sp)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionExtensions.<>c.<AddAutoMapperClasses>b__12_3(IServiceProvider sp)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at lambda_method9(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-10-19 18:53:36.522 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-10-19 18:53:36.529 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/xml"]' and explicitly specified content types '["application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2025-10-19 18:53:36.553 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter' and content type 'application/problem+xml' to write the response.
2025-10-19 18:53:36.635 +03:00 [ERR] An exception was thrown attempting to display the error page.
System.InvalidCastException: Xml type 'List of xdt:untypedAtomic' does not support a conversion from Clr type 'JsonElement' to Clr type 'String'.
   at System.Xml.Schema.XmlListConverter.ChangeListType(Object value, Type destinationType, IXmlNamespaceResolver nsResolver)
   at System.Xml.Schema.XmlUntypedConverter.ToString(Object value, IXmlNamespaceResolver nsResolver)
   at System.Xml.XmlWriter.WriteValue(Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.Xml.ProblemDetailsWrapper.WriteXml(XmlWriter writer)
   at System.Runtime.Serialization.XmlObjectSerializerWriteContext.WriteIXmlSerializable(XmlWriterDelegator xmlWriter, Object obj, XmlSerializableWriter xmlSerializableWriter)
   at System.Runtime.Serialization.DataContractSerializer.InternalWriteObjectContent(XmlWriterDelegator writer, Object graph, DataContractResolver dataContractResolver)
   at System.Runtime.Serialization.DataContractSerializer.InternalWriteObject(XmlWriterDelegator writer, Object graph, DataContractResolver dataContractResolver)
   at System.Runtime.Serialization.XmlObjectSerializer.WriteObjectHandleExceptions(XmlWriterDelegator writer, Object graph, DataContractResolver dataContractResolver)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Http.ProblemDetailsService.TryWriteAsync(ProblemDetailsContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.DisplayExceptionContent(ErrorContext errorContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-10-19 18:53:36.742 +03:00 [ERR] Connection id "0HNGF4UJHHJ42", Request id "0HNGF4UJHHJ42:00000001": An unhandled exception was thrown by the application.
System.MissingMethodException: Method not found: 'Void AutoMapper.MapperConfiguration..ctor(AutoMapper.MapperConfigurationExpression)'.
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionExtensions.<>c.<AddAutoMapperClasses>b__12_2(IServiceProvider sp)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionExtensions.<>c.<AddAutoMapperClasses>b__12_3(IServiceProvider sp)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at lambda_method9(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.WebTools.BrowserLink.Net.BrowserLinkMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-10-19 18:53:36.863 +03:00 [DBG] Connection id "0HNGF4UJHHJ42" completed keep alive response.
2025-10-19 18:53:36.866 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7025/api/cities - 500 0 null 977.5214ms
2025-10-19 18:53:40.959 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7025/api/cities - null null
2025-10-19 18:53:40.964 +03:00 [DBG] The request path  does not match the path filter
2025-10-19 18:53:40.966 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-10-19 18:53:40.969 +03:00 [DBG] Endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-10-19 18:53:40.971 +03:00 [DBG] Request matched endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 18:53:40.972 +03:00 [INF] Executing endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 18:53:40.974 +03:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CitiesApi.Models.CityDtoWithoutPointsOfInterest]]] GetCities() on controller CitiesApi.Controllers.CitiesController (CitiesApi).
2025-10-19 18:53:40.976 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-19 18:53:40.978 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-19 18:53:40.980 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-10-19 18:53:40.981 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-19 18:53:40.984 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-19 18:53:40.986 +03:00 [DBG] Executing controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-19 18:53:41.002 +03:00 [INF] Executed action CitiesApi.Controllers.CitiesController.GetCities (CitiesApi) in 15.8119ms
2025-10-19 18:53:41.009 +03:00 [INF] Executed endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 18:53:41.018 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.MissingMethodException: Method not found: 'Void AutoMapper.MapperConfiguration..ctor(AutoMapper.MapperConfigurationExpression)'.
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionExtensions.<>c.<AddAutoMapperClasses>b__12_2(IServiceProvider sp)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionExtensions.<>c.<AddAutoMapperClasses>b__12_3(IServiceProvider sp)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at lambda_method9(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-10-19 18:53:41.029 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-10-19 18:53:41.033 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/xml"]' and explicitly specified content types '["application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2025-10-19 18:53:41.035 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter' and content type 'application/problem+xml' to write the response.
2025-10-19 18:53:41.037 +03:00 [ERR] An exception was thrown attempting to display the error page.
System.InvalidCastException: Xml type 'List of xdt:untypedAtomic' does not support a conversion from Clr type 'JsonElement' to Clr type 'String'.
   at System.Xml.Schema.XmlListConverter.ChangeListType(Object value, Type destinationType, IXmlNamespaceResolver nsResolver)
   at System.Xml.Schema.XmlUntypedConverter.ToString(Object value, IXmlNamespaceResolver nsResolver)
   at System.Xml.XmlWriter.WriteValue(Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.Xml.ProblemDetailsWrapper.WriteXml(XmlWriter writer)
   at System.Runtime.Serialization.XmlObjectSerializerWriteContext.WriteIXmlSerializable(XmlWriterDelegator xmlWriter, Object obj, XmlSerializableWriter xmlSerializableWriter)
   at System.Runtime.Serialization.DataContractSerializer.InternalWriteObjectContent(XmlWriterDelegator writer, Object graph, DataContractResolver dataContractResolver)
   at System.Runtime.Serialization.DataContractSerializer.InternalWriteObject(XmlWriterDelegator writer, Object graph, DataContractResolver dataContractResolver)
   at System.Runtime.Serialization.XmlObjectSerializer.WriteObjectHandleExceptions(XmlWriterDelegator writer, Object graph, DataContractResolver dataContractResolver)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Http.ProblemDetailsService.TryWriteAsync(ProblemDetailsContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.DisplayExceptionContent(ErrorContext errorContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-10-19 18:53:41.042 +03:00 [ERR] Connection id "0HNGF4UJHHJ42", Request id "0HNGF4UJHHJ42:00000002": An unhandled exception was thrown by the application.
System.MissingMethodException: Method not found: 'Void AutoMapper.MapperConfiguration..ctor(AutoMapper.MapperConfigurationExpression)'.
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionExtensions.<>c.<AddAutoMapperClasses>b__12_2(IServiceProvider sp)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionExtensions.<>c.<AddAutoMapperClasses>b__12_3(IServiceProvider sp)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at lambda_method9(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.WebTools.BrowserLink.Net.BrowserLinkMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-10-19 18:53:41.051 +03:00 [DBG] Connection id "0HNGF4UJHHJ42" completed keep alive response.
2025-10-19 18:53:41.052 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7025/api/cities - 500 0 null 92.897ms
2025-10-19 18:53:57.819 +03:00 [DBG] Connection id "0HNGF4UJHHJ43" accepted.
2025-10-19 18:53:57.821 +03:00 [DBG] Connection id "0HNGF4UJHHJ43" started.
2025-10-19 18:53:57.831 +03:00 [DBG] Connection 0HNGF4UJHHJ43 established using the following protocol: "Tls13"
2025-10-19 18:53:57.848 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/api/cities - null null
2025-10-19 18:53:57.878 +03:00 [DBG] The request path  does not match the path filter
2025-10-19 18:53:57.880 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-10-19 18:53:57.881 +03:00 [DBG] Endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-10-19 18:53:57.883 +03:00 [DBG] Request matched endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 18:53:57.884 +03:00 [INF] Executing endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 18:53:57.886 +03:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CitiesApi.Models.CityDtoWithoutPointsOfInterest]]] GetCities() on controller CitiesApi.Controllers.CitiesController (CitiesApi).
2025-10-19 18:53:57.888 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-19 18:53:57.889 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-19 18:53:57.890 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-10-19 18:53:57.892 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-19 18:53:57.896 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-19 18:53:57.899 +03:00 [DBG] Executing controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-19 18:53:57.905 +03:00 [INF] Executed action CitiesApi.Controllers.CitiesController.GetCities (CitiesApi) in 6.8324ms
2025-10-19 18:53:57.907 +03:00 [INF] Executed endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 18:53:57.911 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.MissingMethodException: Method not found: 'Void AutoMapper.MapperConfiguration..ctor(AutoMapper.MapperConfigurationExpression)'.
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionExtensions.<>c.<AddAutoMapperClasses>b__12_2(IServiceProvider sp)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionExtensions.<>c.<AddAutoMapperClasses>b__12_3(IServiceProvider sp)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at lambda_method9(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-10-19 18:53:57.918 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-10-19 18:53:57.923 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2025-10-19 18:53:57.926 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-10-19 18:53:57.928 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/api/cities - 500 0 null 80.5979ms
2025-10-19 18:54:05.901 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/api/cities - null null
2025-10-19 18:54:05.909 +03:00 [DBG] The request path  does not match the path filter
2025-10-19 18:54:05.910 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-10-19 18:54:05.911 +03:00 [DBG] Endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-10-19 18:54:05.914 +03:00 [DBG] Request matched endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 18:54:05.915 +03:00 [INF] Executing endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 18:54:05.917 +03:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CitiesApi.Models.CityDtoWithoutPointsOfInterest]]] GetCities() on controller CitiesApi.Controllers.CitiesController (CitiesApi).
2025-10-19 18:54:05.918 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-19 18:54:05.922 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-19 18:54:05.923 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-10-19 18:54:05.925 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-19 18:54:05.926 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-19 18:54:05.929 +03:00 [DBG] Executing controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-19 18:54:05.941 +03:00 [INF] Executed action CitiesApi.Controllers.CitiesController.GetCities (CitiesApi) in 12.313ms
2025-10-19 18:54:05.944 +03:00 [INF] Executed endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 18:54:05.946 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.MissingMethodException: Method not found: 'Void AutoMapper.MapperConfiguration..ctor(AutoMapper.MapperConfigurationExpression)'.
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionExtensions.<>c.<AddAutoMapperClasses>b__12_2(IServiceProvider sp)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionExtensions.<>c.<AddAutoMapperClasses>b__12_3(IServiceProvider sp)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at lambda_method9(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-10-19 18:54:05.966 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-10-19 18:54:05.980 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2025-10-19 18:54:05.984 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-10-19 18:54:06.145 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/api/cities - 500 326 application/problem+json; charset=utf-8 244.958ms
2025-10-19 18:54:06.242 +03:00 [DBG] Connection id "0HNGF4UJHHJ43" received FIN.
2025-10-19 18:54:06.245 +03:00 [DBG] Connection id "0HNGF4UJHHJ43" is closed. The last processed stream ID was 3.
2025-10-19 18:54:06.246 +03:00 [DBG] The connection queue processing loop for 0HNGF4UJHHJ43 completed.
2025-10-19 18:54:06.249 +03:00 [DBG] Connection id "0HNGF4UJHHJ43" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 18:54:06.256 +03:00 [DBG] Connection id "0HNGF4UJHHJ43" stopped.
2025-10-19 18:57:27.439 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-10-19 18:57:27.659 +03:00 [DBG] Hosting starting
2025-10-19 18:57:27.681 +03:00 [DBG] Middleware loaded
2025-10-19 18:57:27.685 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16503 B).
2025-10-19 18:57:27.688 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-10-19 18:57:27.849 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-10-19 18:57:28.041 +03:00 [INF] Now listening on: https://localhost:7025
2025-10-19 18:57:28.042 +03:00 [INF] Now listening on: http://localhost:5105
2025-10-19 18:57:28.043 +03:00 [DBG] Loaded hosting startup assembly CitiesApi
2025-10-19 18:57:28.045 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-10-19 18:57:28.046 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-10-19 18:57:28.047 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-10-19 18:57:28.156 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-19 18:57:28.167 +03:00 [INF] Hosting environment: Development
2025-10-19 18:57:28.169 +03:00 [INF] Content root path: D:\Projects\CitiesApi\CitiesApi
2025-10-19 18:57:28.174 +03:00 [DBG] Hosting started
2025-10-19 18:57:28.276 +03:00 [DBG] Connection id "0HNGF50Q3R40I" accepted.
2025-10-19 18:57:28.279 +03:00 [DBG] Connection id "0HNGF50Q3R40I" received FIN.
2025-10-19 18:57:28.280 +03:00 [DBG] Connection id "0HNGF50Q3R40J" received FIN.
2025-10-19 18:57:28.294 +03:00 [DBG] Connection id "0HNGF50Q3R40I" started.
2025-10-19 18:57:28.301 +03:00 [DBG] Connection id "0HNGF50Q3R40J" accepted.
2025-10-19 18:57:28.322 +03:00 [DBG] Connection id "0HNGF50Q3R40J" started.
2025-10-19 18:57:28.362 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-19 18:57:28.365 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-19 18:57:28.460 +03:00 [DBG] Connection id "0HNGF50Q3R40I" stopped.
2025-10-19 18:57:28.460 +03:00 [DBG] Connection id "0HNGF50Q3R40J" stopped.
2025-10-19 18:57:28.499 +03:00 [DBG] Connection id "0HNGF50Q3R40J" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 18:57:28.499 +03:00 [DBG] Connection id "0HNGF50Q3R40I" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 18:57:28.699 +03:00 [DBG] Connection id "0HNGF50Q3R40K" accepted.
2025-10-19 18:57:28.701 +03:00 [DBG] Connection id "0HNGF50Q3R40K" started.
2025-10-19 18:57:28.804 +03:00 [DBG] Connection 0HNGF50Q3R40K established using the following protocol: "Tls13"
2025-10-19 18:57:28.885 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/swagger/index.html - null null
2025-10-19 18:57:29.106 +03:00 [WRN] Unable to contact VS to retrieve Browser Link script tag.
2025-10-19 18:57:29.116 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-10-19 18:57:29.257 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-10-19 18:57:29.316 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-10-19 18:57:29.334 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/swagger/index.html - 200 null text/html;charset=utf-8 455.9886ms
2025-10-19 18:57:29.384 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/_framework/aspnetcore-browser-refresh.js - null null
2025-10-19 18:57:29.404 +03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-10-19 18:57:29.411 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/_framework/aspnetcore-browser-refresh.js - 200 16503 application/javascript; charset=utf-8 27.1175ms
2025-10-19 18:57:29.561 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/swagger/v1/swagger.json - null null
2025-10-19 18:57:29.670 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 109.1694ms
2025-10-19 18:57:38.122 +03:00 [DBG] Connection id "0HNGF50Q3R40L" received FIN.
2025-10-19 18:57:38.153 +03:00 [DBG] Connection id "0HNGF50Q3R40L" accepted.
2025-10-19 18:57:38.156 +03:00 [DBG] Connection id "0HNGF50Q3R40L" started.
2025-10-19 18:57:38.158 +03:00 [DBG] Connection id "0HNGF50Q3R40M" accepted.
2025-10-19 18:57:38.159 +03:00 [DBG] Connection id "0HNGF50Q3R40M" started.
2025-10-19 18:57:38.183 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-19 18:57:38.200 +03:00 [DBG] Connection id "0HNGF50Q3R40L" stopped.
2025-10-19 18:57:38.203 +03:00 [DBG] Connection id "0HNGF50Q3R40L" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 18:57:38.212 +03:00 [DBG] Connection 0HNGF50Q3R40M established using the following protocol: "Tls13"
2025-10-19 18:57:38.247 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7025/api/cities - null null
2025-10-19 18:57:38.286 +03:00 [DBG] The request path  does not match the path filter
2025-10-19 18:57:38.391 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-10-19 18:57:38.399 +03:00 [DBG] Endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-10-19 18:57:38.404 +03:00 [DBG] Request matched endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 18:57:38.419 +03:00 [INF] Executing endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 18:57:38.521 +03:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CitiesApi.Models.CityDtoWithoutPointsOfInterest]]] GetCities() on controller CitiesApi.Controllers.CitiesController (CitiesApi).
2025-10-19 18:57:38.526 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-19 18:57:38.528 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-19 18:57:38.531 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-10-19 18:57:38.535 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-19 18:57:38.539 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-19 18:57:38.544 +03:00 [DBG] Executing controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-19 18:57:39.061 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-10-19 18:57:39.146 +03:00 [INF] Executed action CitiesApi.Controllers.CitiesController.GetCities (CitiesApi) in 597.9928ms
2025-10-19 18:57:39.150 +03:00 [INF] Executed endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 18:57:39.158 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.MissingMethodException: Method not found: 'Void AutoMapper.MapperConfiguration..ctor(AutoMapper.MapperConfigurationExpression)'.
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionExtensions.<>c.<AddAutoMapperClasses>b__12_2(IServiceProvider sp)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionExtensions.<>c.<AddAutoMapperClasses>b__12_3(IServiceProvider sp)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at lambda_method9(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-10-19 18:57:39.242 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-10-19 18:57:39.250 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/xml"]' and explicitly specified content types '["application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2025-10-19 18:57:39.301 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter' and content type 'application/problem+xml' to write the response.
2025-10-19 18:57:39.366 +03:00 [ERR] An exception was thrown attempting to display the error page.
System.InvalidCastException: Xml type 'List of xdt:untypedAtomic' does not support a conversion from Clr type 'JsonElement' to Clr type 'String'.
   at System.Xml.Schema.XmlListConverter.ChangeListType(Object value, Type destinationType, IXmlNamespaceResolver nsResolver)
   at System.Xml.Schema.XmlUntypedConverter.ToString(Object value, IXmlNamespaceResolver nsResolver)
   at System.Xml.XmlWriter.WriteValue(Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.Xml.ProblemDetailsWrapper.WriteXml(XmlWriter writer)
   at System.Runtime.Serialization.XmlObjectSerializerWriteContext.WriteIXmlSerializable(XmlWriterDelegator xmlWriter, Object obj, XmlSerializableWriter xmlSerializableWriter)
   at System.Runtime.Serialization.DataContractSerializer.InternalWriteObjectContent(XmlWriterDelegator writer, Object graph, DataContractResolver dataContractResolver)
   at System.Runtime.Serialization.DataContractSerializer.InternalWriteObject(XmlWriterDelegator writer, Object graph, DataContractResolver dataContractResolver)
   at System.Runtime.Serialization.XmlObjectSerializer.WriteObjectHandleExceptions(XmlWriterDelegator writer, Object graph, DataContractResolver dataContractResolver)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Http.ProblemDetailsService.TryWriteAsync(ProblemDetailsContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.DisplayExceptionContent(ErrorContext errorContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-10-19 18:57:39.384 +03:00 [ERR] Connection id "0HNGF50Q3R40M", Request id "0HNGF50Q3R40M:00000001": An unhandled exception was thrown by the application.
System.MissingMethodException: Method not found: 'Void AutoMapper.MapperConfiguration..ctor(AutoMapper.MapperConfigurationExpression)'.
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionExtensions.<>c.<AddAutoMapperClasses>b__12_2(IServiceProvider sp)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionExtensions.<>c.<AddAutoMapperClasses>b__12_3(IServiceProvider sp)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at lambda_method9(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.WebTools.BrowserLink.Net.BrowserLinkMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2025-10-19 18:57:39.441 +03:00 [DBG] Connection id "0HNGF50Q3R40M" completed keep alive response.
2025-10-19 18:57:39.446 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7025/api/cities - 500 0 null 1203.1684ms
2025-10-19 18:57:43.503 +03:00 [DBG] Connection id "0HNGF50Q3R40K" received FIN.
2025-10-19 18:57:43.511 +03:00 [DBG] The connection queue processing loop for 0HNGF50Q3R40K completed.
2025-10-19 18:57:43.511 +03:00 [DBG] Connection id "0HNGF50Q3R40K" is closed. The last processed stream ID was 5.
2025-10-19 18:57:43.516 +03:00 [DBG] Connection id "0HNGF50Q3R40K" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 18:57:43.529 +03:00 [DBG] Connection id "0HNGF50Q3R40K" stopped.
2025-10-19 18:58:11.854 +03:00 [DBG] Connection id "0HNGF50Q3R40N" accepted.
2025-10-19 18:58:11.891 +03:00 [DBG] Connection id "0HNGF50Q3R40N" started.
2025-10-19 18:58:11.991 +03:00 [DBG] Connection 0HNGF50Q3R40N established using the following protocol: "Tls13"
2025-10-19 18:58:12.067 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/api/cities - null null
2025-10-19 18:58:12.106 +03:00 [DBG] The request path  does not match the path filter
2025-10-19 18:58:12.121 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-10-19 18:58:12.124 +03:00 [DBG] Endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-10-19 18:58:12.130 +03:00 [DBG] Request matched endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 18:58:12.145 +03:00 [INF] Executing endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 18:58:12.175 +03:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CitiesApi.Models.CityDtoWithoutPointsOfInterest]]] GetCities() on controller CitiesApi.Controllers.CitiesController (CitiesApi).
2025-10-19 18:58:12.180 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-19 18:58:12.182 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-19 18:58:12.186 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-10-19 18:58:12.190 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-19 18:58:12.193 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-19 18:58:12.196 +03:00 [DBG] Executing controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-19 18:58:12.309 +03:00 [INF] Executed action CitiesApi.Controllers.CitiesController.GetCities (CitiesApi) in 114.5517ms
2025-10-19 18:58:12.314 +03:00 [INF] Executed endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 18:58:12.324 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.MissingMethodException: Method not found: 'Void AutoMapper.MapperConfiguration..ctor(AutoMapper.MapperConfigurationExpression)'.
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionExtensions.<>c.<AddAutoMapperClasses>b__12_2(IServiceProvider sp)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionExtensions.<>c.<AddAutoMapperClasses>b__12_3(IServiceProvider sp)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at lambda_method9(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-10-19 18:58:12.379 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-10-19 18:58:12.383 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2025-10-19 18:58:12.390 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-10-19 18:58:12.866 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/api/cities - 500 326 application/problem+json; charset=utf-8 806.7141ms
2025-10-19 18:58:12.885 +03:00 [DBG] Connection id "0HNGF50Q3R40N" received FIN.
2025-10-19 18:58:12.908 +03:00 [DBG] Connection id "0HNGF50Q3R40N" is closed. The last processed stream ID was 1.
2025-10-19 18:58:12.909 +03:00 [DBG] The connection queue processing loop for 0HNGF50Q3R40N completed.
2025-10-19 18:58:12.913 +03:00 [DBG] Connection id "0HNGF50Q3R40N" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 18:58:12.933 +03:00 [DBG] Connection id "0HNGF50Q3R40N" stopped.
2025-10-19 19:01:34.761 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-10-19 19:01:34.860 +03:00 [DBG] Hosting starting
2025-10-19 19:01:34.871 +03:00 [DBG] Middleware loaded
2025-10-19 19:01:34.873 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16503 B).
2025-10-19 19:01:34.878 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-10-19 19:01:34.995 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-10-19 19:01:35.072 +03:00 [INF] Now listening on: https://localhost:7025
2025-10-19 19:01:35.073 +03:00 [INF] Now listening on: http://localhost:5105
2025-10-19 19:01:35.074 +03:00 [DBG] Loaded hosting startup assembly CitiesApi
2025-10-19 19:01:35.076 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-10-19 19:01:35.077 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-10-19 19:01:35.078 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-10-19 19:01:35.135 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-19 19:01:35.137 +03:00 [INF] Hosting environment: Development
2025-10-19 19:01:35.138 +03:00 [INF] Content root path: D:\Projects\CitiesApi\CitiesApi
2025-10-19 19:01:35.141 +03:00 [DBG] Hosting started
2025-10-19 19:01:35.336 +03:00 [DBG] Connection id "0HNGF533O0525" accepted.
2025-10-19 19:01:35.337 +03:00 [DBG] Connection id "0HNGF533O0526" accepted.
2025-10-19 19:01:35.340 +03:00 [DBG] Connection id "0HNGF533O0525" started.
2025-10-19 19:01:35.348 +03:00 [DBG] Connection id "0HNGF533O0526" started.
2025-10-19 19:01:35.352 +03:00 [DBG] Connection id "0HNGF533O0526" received FIN.
2025-10-19 19:01:35.352 +03:00 [DBG] Connection id "0HNGF533O0525" received FIN.
2025-10-19 19:01:35.379 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-19 19:01:35.379 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-19 19:01:35.425 +03:00 [DBG] Connection id "0HNGF533O0525" stopped.
2025-10-19 19:01:35.425 +03:00 [DBG] Connection id "0HNGF533O0526" stopped.
2025-10-19 19:01:35.431 +03:00 [DBG] Connection id "0HNGF533O0525" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 19:01:35.431 +03:00 [DBG] Connection id "0HNGF533O0526" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 19:01:35.652 +03:00 [DBG] Connection id "0HNGF533O0527" accepted.
2025-10-19 19:01:35.654 +03:00 [DBG] Connection id "0HNGF533O0527" started.
2025-10-19 19:01:35.726 +03:00 [DBG] Connection 0HNGF533O0527 established using the following protocol: "Tls13"
2025-10-19 19:01:35.790 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/swagger/index.html - null null
2025-10-19 19:01:35.925 +03:00 [WRN] Unable to contact VS to retrieve Browser Link script tag.
2025-10-19 19:01:35.929 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-10-19 19:01:35.974 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-10-19 19:01:35.989 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-10-19 19:01:36.004 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/swagger/index.html - 200 null text/html;charset=utf-8 215.2592ms
2025-10-19 19:01:36.055 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/_framework/aspnetcore-browser-refresh.js - null null
2025-10-19 19:01:36.065 +03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-10-19 19:01:36.068 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/_framework/aspnetcore-browser-refresh.js - 200 16503 application/javascript; charset=utf-8 12.4899ms
2025-10-19 19:01:36.170 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/swagger/v1/swagger.json - null null
2025-10-19 19:01:36.188 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 18.3289ms
2025-10-19 19:01:44.136 +03:00 [DBG] Connection id "0HNGF533O0527" received FIN.
2025-10-19 19:01:44.142 +03:00 [DBG] The connection queue processing loop for 0HNGF533O0527 completed.
2025-10-19 19:01:44.143 +03:00 [DBG] Connection id "0HNGF533O0527" is closed. The last processed stream ID was 5.
2025-10-19 19:01:44.149 +03:00 [DBG] Connection id "0HNGF533O0527" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 19:01:44.166 +03:00 [DBG] Connection id "0HNGF533O0527" stopped.
2025-10-19 19:01:45.231 +03:00 [DBG] Connection id "0HNGF533O0528" accepted.
2025-10-19 19:01:45.233 +03:00 [DBG] Connection id "0HNGF533O0528" started.
2025-10-19 19:01:45.240 +03:00 [DBG] Connection 0HNGF533O0528 established using the following protocol: "Tls13"
2025-10-19 19:01:45.245 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/api/cities - null null
2025-10-19 19:01:45.252 +03:00 [DBG] The request path  does not match the path filter
2025-10-19 19:01:45.281 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-10-19 19:01:45.286 +03:00 [DBG] Endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-10-19 19:01:45.289 +03:00 [DBG] Request matched endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 19:01:45.295 +03:00 [INF] Executing endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 19:01:45.330 +03:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CitiesApi.Models.CityDtoWithoutPointsOfInterest]]] GetCities() on controller CitiesApi.Controllers.CitiesController (CitiesApi).
2025-10-19 19:01:45.332 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-19 19:01:45.334 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-19 19:01:45.338 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-10-19 19:01:45.343 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-19 19:01:45.346 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-19 19:01:45.353 +03:00 [DBG] Executing controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-19 19:01:45.522 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-10-19 19:01:45.680 +03:00 [DBG] Executed controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-19 19:01:46.164 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-10-19 19:01:46.224 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2025-10-19 19:01:46.366 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.CityId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(500), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.CityId, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CitiesApi.Data.AppDbContext, 
    False, 
    False, 
    True
)'
2025-10-19 19:01:46.389 +03:00 [DBG] Creating DbConnection.
2025-10-19 19:01:46.411 +03:00 [DBG] Created DbConnection. (21ms).
2025-10-19 19:01:46.414 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 19:01:46.769 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 19:01:46.781 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-19 19:01:46.786 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-10-19 19:01:46.791 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2025-10-19 19:01:46.804 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CityId], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2025-10-19 19:01:47.044 +03:00 [INF] Executed DbCommand (244ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CityId], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2025-10-19 19:01:47.064 +03:00 [DBG] Context 'AppDbContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-19 19:01:47.075 +03:00 [DBG] Context 'AppDbContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-19 19:01:47.078 +03:00 [DBG] Context 'AppDbContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-19 19:01:47.082 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 19:01:47.088 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 38ms reading results.
2025-10-19 19:01:47.091 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 19:01:47.096 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (4ms).
2025-10-19 19:01:47.110 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-10-19 19:01:47.116 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2025-10-19 19:01:47.120 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-10-19 19:01:47.122 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CitiesApi.Models.CityDtoWithoutPointsOfInterest, CitiesApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-19 19:01:47.177 +03:00 [INF] Executed action CitiesApi.Controllers.CitiesController.GetCities (CitiesApi) in 1823.9066ms
2025-10-19 19:01:47.179 +03:00 [INF] Executed endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 19:01:47.184 +03:00 [DBG] 'AppDbContext' disposed.
2025-10-19 19:01:47.189 +03:00 [DBG] Disposing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 19:01:47.192 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-10-19 19:01:47.194 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/api/cities - 200 247 application/json; charset=utf-8 1949.3098ms
2025-10-19 19:02:12.037 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-10-19 19:02:12.107 +03:00 [DBG] Hosting starting
2025-10-19 19:02:12.115 +03:00 [DBG] Middleware loaded
2025-10-19 19:02:12.118 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16503 B).
2025-10-19 19:02:12.121 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-10-19 19:02:12.201 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-10-19 19:02:12.266 +03:00 [INF] Now listening on: https://localhost:7025
2025-10-19 19:02:12.268 +03:00 [INF] Now listening on: http://localhost:5105
2025-10-19 19:02:12.269 +03:00 [DBG] Loaded hosting startup assembly CitiesApi
2025-10-19 19:02:12.270 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-10-19 19:02:12.271 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-10-19 19:02:12.272 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-10-19 19:02:12.320 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-19 19:02:12.321 +03:00 [INF] Hosting environment: Development
2025-10-19 19:02:12.322 +03:00 [INF] Content root path: D:\Projects\CitiesApi\CitiesApi
2025-10-19 19:02:12.323 +03:00 [DBG] Hosting started
2025-10-19 19:02:12.737 +03:00 [DBG] Connection id "0HNGF53ESM574" received FIN.
2025-10-19 19:02:12.737 +03:00 [DBG] Connection id "0HNGF53ESM575" received FIN.
2025-10-19 19:02:12.743 +03:00 [DBG] Connection id "0HNGF53ESM574" accepted.
2025-10-19 19:02:12.744 +03:00 [DBG] Connection id "0HNGF53ESM575" accepted.
2025-10-19 19:02:12.745 +03:00 [DBG] Connection id "0HNGF53ESM574" started.
2025-10-19 19:02:12.746 +03:00 [DBG] Connection id "0HNGF53ESM575" started.
2025-10-19 19:02:12.759 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-19 19:02:12.759 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-19 19:02:12.791 +03:00 [DBG] Connection id "0HNGF53ESM575" stopped.
2025-10-19 19:02:12.791 +03:00 [DBG] Connection id "0HNGF53ESM574" stopped.
2025-10-19 19:02:12.794 +03:00 [DBG] Connection id "0HNGF53ESM575" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 19:02:12.794 +03:00 [DBG] Connection id "0HNGF53ESM574" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 19:02:13.353 +03:00 [DBG] Connection id "0HNGF53ESM576" accepted.
2025-10-19 19:02:13.355 +03:00 [DBG] Connection id "0HNGF53ESM576" started.
2025-10-19 19:02:13.412 +03:00 [DBG] Connection 0HNGF53ESM576 established using the following protocol: "Tls13"
2025-10-19 19:02:13.457 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/swagger/index.html - null null
2025-10-19 19:02:13.559 +03:00 [WRN] Unable to contact VS to retrieve Browser Link script tag.
2025-10-19 19:02:13.563 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-10-19 19:02:13.607 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-10-19 19:02:13.620 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-10-19 19:02:13.626 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/swagger/index.html - 200 null text/html;charset=utf-8 174.1686ms
2025-10-19 19:02:13.654 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/_framework/aspnetcore-browser-refresh.js - null null
2025-10-19 19:02:13.664 +03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-10-19 19:02:13.666 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/_framework/aspnetcore-browser-refresh.js - 200 16503 application/javascript; charset=utf-8 12.8362ms
2025-10-19 19:02:13.735 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/swagger/v1/swagger.json - null null
2025-10-19 19:02:13.755 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 20.7649ms
2025-10-19 19:02:19.188 +03:00 [DBG] Connection id "0HNGF53ESM576" received FIN.
2025-10-19 19:02:19.196 +03:00 [DBG] The connection queue processing loop for 0HNGF53ESM576 completed.
2025-10-19 19:02:19.199 +03:00 [DBG] Connection id "0HNGF53ESM576" is closed. The last processed stream ID was 5.
2025-10-19 19:02:19.202 +03:00 [DBG] Connection id "0HNGF53ESM576" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 19:02:19.219 +03:00 [DBG] Connection id "0HNGF53ESM576" stopped.
2025-10-19 19:02:19.320 +03:00 [DBG] Connection id "0HNGF53ESM577" accepted.
2025-10-19 19:02:19.321 +03:00 [DBG] Connection id "0HNGF53ESM577" received FIN.
2025-10-19 19:02:19.323 +03:00 [DBG] Connection id "0HNGF53ESM577" started.
2025-10-19 19:02:19.323 +03:00 [DBG] Connection id "0HNGF53ESM578" accepted.
2025-10-19 19:02:19.329 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-19 19:02:19.331 +03:00 [DBG] Connection id "0HNGF53ESM578" started.
2025-10-19 19:02:19.336 +03:00 [DBG] Connection id "0HNGF53ESM577" stopped.
2025-10-19 19:02:19.342 +03:00 [DBG] Connection id "0HNGF53ESM577" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 19:02:19.355 +03:00 [DBG] Connection 0HNGF53ESM578 established using the following protocol: "Tls13"
2025-10-19 19:02:19.363 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7025/api/cities - null null
2025-10-19 19:02:19.375 +03:00 [DBG] The request path  does not match the path filter
2025-10-19 19:02:19.424 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-10-19 19:02:19.440 +03:00 [DBG] Endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2025-10-19 19:02:19.458 +03:00 [DBG] Request matched endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 19:02:19.467 +03:00 [INF] Executing endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 19:02:19.510 +03:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CitiesApi.Models.CityDtoWithoutPointsOfInterest]]] GetCities() on controller CitiesApi.Controllers.CitiesController (CitiesApi).
2025-10-19 19:02:19.515 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-19 19:02:19.518 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-19 19:02:19.521 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-10-19 19:02:19.524 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-19 19:02:19.527 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-19 19:02:19.531 +03:00 [DBG] Executing controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-19 19:02:19.771 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-10-19 19:02:19.984 +03:00 [DBG] Executed controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-19 19:02:21.133 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-10-19 19:02:21.248 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2025-10-19 19:02:21.558 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.CityId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(500), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.CityId, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CitiesApi.Data.AppDbContext, 
    False, 
    False, 
    True
)'
2025-10-19 19:02:21.605 +03:00 [DBG] Creating DbConnection.
2025-10-19 19:02:21.648 +03:00 [DBG] Created DbConnection. (41ms).
2025-10-19 19:02:21.656 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 19:02:22.220 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 19:02:22.230 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-19 19:02:22.239 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (10ms).
2025-10-19 19:02:22.246 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (17ms).
2025-10-19 19:02:22.259 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CityId], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2025-10-19 19:02:22.362 +03:00 [INF] Executed DbCommand (103ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CityId], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2025-10-19 19:02:22.419 +03:00 [DBG] Context 'AppDbContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-19 19:02:22.447 +03:00 [DBG] Context 'AppDbContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-19 19:02:22.449 +03:00 [DBG] Context 'AppDbContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-19 19:02:22.457 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 19:02:22.466 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 91ms reading results.
2025-10-19 19:02:22.473 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 19:02:22.484 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (9ms).
2025-10-19 19:02:22.512 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-10-19 19:02:22.526 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/xml"]'.
2025-10-19 19:02:22.532 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter' and content type 'application/xml' to write the response.
2025-10-19 19:02:22.535 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CitiesApi.Models.CityDtoWithoutPointsOfInterest, CitiesApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-19 19:02:22.577 +03:00 [INF] Executed action CitiesApi.Controllers.CitiesController.GetCities (CitiesApi) in 3043.8344ms
2025-10-19 19:02:22.580 +03:00 [INF] Executed endpoint 'CitiesApi.Controllers.CitiesController.GetCities (CitiesApi)'
2025-10-19 19:02:22.583 +03:00 [DBG] Connection id "0HNGF53ESM578" completed keep alive response.
2025-10-19 19:02:22.586 +03:00 [DBG] 'AppDbContext' disposed.
2025-10-19 19:02:22.593 +03:00 [DBG] Disposing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 19:02:22.595 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-10-19 19:02:22.598 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7025/api/cities - 200 703 application/xml; charset=utf-8 3234.206ms
2025-10-19 19:32:03.618 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-10-19 19:32:03.796 +03:00 [DBG] Hosting starting
2025-10-19 19:32:03.816 +03:00 [DBG] Middleware loaded
2025-10-19 19:32:03.819 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16503 B).
2025-10-19 19:32:03.825 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-10-19 19:32:03.950 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-10-19 19:32:04.110 +03:00 [INF] Now listening on: https://localhost:7025
2025-10-19 19:32:04.112 +03:00 [INF] Now listening on: http://localhost:5105
2025-10-19 19:32:04.113 +03:00 [DBG] Loaded hosting startup assembly CitiesApi
2025-10-19 19:32:04.115 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-10-19 19:32:04.118 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-10-19 19:32:04.119 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-10-19 19:32:04.387 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-19 19:32:04.388 +03:00 [INF] Hosting environment: Development
2025-10-19 19:32:04.389 +03:00 [INF] Content root path: D:\Projects\CitiesApi\CitiesApi
2025-10-19 19:32:04.390 +03:00 [DBG] Hosting started
2025-10-19 19:32:04.522 +03:00 [DBG] Connection id "0HNGF5K4SF9NS" accepted.
2025-10-19 19:32:04.522 +03:00 [DBG] Connection id "0HNGF5K4SF9NR" accepted.
2025-10-19 19:32:04.524 +03:00 [DBG] Connection id "0HNGF5K4SF9NS" started.
2025-10-19 19:32:04.526 +03:00 [DBG] Connection id "0HNGF5K4SF9NR" started.
2025-10-19 19:32:04.544 +03:00 [DBG] Connection id "0HNGF5K4SF9NR" received FIN.
2025-10-19 19:32:04.544 +03:00 [DBG] Connection id "0HNGF5K4SF9NS" received FIN.
2025-10-19 19:32:04.567 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-19 19:32:04.567 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-19 19:32:04.620 +03:00 [DBG] Connection id "0HNGF5K4SF9NR" stopped.
2025-10-19 19:32:04.621 +03:00 [DBG] Connection id "0HNGF5K4SF9NS" stopped.
2025-10-19 19:32:04.626 +03:00 [DBG] Connection id "0HNGF5K4SF9NS" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 19:32:04.626 +03:00 [DBG] Connection id "0HNGF5K4SF9NR" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 19:32:06.338 +03:00 [DBG] Connection id "0HNGF5K4SF9NT" accepted.
2025-10-19 19:32:06.340 +03:00 [DBG] Connection id "0HNGF5K4SF9NT" started.
2025-10-19 19:32:06.423 +03:00 [DBG] Connection 0HNGF5K4SF9NT established using the following protocol: "Tls13"
2025-10-19 19:32:06.486 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/swagger/index.html - null null
2025-10-19 19:32:06.602 +03:00 [WRN] Unable to contact VS to retrieve Browser Link script tag.
2025-10-19 19:32:06.605 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-10-19 19:32:06.660 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-10-19 19:32:06.673 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-10-19 19:32:06.676 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/swagger/index.html - 200 null text/html;charset=utf-8 194.3935ms
2025-10-19 19:32:06.765 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/_framework/aspnetcore-browser-refresh.js - null null
2025-10-19 19:32:06.771 +03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-10-19 19:32:06.774 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/_framework/aspnetcore-browser-refresh.js - 200 16503 application/javascript; charset=utf-8 8.975ms
2025-10-19 19:32:06.929 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/swagger/v1/swagger.json - null null
2025-10-19 19:32:06.952 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 23.1658ms
2025-10-19 19:32:24.520 +03:00 [DBG] Connection id "0HNGF5K4SF9NT" received FIN.
2025-10-19 19:32:24.526 +03:00 [DBG] The connection queue processing loop for 0HNGF5K4SF9NT completed.
2025-10-19 19:32:24.530 +03:00 [DBG] Connection id "0HNGF5K4SF9NT" is closed. The last processed stream ID was 5.
2025-10-19 19:32:24.532 +03:00 [DBG] Connection id "0HNGF5K4SF9NT" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 19:32:24.536 +03:00 [DBG] Connection id "0HNGF5K4SF9NT" stopped.
2025-10-19 19:33:04.208 +03:00 [DBG] Connection id "0HNGF5K4SF9NU" accepted.
2025-10-19 19:33:04.224 +03:00 [DBG] Connection id "0HNGF5K4SF9NU" started.
2025-10-19 19:33:04.239 +03:00 [DBG] Connection 0HNGF5K4SF9NU established using the following protocol: "Tls13"
2025-10-19 19:33:04.248 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/api/cities/2?includePointsOfInterest=true - null null
2025-10-19 19:33:04.275 +03:00 [DBG] The request path  does not match the path filter
2025-10-19 19:33:04.319 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2'
2025-10-19 19:33:04.326 +03:00 [DBG] Endpoint 'CitiesApi.Controllers.CitiesController.GetCity (CitiesApi)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/2'
2025-10-19 19:33:04.329 +03:00 [DBG] Request matched endpoint 'CitiesApi.Controllers.CitiesController.GetCity (CitiesApi)'
2025-10-19 19:33:04.335 +03:00 [INF] Executing endpoint 'CitiesApi.Controllers.CitiesController.GetCity (CitiesApi)'
2025-10-19 19:33:04.386 +03:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CitiesApi.Controllers.CitiesController (CitiesApi).
2025-10-19 19:33:04.390 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-19 19:33:04.394 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-19 19:33:04.397 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-10-19 19:33:04.400 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-19 19:33:04.407 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-19 19:33:04.414 +03:00 [DBG] Executing controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-19 19:33:04.640 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-10-19 19:33:04.845 +03:00 [DBG] Executed controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-19 19:33:04.859 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-10-19 19:33:04.863 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-10-19 19:33:04.868 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-10-19 19:33:04.869 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-10-19 19:33:04.871 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-10-19 19:33:04.876 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-10-19 19:33:04.880 +03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2025-10-19 19:33:04.883 +03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2025-10-19 19:33:04.890 +03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-10-19 19:33:04.893 +03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-10-19 19:33:04.894 +03:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2025-10-19 19:33:04.896 +03:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-10-19 19:33:05.980 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-10-19 19:33:06.116 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(c => c.PointsOfInterest)
    .Where(c => c.CityId == __cityId_0)
    .FirstOrDefault()'
2025-10-19 19:33:06.179 +03:00 [DBG] Including navigation: 'City.PointsOfInterest'.
2025-10-19 19:33:06.548 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.CityId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(500), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.PointOfInterestId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) MaxLength(500), 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.CityId, t.Description, t.Name, p.PointOfInterestId, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.CityId, c.Description, c.Name
                FROM Cities AS c
                WHERE c.CityId == @__cityId_0
            ) AS t
            LEFT JOIN PointOfInterests AS p ON t.CityId == p.CityId
            ORDER BY t.CityId ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CitiesApi.Data.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-10-19 19:33:06.613 +03:00 [DBG] Creating DbConnection.
2025-10-19 19:33:06.653 +03:00 [DBG] Created DbConnection. (37ms).
2025-10-19 19:33:06.659 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 19:33:07.248 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 19:33:07.255 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-19 19:33:07.263 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2025-10-19 19:33:07.280 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (24ms).
2025-10-19 19:33:07.299 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[CityId], [t].[Description], [t].[Name], [p].[PointOfInterestId], [p].[CityId], [p].[Description], [p].[Name]
FROM (
    SELECT TOP(1) [c].[CityId], [c].[Description], [c].[Name]
    FROM [Cities] AS [c]
    WHERE [c].[CityId] = @__cityId_0
) AS [t]
LEFT JOIN [PointOfInterests] AS [p] ON [t].[CityId] = [p].[CityId]
ORDER BY [t].[CityId]
2025-10-19 19:33:09.772 +03:00 [INF] Executed DbCommand (2,478ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[CityId], [t].[Description], [t].[Name], [p].[PointOfInterestId], [p].[CityId], [p].[Description], [p].[Name]
FROM (
    SELECT TOP(1) [c].[CityId], [c].[Description], [c].[Name]
    FROM [Cities] AS [c]
    WHERE [c].[CityId] = @__cityId_0
) AS [t]
LEFT JOIN [PointOfInterests] AS [p] ON [t].[CityId] = [p].[CityId]
ORDER BY [t].[CityId]
2025-10-19 19:33:09.874 +03:00 [DBG] Context 'AppDbContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-19 19:33:09.922 +03:00 [DBG] Context 'AppDbContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-19 19:33:09.936 +03:00 [DBG] Context 'AppDbContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-19 19:33:09.949 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 19:33:09.963 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 134ms reading results.
2025-10-19 19:33:09.971 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 19:33:09.982 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (10ms).
2025-10-19 19:33:10.137 +03:00 [INF] Executed action CitiesApi.Controllers.CitiesController.GetCity (CitiesApi) in 5722.5406ms
2025-10-19 19:33:10.142 +03:00 [INF] Executed endpoint 'CitiesApi.Controllers.CitiesController.GetCity (CitiesApi)'
2025-10-19 19:33:10.149 +03:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
City -> CityDto
CitiesApi.Entities.City -> CitiesApi.Models.CityDto
   at lambda_method92(Closure, Object, CityDto, ResolutionContext)
   at CitiesApi.Controllers.CitiesController.GetCity(Int32 id, Boolean includePointsOfInterest) in D:\Projects\CitiesApi\CitiesApi\Controllers\CitiesController.cs:line 41
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-10-19 19:33:10.237 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-10-19 19:33:10.301 +03:00 [DBG] No information found on request to perform content negotiation.
2025-10-19 19:33:10.308 +03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml"]'.
2025-10-19 19:33:10.319 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-10-19 19:33:10.504 +03:00 [DBG] 'AppDbContext' disposed.
2025-10-19 19:33:10.511 +03:00 [DBG] Disposing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 19:33:10.514 +03:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-10-19 19:33:10.518 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/api/cities/2?includePointsOfInterest=true - 500 380 application/problem+json; charset=utf-8 6269.9645ms
2025-10-19 19:33:26.295 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/api/cities/2?includePointsOfInterest=false - null null
2025-10-19 19:33:26.298 +03:00 [DBG] The request path  does not match the path filter
2025-10-19 19:33:26.300 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2'
2025-10-19 19:33:26.301 +03:00 [DBG] Endpoint 'CitiesApi.Controllers.CitiesController.GetCity (CitiesApi)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/2'
2025-10-19 19:33:26.303 +03:00 [DBG] Request matched endpoint 'CitiesApi.Controllers.CitiesController.GetCity (CitiesApi)'
2025-10-19 19:33:26.304 +03:00 [INF] Executing endpoint 'CitiesApi.Controllers.CitiesController.GetCity (CitiesApi)'
2025-10-19 19:33:26.306 +03:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CitiesApi.Controllers.CitiesController (CitiesApi).
2025-10-19 19:33:26.308 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-19 19:33:26.309 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-19 19:33:26.310 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-10-19 19:33:26.312 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-19 19:33:26.316 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-19 19:33:26.317 +03:00 [DBG] Executing controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-19 19:33:26.322 +03:00 [DBG] Executed controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-19 19:33:26.323 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-10-19 19:33:26.325 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-10-19 19:33:26.327 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-10-19 19:33:26.328 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-10-19 19:33:26.330 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-10-19 19:33:26.332 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-10-19 19:33:26.335 +03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2025-10-19 19:33:26.337 +03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2025-10-19 19:33:26.338 +03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-10-19 19:33:26.340 +03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-10-19 19:33:26.341 +03:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2025-10-19 19:33:26.342 +03:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-10-19 19:33:26.366 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-10-19 19:33:26.370 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.CityId == __cityId_0)
    .FirstOrDefault()'
2025-10-19 19:33:26.378 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.CityId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(500), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.CityId, c.Description, c.Name
            FROM Cities AS c
            WHERE c.CityId == @__cityId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CitiesApi.Data.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-10-19 19:33:26.380 +03:00 [DBG] Creating DbConnection.
2025-10-19 19:33:26.381 +03:00 [DBG] Created DbConnection. (1ms).
2025-10-19 19:33:26.383 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 19:33:26.386 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 19:33:26.387 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-19 19:33:26.388 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-19 19:33:26.390 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-10-19 19:33:26.391 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CityId], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
WHERE [c].[CityId] = @__cityId_0
2025-10-19 19:33:26.413 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CityId], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
WHERE [c].[CityId] = @__cityId_0
2025-10-19 19:33:26.416 +03:00 [DBG] Context 'AppDbContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-19 19:33:26.419 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 19:33:26.420 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 4ms reading results.
2025-10-19 19:33:26.422 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 19:33:26.423 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (1ms).
2025-10-19 19:33:26.435 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-10-19 19:33:26.446 +03:00 [DBG] No information found on request to perform content negotiation.
2025-10-19 19:33:26.449 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-10-19 19:33:26.451 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-10-19 19:33:26.452 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-10-19 19:33:26.454 +03:00 [INF] Executing OkObjectResult, writing value of type 'CitiesApi.Models.CityDtoWithoutPointsOfInterest'.
2025-10-19 19:33:26.459 +03:00 [INF] Executed action CitiesApi.Controllers.CitiesController.GetCity (CitiesApi) in 141.0612ms
2025-10-19 19:33:26.471 +03:00 [INF] Executed endpoint 'CitiesApi.Controllers.CitiesController.GetCity (CitiesApi)'
2025-10-19 19:33:26.472 +03:00 [DBG] 'AppDbContext' disposed.
2025-10-19 19:33:26.473 +03:00 [DBG] Disposing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 19:33:26.475 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-19 19:33:26.476 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/api/cities/2?includePointsOfInterest=false - 200 104 application/json; charset=utf-8 182.2966ms
2025-10-19 19:34:13.866 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-10-19 19:34:13.998 +03:00 [DBG] Hosting starting
2025-10-19 19:34:14.013 +03:00 [DBG] Middleware loaded
2025-10-19 19:34:14.019 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16503 B).
2025-10-19 19:34:14.022 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-10-19 19:34:14.150 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-10-19 19:34:14.273 +03:00 [INF] Now listening on: https://localhost:7025
2025-10-19 19:34:14.275 +03:00 [INF] Now listening on: http://localhost:5105
2025-10-19 19:34:14.276 +03:00 [DBG] Loaded hosting startup assembly CitiesApi
2025-10-19 19:34:14.277 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-10-19 19:34:14.277 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-10-19 19:34:14.278 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-10-19 19:34:14.355 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-19 19:34:14.357 +03:00 [INF] Hosting environment: Development
2025-10-19 19:34:14.360 +03:00 [INF] Content root path: D:\Projects\CitiesApi\CitiesApi
2025-10-19 19:34:14.361 +03:00 [DBG] Hosting started
2025-10-19 19:34:14.736 +03:00 [DBG] Connection id "0HNGF5LBM9ICQ" accepted.
2025-10-19 19:34:14.736 +03:00 [DBG] Connection id "0HNGF5LBM9ICP" accepted.
2025-10-19 19:34:14.741 +03:00 [DBG] Connection id "0HNGF5LBM9ICQ" started.
2025-10-19 19:34:14.741 +03:00 [DBG] Connection id "0HNGF5LBM9ICP" started.
2025-10-19 19:34:14.755 +03:00 [DBG] Connection id "0HNGF5LBM9ICP" received FIN.
2025-10-19 19:34:14.755 +03:00 [DBG] Connection id "0HNGF5LBM9ICQ" received FIN.
2025-10-19 19:34:14.780 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-19 19:34:14.781 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-19 19:34:14.817 +03:00 [DBG] Connection id "0HNGF5LBM9ICP" stopped.
2025-10-19 19:34:14.817 +03:00 [DBG] Connection id "0HNGF5LBM9ICQ" stopped.
2025-10-19 19:34:14.821 +03:00 [DBG] Connection id "0HNGF5LBM9ICQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 19:34:14.821 +03:00 [DBG] Connection id "0HNGF5LBM9ICP" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 19:34:15.256 +03:00 [DBG] Connection id "0HNGF5LBM9ICR" accepted.
2025-10-19 19:34:15.257 +03:00 [DBG] Connection id "0HNGF5LBM9ICR" started.
2025-10-19 19:34:15.323 +03:00 [DBG] Connection 0HNGF5LBM9ICR established using the following protocol: "Tls13"
2025-10-19 19:34:15.391 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/swagger/index.html - null null
2025-10-19 19:34:15.543 +03:00 [WRN] Unable to contact VS to retrieve Browser Link script tag.
2025-10-19 19:34:15.547 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-10-19 19:34:15.648 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-10-19 19:34:15.665 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-10-19 19:34:15.669 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/swagger/index.html - 200 null text/html;charset=utf-8 284.0123ms
2025-10-19 19:34:15.733 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/_framework/aspnetcore-browser-refresh.js - null null
2025-10-19 19:34:15.745 +03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-10-19 19:34:15.749 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/_framework/aspnetcore-browser-refresh.js - 200 16503 application/javascript; charset=utf-8 15.7567ms
2025-10-19 19:34:15.958 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/swagger/v1/swagger.json - null null
2025-10-19 19:34:15.984 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 26.8052ms
2025-10-19 19:34:19.681 +03:00 [DBG] Connection id "0HNGF5LBM9ICR" received FIN.
2025-10-19 19:34:19.690 +03:00 [DBG] The connection queue processing loop for 0HNGF5LBM9ICR completed.
2025-10-19 19:34:19.694 +03:00 [DBG] Connection id "0HNGF5LBM9ICR" is closed. The last processed stream ID was 5.
2025-10-19 19:34:19.696 +03:00 [DBG] Connection id "0HNGF5LBM9ICR" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 19:34:19.702 +03:00 [DBG] Connection id "0HNGF5LBM9ICR" stopped.
2025-10-19 19:34:24.022 +03:00 [DBG] Connection id "0HNGF5LBM9ICS" accepted.
2025-10-19 19:34:24.027 +03:00 [DBG] Connection id "0HNGF5LBM9ICS" started.
2025-10-19 19:34:24.034 +03:00 [DBG] Connection 0HNGF5LBM9ICS established using the following protocol: "Tls13"
2025-10-19 19:34:24.040 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/api/cities/1?includePointsOfInterest=true - null null
2025-10-19 19:34:24.047 +03:00 [DBG] The request path  does not match the path filter
2025-10-19 19:34:24.094 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2025-10-19 19:34:24.101 +03:00 [DBG] Endpoint 'CitiesApi.Controllers.CitiesController.GetCity (CitiesApi)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2025-10-19 19:34:24.105 +03:00 [DBG] Request matched endpoint 'CitiesApi.Controllers.CitiesController.GetCity (CitiesApi)'
2025-10-19 19:34:24.110 +03:00 [INF] Executing endpoint 'CitiesApi.Controllers.CitiesController.GetCity (CitiesApi)'
2025-10-19 19:34:24.147 +03:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CitiesApi.Controllers.CitiesController (CitiesApi).
2025-10-19 19:34:24.152 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-19 19:34:24.156 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-19 19:34:24.158 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-10-19 19:34:24.160 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-19 19:34:24.165 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-19 19:34:24.170 +03:00 [DBG] Executing controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-19 19:34:24.437 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-10-19 19:34:24.660 +03:00 [DBG] Executed controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-19 19:34:24.697 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-10-19 19:34:24.703 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-10-19 19:34:24.707 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-10-19 19:34:24.709 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-10-19 19:34:24.714 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-10-19 19:34:24.718 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-10-19 19:34:24.722 +03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2025-10-19 19:34:24.725 +03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2025-10-19 19:34:24.730 +03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-10-19 19:34:24.735 +03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-10-19 19:34:24.745 +03:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2025-10-19 19:34:24.748 +03:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-10-19 19:34:25.736 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-10-19 19:34:25.872 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(c => c.PointsOfInterest)
    .Where(c => c.CityId == __cityId_0)
    .FirstOrDefault()'
2025-10-19 19:34:25.934 +03:00 [DBG] Including navigation: 'City.PointsOfInterest'.
2025-10-19 19:34:26.245 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.CityId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(500), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.PointOfInterestId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) MaxLength(500), 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.CityId, t.Description, t.Name, p.PointOfInterestId, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.CityId, c.Description, c.Name
                FROM Cities AS c
                WHERE c.CityId == @__cityId_0
            ) AS t
            LEFT JOIN PointOfInterests AS p ON t.CityId == p.CityId
            ORDER BY t.CityId ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CitiesApi.Data.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-10-19 19:34:26.303 +03:00 [DBG] Creating DbConnection.
2025-10-19 19:34:26.336 +03:00 [DBG] Created DbConnection. (31ms).
2025-10-19 19:34:26.341 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 19:34:26.764 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 19:34:26.771 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-19 19:34:26.779 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2025-10-19 19:34:26.794 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (23ms).
2025-10-19 19:34:26.808 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[CityId], [t].[Description], [t].[Name], [p].[PointOfInterestId], [p].[CityId], [p].[Description], [p].[Name]
FROM (
    SELECT TOP(1) [c].[CityId], [c].[Description], [c].[Name]
    FROM [Cities] AS [c]
    WHERE [c].[CityId] = @__cityId_0
) AS [t]
LEFT JOIN [PointOfInterests] AS [p] ON [t].[CityId] = [p].[CityId]
ORDER BY [t].[CityId]
2025-10-19 19:34:26.909 +03:00 [INF] Executed DbCommand (105ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[CityId], [t].[Description], [t].[Name], [p].[PointOfInterestId], [p].[CityId], [p].[Description], [p].[Name]
FROM (
    SELECT TOP(1) [c].[CityId], [c].[Description], [c].[Name]
    FROM [Cities] AS [c]
    WHERE [c].[CityId] = @__cityId_0
) AS [t]
LEFT JOIN [PointOfInterests] AS [p] ON [t].[CityId] = [p].[CityId]
ORDER BY [t].[CityId]
2025-10-19 19:34:26.960 +03:00 [DBG] Context 'AppDbContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-19 19:34:27.013 +03:00 [DBG] Context 'AppDbContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-19 19:34:27.030 +03:00 [DBG] Context 'AppDbContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-19 19:34:27.045 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 19:34:27.056 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 136ms reading results.
2025-10-19 19:34:27.062 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 19:34:27.071 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (9ms).
2025-10-19 19:34:27.196 +03:00 [INF] Executed action CitiesApi.Controllers.CitiesController.GetCity (CitiesApi) in 3023.815ms
2025-10-19 19:34:27.201 +03:00 [INF] Executed endpoint 'CitiesApi.Controllers.CitiesController.GetCity (CitiesApi)'
2025-10-19 19:34:27.206 +03:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
City -> CityDto
CitiesApi.Entities.City -> CitiesApi.Models.CityDto

Type Map configuration:
City -> CityDto
CitiesApi.Entities.City -> CitiesApi.Models.CityDto

Destination Member:
PointsOfInterest

 ---> AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
PointOfInterest -> PointsOfInterestDto
CitiesApi.Entities.PointOfInterest -> CitiesApi.Models.PointsOfInterestDto
   at lambda_method93(Closure, PointOfInterest, PointsOfInterestDto, ResolutionContext)
   at lambda_method92(Closure, Object, CityDto, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method92(Closure, Object, CityDto, ResolutionContext)
   at CitiesApi.Controllers.CitiesController.GetCity(Int32 id, Boolean includePointsOfInterest) in D:\Projects\CitiesApi\CitiesApi\Controllers\CitiesController.cs:line 41
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-10-19 19:34:27.285 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-10-19 19:34:27.294 +03:00 [DBG] No information found on request to perform content negotiation.
2025-10-19 19:34:27.296 +03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml"]'.
2025-10-19 19:34:27.299 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-10-19 19:34:27.444 +03:00 [DBG] 'AppDbContext' disposed.
2025-10-19 19:34:27.454 +03:00 [DBG] Disposing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 19:34:27.458 +03:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-10-19 19:34:27.464 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/api/cities/1?includePointsOfInterest=true - 500 502 application/problem+json; charset=utf-8 3424.8159ms
2025-10-19 19:34:29.682 +03:00 [DBG] Connection id "0HNGF5LBM9ICS" received FIN.
2025-10-19 19:34:29.686 +03:00 [DBG] Connection id "0HNGF5LBM9ICS" is closed. The last processed stream ID was 1.
2025-10-19 19:34:29.686 +03:00 [DBG] The connection queue processing loop for 0HNGF5LBM9ICS completed.
2025-10-19 19:34:29.690 +03:00 [DBG] Connection id "0HNGF5LBM9ICS" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 19:34:29.701 +03:00 [DBG] Connection id "0HNGF5LBM9ICS" stopped.
2025-10-19 19:34:30.014 +03:00 [DBG] Connection id "0HNGF5LBM9ICT" accepted.
2025-10-19 19:34:30.017 +03:00 [DBG] Connection id "0HNGF5LBM9ICT" started.
2025-10-19 19:34:30.024 +03:00 [DBG] Connection 0HNGF5LBM9ICT established using the following protocol: "Tls13"
2025-10-19 19:34:30.027 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/api/cities/1?includePointsOfInterest=true - null null
2025-10-19 19:34:30.034 +03:00 [DBG] The request path  does not match the path filter
2025-10-19 19:34:30.036 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2025-10-19 19:34:30.039 +03:00 [DBG] Endpoint 'CitiesApi.Controllers.CitiesController.GetCity (CitiesApi)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2025-10-19 19:34:30.041 +03:00 [DBG] Request matched endpoint 'CitiesApi.Controllers.CitiesController.GetCity (CitiesApi)'
2025-10-19 19:34:30.043 +03:00 [INF] Executing endpoint 'CitiesApi.Controllers.CitiesController.GetCity (CitiesApi)'
2025-10-19 19:34:30.046 +03:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CitiesApi.Controllers.CitiesController (CitiesApi).
2025-10-19 19:34:30.051 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-19 19:34:30.053 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-19 19:34:30.055 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-10-19 19:34:30.057 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-19 19:34:30.060 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-19 19:34:30.062 +03:00 [DBG] Executing controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-19 19:34:30.066 +03:00 [DBG] Executed controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-19 19:34:30.068 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-10-19 19:34:30.069 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-10-19 19:34:30.071 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-10-19 19:34:30.073 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-10-19 19:34:30.075 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-10-19 19:34:30.076 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-10-19 19:34:30.079 +03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2025-10-19 19:34:30.081 +03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2025-10-19 19:34:30.082 +03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-10-19 19:34:30.084 +03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-10-19 19:34:30.086 +03:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2025-10-19 19:34:30.087 +03:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-10-19 19:34:30.109 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-10-19 19:34:30.117 +03:00 [DBG] Creating DbConnection.
2025-10-19 19:34:30.119 +03:00 [DBG] Created DbConnection. (1ms).
2025-10-19 19:34:30.120 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 19:34:30.123 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 19:34:30.125 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-19 19:34:30.127 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-19 19:34:30.129 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-10-19 19:34:30.130 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[CityId], [t].[Description], [t].[Name], [p].[PointOfInterestId], [p].[CityId], [p].[Description], [p].[Name]
FROM (
    SELECT TOP(1) [c].[CityId], [c].[Description], [c].[Name]
    FROM [Cities] AS [c]
    WHERE [c].[CityId] = @__cityId_0
) AS [t]
LEFT JOIN [PointOfInterests] AS [p] ON [t].[CityId] = [p].[CityId]
ORDER BY [t].[CityId]
2025-10-19 19:34:30.145 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[CityId], [t].[Description], [t].[Name], [p].[PointOfInterestId], [p].[CityId], [p].[Description], [p].[Name]
FROM (
    SELECT TOP(1) [c].[CityId], [c].[Description], [c].[Name]
    FROM [Cities] AS [c]
    WHERE [c].[CityId] = @__cityId_0
) AS [t]
LEFT JOIN [PointOfInterests] AS [p] ON [t].[CityId] = [p].[CityId]
ORDER BY [t].[CityId]
2025-10-19 19:34:30.148 +03:00 [DBG] Context 'AppDbContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-19 19:34:30.150 +03:00 [DBG] Context 'AppDbContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-19 19:34:30.152 +03:00 [DBG] Context 'AppDbContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-19 19:34:30.153 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 19:34:30.156 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 7ms reading results.
2025-10-19 19:34:30.158 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 19:34:30.160 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (1ms).
2025-10-19 19:34:30.222 +03:00 [INF] Executed action CitiesApi.Controllers.CitiesController.GetCity (CitiesApi) in 160.2457ms
2025-10-19 19:34:30.228 +03:00 [INF] Executed endpoint 'CitiesApi.Controllers.CitiesController.GetCity (CitiesApi)'
2025-10-19 19:34:30.232 +03:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
City -> CityDto
CitiesApi.Entities.City -> CitiesApi.Models.CityDto

Type Map configuration:
City -> CityDto
CitiesApi.Entities.City -> CitiesApi.Models.CityDto

Destination Member:
PointsOfInterest

 ---> AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
PointOfInterest -> PointsOfInterestDto
CitiesApi.Entities.PointOfInterest -> CitiesApi.Models.PointsOfInterestDto
   at lambda_method93(Closure, PointOfInterest, PointsOfInterestDto, ResolutionContext)
   at lambda_method92(Closure, Object, CityDto, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method92(Closure, Object, CityDto, ResolutionContext)
   at CitiesApi.Controllers.CitiesController.GetCity(Int32 id, Boolean includePointsOfInterest) in D:\Projects\CitiesApi\CitiesApi\Controllers\CitiesController.cs:line 41
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-10-19 19:34:30.246 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-10-19 19:34:30.250 +03:00 [DBG] No information found on request to perform content negotiation.
2025-10-19 19:34:30.251 +03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml"]'.
2025-10-19 19:34:30.255 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-10-19 19:34:30.256 +03:00 [DBG] 'AppDbContext' disposed.
2025-10-19 19:34:30.258 +03:00 [DBG] Disposing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 19:34:30.260 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-10-19 19:34:30.262 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/api/cities/1?includePointsOfInterest=true - 500 502 application/problem+json; charset=utf-8 235.5188ms
2025-10-19 19:34:39.701 +03:00 [DBG] Connection id "0HNGF5LBM9ICT" received FIN.
2025-10-19 19:34:39.707 +03:00 [DBG] Connection id "0HNGF5LBM9ICT" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 19:34:39.707 +03:00 [DBG] Connection id "0HNGF5LBM9ICT" is closed. The last processed stream ID was 1.
2025-10-19 19:34:39.713 +03:00 [DBG] The connection queue processing loop for 0HNGF5LBM9ICT completed.
2025-10-19 19:34:39.714 +03:00 [DBG] Connection id "0HNGF5LBM9ICT" stopped.
2025-10-19 19:37:00.511 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-10-19 19:37:00.668 +03:00 [DBG] Hosting starting
2025-10-19 19:37:00.688 +03:00 [DBG] Middleware loaded
2025-10-19 19:37:00.692 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16503 B).
2025-10-19 19:37:00.697 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-10-19 19:37:00.829 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-10-19 19:37:01.000 +03:00 [INF] Now listening on: https://localhost:7025
2025-10-19 19:37:01.001 +03:00 [INF] Now listening on: http://localhost:5105
2025-10-19 19:37:01.003 +03:00 [DBG] Loaded hosting startup assembly CitiesApi
2025-10-19 19:37:01.005 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-10-19 19:37:01.006 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-10-19 19:37:01.008 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-10-19 19:37:01.114 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-19 19:37:01.166 +03:00 [INF] Hosting environment: Development
2025-10-19 19:37:01.166 +03:00 [DBG] Connection id "0HNGF5MT9G60J" received FIN.
2025-10-19 19:37:01.173 +03:00 [INF] Content root path: D:\Projects\CitiesApi\CitiesApi
2025-10-19 19:37:01.186 +03:00 [DBG] Hosting started
2025-10-19 19:37:01.188 +03:00 [DBG] Connection id "0HNGF5MT9G60J" accepted.
2025-10-19 19:37:01.196 +03:00 [DBG] Connection id "0HNGF5MT9G60J" started.
2025-10-19 19:37:01.234 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-19 19:37:01.297 +03:00 [DBG] Connection id "0HNGF5MT9G60J" stopped.
2025-10-19 19:37:01.304 +03:00 [DBG] Connection id "0HNGF5MT9G60J" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 19:37:01.944 +03:00 [DBG] Connection id "0HNGF5MT9G60K" accepted.
2025-10-19 19:37:01.949 +03:00 [DBG] Connection id "0HNGF5MT9G60K" started.
2025-10-19 19:37:02.061 +03:00 [DBG] Connection 0HNGF5MT9G60K established using the following protocol: "Tls13"
2025-10-19 19:37:02.149 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/swagger/index.html - null null
2025-10-19 19:37:02.361 +03:00 [WRN] Unable to contact VS to retrieve Browser Link script tag.
2025-10-19 19:37:02.369 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-10-19 19:37:02.489 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-10-19 19:37:02.551 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-10-19 19:37:02.562 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/swagger/index.html - 200 null text/html;charset=utf-8 419.947ms
2025-10-19 19:37:02.602 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/_framework/aspnetcore-browser-refresh.js - null null
2025-10-19 19:37:02.626 +03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-10-19 19:37:02.636 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/_framework/aspnetcore-browser-refresh.js - 200 16503 application/javascript; charset=utf-8 33.9612ms
2025-10-19 19:37:02.836 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/swagger/v1/swagger.json - null null
2025-10-19 19:37:02.934 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 97.7114ms
2025-10-19 19:37:09.263 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/api/cities/1?includePointsOfInterest=true - null null
2025-10-19 19:37:09.280 +03:00 [DBG] The request path  does not match the path filter
2025-10-19 19:37:09.337 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2025-10-19 19:37:09.347 +03:00 [DBG] Endpoint 'CitiesApi.Controllers.CitiesController.GetCity (CitiesApi)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2025-10-19 19:37:09.352 +03:00 [DBG] Request matched endpoint 'CitiesApi.Controllers.CitiesController.GetCity (CitiesApi)'
2025-10-19 19:37:09.366 +03:00 [INF] Executing endpoint 'CitiesApi.Controllers.CitiesController.GetCity (CitiesApi)'
2025-10-19 19:37:09.429 +03:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CitiesApi.Controllers.CitiesController (CitiesApi).
2025-10-19 19:37:09.435 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-19 19:37:09.438 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-19 19:37:09.440 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-10-19 19:37:09.443 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-19 19:37:09.445 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-19 19:37:09.449 +03:00 [DBG] Executing controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-19 19:37:09.687 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-10-19 19:37:09.919 +03:00 [DBG] Executed controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-19 19:37:09.935 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-10-19 19:37:09.939 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-10-19 19:37:09.943 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-10-19 19:37:09.952 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-10-19 19:37:09.955 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-10-19 19:37:09.959 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-10-19 19:37:09.964 +03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2025-10-19 19:37:09.967 +03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2025-10-19 19:37:09.970 +03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-10-19 19:37:09.972 +03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-10-19 19:37:09.974 +03:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2025-10-19 19:37:09.976 +03:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-10-19 19:37:11.017 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-10-19 19:37:11.140 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(c => c.PointsOfInterest)
    .Where(c => c.CityId == __cityId_0)
    .FirstOrDefault()'
2025-10-19 19:37:11.212 +03:00 [DBG] Including navigation: 'City.PointsOfInterest'.
2025-10-19 19:37:11.553 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.CityId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(500), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.PointOfInterestId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) MaxLength(500), 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.CityId, t.Description, t.Name, p.PointOfInterestId, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.CityId, c.Description, c.Name
                FROM Cities AS c
                WHERE c.CityId == @__cityId_0
            ) AS t
            LEFT JOIN PointOfInterests AS p ON t.CityId == p.CityId
            ORDER BY t.CityId ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CitiesApi.Data.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-10-19 19:37:11.625 +03:00 [DBG] Creating DbConnection.
2025-10-19 19:37:11.688 +03:00 [DBG] Created DbConnection. (60ms).
2025-10-19 19:37:11.698 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 19:37:12.283 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 19:37:12.293 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-19 19:37:12.315 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (18ms).
2025-10-19 19:37:12.339 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (45ms).
2025-10-19 19:37:12.357 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[CityId], [t].[Description], [t].[Name], [p].[PointOfInterestId], [p].[CityId], [p].[Description], [p].[Name]
FROM (
    SELECT TOP(1) [c].[CityId], [c].[Description], [c].[Name]
    FROM [Cities] AS [c]
    WHERE [c].[CityId] = @__cityId_0
) AS [t]
LEFT JOIN [PointOfInterests] AS [p] ON [t].[CityId] = [p].[CityId]
ORDER BY [t].[CityId]
2025-10-19 19:37:12.614 +03:00 [INF] Executed DbCommand (260ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[CityId], [t].[Description], [t].[Name], [p].[PointOfInterestId], [p].[CityId], [p].[Description], [p].[Name]
FROM (
    SELECT TOP(1) [c].[CityId], [c].[Description], [c].[Name]
    FROM [Cities] AS [c]
    WHERE [c].[CityId] = @__cityId_0
) AS [t]
LEFT JOIN [PointOfInterests] AS [p] ON [t].[CityId] = [p].[CityId]
ORDER BY [t].[CityId]
2025-10-19 19:37:12.666 +03:00 [DBG] Context 'AppDbContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-19 19:37:12.724 +03:00 [DBG] Context 'AppDbContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-19 19:37:12.734 +03:00 [DBG] Context 'AppDbContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-19 19:37:12.745 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 19:37:12.756 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 129ms reading results.
2025-10-19 19:37:12.763 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 19:37:12.771 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (8ms).
2025-10-19 19:37:12.899 +03:00 [INF] Executed action CitiesApi.Controllers.CitiesController.GetCity (CitiesApi) in 3447.6123ms
2025-10-19 19:37:12.909 +03:00 [INF] Executed endpoint 'CitiesApi.Controllers.CitiesController.GetCity (CitiesApi)'
2025-10-19 19:37:12.915 +03:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
City -> CityDto
CitiesApi.Entities.City -> CitiesApi.Models.CityDto
   at lambda_method92(Closure, Object, CityDto, ResolutionContext)
   at CitiesApi.Controllers.CitiesController.GetCity(Int32 id, Boolean includePointsOfInterest) in D:\Projects\CitiesApi\CitiesApi\Controllers\CitiesController.cs:line 41
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-10-19 19:37:12.985 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-10-19 19:37:12.990 +03:00 [DBG] No information found on request to perform content negotiation.
2025-10-19 19:37:12.993 +03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml"]'.
2025-10-19 19:37:12.996 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-10-19 19:37:13.156 +03:00 [DBG] 'AppDbContext' disposed.
2025-10-19 19:37:13.169 +03:00 [DBG] Disposing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 19:37:13.173 +03:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-10-19 19:37:13.176 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/api/cities/1?includePointsOfInterest=true - 500 380 application/problem+json; charset=utf-8 3913.0751ms
2025-10-19 19:37:19.922 +03:00 [DBG] Connection id "0HNGF5MT9G60K" received FIN.
2025-10-19 19:37:19.934 +03:00 [DBG] Connection id "0HNGF5MT9G60K" is closed. The last processed stream ID was 7.
2025-10-19 19:37:19.936 +03:00 [DBG] The connection queue processing loop for 0HNGF5MT9G60K completed.
2025-10-19 19:37:19.939 +03:00 [DBG] Connection id "0HNGF5MT9G60K" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 19:37:19.954 +03:00 [DBG] Connection id "0HNGF5MT9G60K" stopped.
2025-10-19 19:38:21.754 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-10-19 19:38:21.966 +03:00 [DBG] Hosting starting
2025-10-19 19:38:21.984 +03:00 [DBG] Middleware loaded
2025-10-19 19:38:21.987 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16503 B).
2025-10-19 19:38:21.990 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-10-19 19:38:22.114 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-10-19 19:38:22.250 +03:00 [INF] Now listening on: https://localhost:7025
2025-10-19 19:38:22.252 +03:00 [INF] Now listening on: http://localhost:5105
2025-10-19 19:38:22.253 +03:00 [DBG] Loaded hosting startup assembly CitiesApi
2025-10-19 19:38:22.254 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-10-19 19:38:22.255 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-10-19 19:38:22.256 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-10-19 19:38:22.362 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-19 19:38:22.365 +03:00 [INF] Hosting environment: Development
2025-10-19 19:38:22.368 +03:00 [INF] Content root path: D:\Projects\CitiesApi\CitiesApi
2025-10-19 19:38:22.369 +03:00 [DBG] Hosting started
2025-10-19 19:38:22.604 +03:00 [DBG] Connection id "0HNGF5NLI4RJ1" received FIN.
2025-10-19 19:38:22.604 +03:00 [DBG] Connection id "0HNGF5NLI4RJ0" received FIN.
2025-10-19 19:38:22.614 +03:00 [DBG] Connection id "0HNGF5NLI4RJ1" accepted.
2025-10-19 19:38:22.614 +03:00 [DBG] Connection id "0HNGF5NLI4RJ0" accepted.
2025-10-19 19:38:22.621 +03:00 [DBG] Connection id "0HNGF5NLI4RJ1" started.
2025-10-19 19:38:22.622 +03:00 [DBG] Connection id "0HNGF5NLI4RJ0" started.
2025-10-19 19:38:22.648 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-19 19:38:22.648 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-19 19:38:22.704 +03:00 [DBG] Connection id "0HNGF5NLI4RJ0" stopped.
2025-10-19 19:38:22.704 +03:00 [DBG] Connection id "0HNGF5NLI4RJ1" stopped.
2025-10-19 19:38:22.712 +03:00 [DBG] Connection id "0HNGF5NLI4RJ0" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 19:38:22.712 +03:00 [DBG] Connection id "0HNGF5NLI4RJ1" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 19:38:22.982 +03:00 [DBG] Connection id "0HNGF5NLI4RJ2" accepted.
2025-10-19 19:38:22.984 +03:00 [DBG] Connection id "0HNGF5NLI4RJ2" started.
2025-10-19 19:38:23.045 +03:00 [DBG] Connection 0HNGF5NLI4RJ2 established using the following protocol: "Tls13"
2025-10-19 19:38:23.147 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/swagger/index.html - null null
2025-10-19 19:38:23.302 +03:00 [WRN] Unable to contact VS to retrieve Browser Link script tag.
2025-10-19 19:38:23.308 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-10-19 19:38:23.396 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-10-19 19:38:23.416 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-10-19 19:38:23.421 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/swagger/index.html - 200 null text/html;charset=utf-8 289.3683ms
2025-10-19 19:38:23.456 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/_framework/aspnetcore-browser-refresh.js - null null
2025-10-19 19:38:23.466 +03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-10-19 19:38:23.469 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/_framework/aspnetcore-browser-refresh.js - 200 16503 application/javascript; charset=utf-8 12.6437ms
2025-10-19 19:38:23.560 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/swagger/v1/swagger.json - null null
2025-10-19 19:38:23.625 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 64.3981ms
2025-10-19 19:38:30.011 +03:00 [DBG] Connection id "0HNGF5NLI4RJ2" received FIN.
2025-10-19 19:38:30.020 +03:00 [DBG] The connection queue processing loop for 0HNGF5NLI4RJ2 completed.
2025-10-19 19:38:30.023 +03:00 [DBG] Connection id "0HNGF5NLI4RJ2" is closed. The last processed stream ID was 5.
2025-10-19 19:38:30.027 +03:00 [DBG] Connection id "0HNGF5NLI4RJ2" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 19:38:30.036 +03:00 [DBG] Connection id "0HNGF5NLI4RJ2" stopped.
2025-10-19 19:38:33.930 +03:00 [DBG] Connection id "0HNGF5NLI4RJ3" accepted.
2025-10-19 19:38:33.931 +03:00 [DBG] Connection id "0HNGF5NLI4RJ3" started.
2025-10-19 19:38:33.937 +03:00 [DBG] Connection 0HNGF5NLI4RJ3 established using the following protocol: "Tls13"
2025-10-19 19:38:33.940 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/api/cities/1?includePointsOfInterest=true - null null
2025-10-19 19:38:33.947 +03:00 [DBG] The request path  does not match the path filter
2025-10-19 19:38:33.999 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2025-10-19 19:38:34.006 +03:00 [DBG] Endpoint 'CitiesApi.Controllers.CitiesController.GetCity (CitiesApi)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2025-10-19 19:38:34.013 +03:00 [DBG] Request matched endpoint 'CitiesApi.Controllers.CitiesController.GetCity (CitiesApi)'
2025-10-19 19:38:34.021 +03:00 [INF] Executing endpoint 'CitiesApi.Controllers.CitiesController.GetCity (CitiesApi)'
2025-10-19 19:38:34.071 +03:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CitiesApi.Controllers.CitiesController (CitiesApi).
2025-10-19 19:38:34.077 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-19 19:38:34.080 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-19 19:38:34.084 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-10-19 19:38:34.088 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-19 19:38:34.090 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-19 19:38:34.095 +03:00 [DBG] Executing controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-19 19:38:34.328 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-10-19 19:38:34.590 +03:00 [DBG] Executed controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-19 19:38:34.606 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-10-19 19:38:34.613 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-10-19 19:38:34.617 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-10-19 19:38:34.618 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-10-19 19:38:34.620 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-10-19 19:38:34.624 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-10-19 19:38:34.628 +03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2025-10-19 19:38:34.631 +03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2025-10-19 19:38:34.633 +03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-10-19 19:38:34.634 +03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-10-19 19:38:34.636 +03:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2025-10-19 19:38:34.638 +03:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-10-19 19:38:35.683 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-10-19 19:38:35.824 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(c => c.PointsOfInterest)
    .Where(c => c.CityId == __cityId_0)
    .FirstOrDefault()'
2025-10-19 19:38:35.892 +03:00 [DBG] Including navigation: 'City.PointsOfInterest'.
2025-10-19 19:38:36.256 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.CityId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(500), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.PointOfInterestId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) MaxLength(500), 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.CityId, t.Description, t.Name, p.PointOfInterestId, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.CityId, c.Description, c.Name
                FROM Cities AS c
                WHERE c.CityId == @__cityId_0
            ) AS t
            LEFT JOIN PointOfInterests AS p ON t.CityId == p.CityId
            ORDER BY t.CityId ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CitiesApi.Data.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-10-19 19:38:36.326 +03:00 [DBG] Creating DbConnection.
2025-10-19 19:38:36.384 +03:00 [DBG] Created DbConnection. (53ms).
2025-10-19 19:38:36.395 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 19:38:36.913 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 19:38:36.920 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-19 19:38:36.929 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2025-10-19 19:38:36.945 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (24ms).
2025-10-19 19:38:36.962 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[CityId], [t].[Description], [t].[Name], [p].[PointOfInterestId], [p].[CityId], [p].[Description], [p].[Name]
FROM (
    SELECT TOP(1) [c].[CityId], [c].[Description], [c].[Name]
    FROM [Cities] AS [c]
    WHERE [c].[CityId] = @__cityId_0
) AS [t]
LEFT JOIN [PointOfInterests] AS [p] ON [t].[CityId] = [p].[CityId]
ORDER BY [t].[CityId]
2025-10-19 19:38:37.068 +03:00 [INF] Executed DbCommand (111ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[CityId], [t].[Description], [t].[Name], [p].[PointOfInterestId], [p].[CityId], [p].[Description], [p].[Name]
FROM (
    SELECT TOP(1) [c].[CityId], [c].[Description], [c].[Name]
    FROM [Cities] AS [c]
    WHERE [c].[CityId] = @__cityId_0
) AS [t]
LEFT JOIN [PointOfInterests] AS [p] ON [t].[CityId] = [p].[CityId]
ORDER BY [t].[CityId]
2025-10-19 19:38:37.119 +03:00 [DBG] Context 'AppDbContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-19 19:38:37.178 +03:00 [DBG] Context 'AppDbContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-19 19:38:37.203 +03:00 [DBG] Context 'AppDbContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-19 19:38:37.247 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 19:38:37.270 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 188ms reading results.
2025-10-19 19:38:37.283 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 19:38:37.298 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (14ms).
2025-10-19 19:38:37.423 +03:00 [INF] Executed action CitiesApi.Controllers.CitiesController.GetCity (CitiesApi) in 3325.4207ms
2025-10-19 19:38:37.428 +03:00 [INF] Executed endpoint 'CitiesApi.Controllers.CitiesController.GetCity (CitiesApi)'
2025-10-19 19:38:37.433 +03:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
City -> CityDto
CitiesApi.Entities.City -> CitiesApi.Models.CityDto
   at lambda_method92(Closure, Object, CityDto, ResolutionContext)
   at CitiesApi.Controllers.CitiesController.GetCity(Int32 id, Boolean includePointsOfInterest) in D:\Projects\CitiesApi\CitiesApi\Controllers\CitiesController.cs:line 41
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-10-19 19:38:37.475 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-10-19 19:38:37.484 +03:00 [DBG] No information found on request to perform content negotiation.
2025-10-19 19:38:37.486 +03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml"]'.
2025-10-19 19:38:37.490 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-10-19 19:38:37.645 +03:00 [DBG] 'AppDbContext' disposed.
2025-10-19 19:38:37.658 +03:00 [DBG] Disposing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 19:38:37.667 +03:00 [DBG] Disposed connection to database '' on server '' (7ms).
2025-10-19 19:38:37.676 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/api/cities/1?includePointsOfInterest=true - 500 380 application/problem+json; charset=utf-8 3735.8562ms
2025-10-19 19:38:40.013 +03:00 [DBG] Connection id "0HNGF5NLI4RJ3" received FIN.
2025-10-19 19:38:40.018 +03:00 [DBG] Connection id "0HNGF5NLI4RJ3" is closed. The last processed stream ID was 1.
2025-10-19 19:38:40.019 +03:00 [DBG] The connection queue processing loop for 0HNGF5NLI4RJ3 completed.
2025-10-19 19:38:40.022 +03:00 [DBG] Connection id "0HNGF5NLI4RJ3" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 19:38:40.039 +03:00 [DBG] Connection id "0HNGF5NLI4RJ3" stopped.
2025-10-19 19:38:56.893 +03:00 [DBG] Connection id "0HNGF5NLI4RJ4" accepted.
2025-10-19 19:38:56.895 +03:00 [DBG] Connection id "0HNGF5NLI4RJ4" started.
2025-10-19 19:38:56.896 +03:00 [DBG] Connection id "0HNGF5NLI4RJ4" received FIN.
2025-10-19 19:38:56.896 +03:00 [DBG] Connection id "0HNGF5NLI4RJ5" accepted.
2025-10-19 19:38:56.909 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-19 19:38:56.909 +03:00 [DBG] Connection id "0HNGF5NLI4RJ5" started.
2025-10-19 19:38:56.913 +03:00 [DBG] Connection id "0HNGF5NLI4RJ4" stopped.
2025-10-19 19:38:56.914 +03:00 [DBG] Connection id "0HNGF5NLI4RJ4" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 19:38:56.928 +03:00 [DBG] Connection 0HNGF5NLI4RJ5 established using the following protocol: "Tls13"
2025-10-19 19:38:56.936 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7025/api/cities/1?includePointsOfInterest=true - null null
2025-10-19 19:38:56.939 +03:00 [DBG] The request path  does not match the path filter
2025-10-19 19:38:56.942 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2025-10-19 19:38:56.944 +03:00 [DBG] Endpoint 'CitiesApi.Controllers.CitiesController.GetCity (CitiesApi)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2025-10-19 19:38:56.946 +03:00 [DBG] Request matched endpoint 'CitiesApi.Controllers.CitiesController.GetCity (CitiesApi)'
2025-10-19 19:38:56.948 +03:00 [INF] Executing endpoint 'CitiesApi.Controllers.CitiesController.GetCity (CitiesApi)'
2025-10-19 19:38:56.950 +03:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CitiesApi.Controllers.CitiesController (CitiesApi).
2025-10-19 19:38:56.952 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-19 19:38:56.955 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-19 19:38:56.960 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-10-19 19:38:56.963 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-19 19:38:56.966 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-19 19:38:56.968 +03:00 [DBG] Executing controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-19 19:38:56.971 +03:00 [DBG] Executed controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-19 19:38:56.975 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-10-19 19:38:56.977 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-10-19 19:38:56.979 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-10-19 19:38:56.981 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-10-19 19:38:56.983 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-10-19 19:38:56.984 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-10-19 19:38:56.986 +03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2025-10-19 19:38:56.988 +03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2025-10-19 19:38:56.991 +03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-10-19 19:38:56.993 +03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-10-19 19:38:56.994 +03:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2025-10-19 19:38:56.996 +03:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-10-19 19:38:57.025 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-10-19 19:38:57.035 +03:00 [DBG] Creating DbConnection.
2025-10-19 19:38:57.039 +03:00 [DBG] Created DbConnection. (3ms).
2025-10-19 19:38:57.041 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 19:38:57.046 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 19:38:57.048 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-19 19:38:57.050 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-19 19:38:57.055 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-10-19 19:38:57.057 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[CityId], [t].[Description], [t].[Name], [p].[PointOfInterestId], [p].[CityId], [p].[Description], [p].[Name]
FROM (
    SELECT TOP(1) [c].[CityId], [c].[Description], [c].[Name]
    FROM [Cities] AS [c]
    WHERE [c].[CityId] = @__cityId_0
) AS [t]
LEFT JOIN [PointOfInterests] AS [p] ON [t].[CityId] = [p].[CityId]
ORDER BY [t].[CityId]
2025-10-19 19:38:57.088 +03:00 [INF] Executed DbCommand (31ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[CityId], [t].[Description], [t].[Name], [p].[PointOfInterestId], [p].[CityId], [p].[Description], [p].[Name]
FROM (
    SELECT TOP(1) [c].[CityId], [c].[Description], [c].[Name]
    FROM [Cities] AS [c]
    WHERE [c].[CityId] = @__cityId_0
) AS [t]
LEFT JOIN [PointOfInterests] AS [p] ON [t].[CityId] = [p].[CityId]
ORDER BY [t].[CityId]
2025-10-19 19:38:57.091 +03:00 [DBG] Context 'AppDbContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-19 19:38:57.094 +03:00 [DBG] Context 'AppDbContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-19 19:38:57.096 +03:00 [DBG] Context 'AppDbContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-19 19:38:57.098 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 19:38:57.105 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 14ms reading results.
2025-10-19 19:38:57.111 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 19:38:57.113 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (2ms).
2025-10-19 19:38:57.190 +03:00 [INF] Executed action CitiesApi.Controllers.CitiesController.GetCity (CitiesApi) in 221.9878ms
2025-10-19 19:38:57.193 +03:00 [INF] Executed endpoint 'CitiesApi.Controllers.CitiesController.GetCity (CitiesApi)'
2025-10-19 19:38:57.196 +03:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
City -> CityDto
CitiesApi.Entities.City -> CitiesApi.Models.CityDto
   at lambda_method92(Closure, Object, CityDto, ResolutionContext)
   at CitiesApi.Controllers.CitiesController.GetCity(Int32 id, Boolean includePointsOfInterest) in D:\Projects\CitiesApi\CitiesApi\Controllers\CitiesController.cs:line 41
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-10-19 19:38:57.208 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-10-19 19:38:57.213 +03:00 [DBG] No information found on request to perform content negotiation.
2025-10-19 19:38:57.215 +03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml"]'.
2025-10-19 19:38:57.218 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-10-19 19:38:57.222 +03:00 [DBG] Connection id "0HNGF5NLI4RJ5" completed keep alive response.
2025-10-19 19:38:57.225 +03:00 [DBG] 'AppDbContext' disposed.
2025-10-19 19:38:57.226 +03:00 [DBG] Disposing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 19:38:57.229 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-10-19 19:38:57.232 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7025/api/cities/1?includePointsOfInterest=true - 500 380 application/problem+json; charset=utf-8 296.6438ms
2025-10-19 19:39:26.737 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-10-19 19:39:26.898 +03:00 [DBG] Hosting starting
2025-10-19 19:39:26.916 +03:00 [DBG] Middleware loaded
2025-10-19 19:39:26.919 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16503 B).
2025-10-19 19:39:26.923 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-10-19 19:39:27.039 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-10-19 19:39:27.161 +03:00 [INF] Now listening on: https://localhost:7025
2025-10-19 19:39:27.162 +03:00 [INF] Now listening on: http://localhost:5105
2025-10-19 19:39:27.163 +03:00 [DBG] Loaded hosting startup assembly CitiesApi
2025-10-19 19:39:27.164 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-10-19 19:39:27.165 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-10-19 19:39:27.167 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-10-19 19:39:27.266 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-19 19:39:27.270 +03:00 [INF] Hosting environment: Development
2025-10-19 19:39:27.273 +03:00 [INF] Content root path: D:\Projects\CitiesApi\CitiesApi
2025-10-19 19:39:27.280 +03:00 [DBG] Hosting started
2025-10-19 19:39:27.289 +03:00 [DBG] Connection id "0HNGF5O8R0S5K" accepted.
2025-10-19 19:39:27.289 +03:00 [DBG] Connection id "0HNGF5O8R0S5J" accepted.
2025-10-19 19:39:27.293 +03:00 [DBG] Connection id "0HNGF5O8R0S5K" started.
2025-10-19 19:39:27.294 +03:00 [DBG] Connection id "0HNGF5O8R0S5J" started.
2025-10-19 19:39:27.309 +03:00 [DBG] Connection id "0HNGF5O8R0S5K" received FIN.
2025-10-19 19:39:27.309 +03:00 [DBG] Connection id "0HNGF5O8R0S5J" received FIN.
2025-10-19 19:39:27.362 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-19 19:39:27.363 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-19 19:39:27.417 +03:00 [DBG] Connection id "0HNGF5O8R0S5K" stopped.
2025-10-19 19:39:27.417 +03:00 [DBG] Connection id "0HNGF5O8R0S5J" stopped.
2025-10-19 19:39:27.429 +03:00 [DBG] Connection id "0HNGF5O8R0S5J" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 19:39:27.427 +03:00 [DBG] Connection id "0HNGF5O8R0S5K" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 19:39:27.808 +03:00 [DBG] Connection id "0HNGF5O8R0S5L" accepted.
2025-10-19 19:39:27.810 +03:00 [DBG] Connection id "0HNGF5O8R0S5L" started.
2025-10-19 19:39:27.889 +03:00 [DBG] Connection 0HNGF5O8R0S5L established using the following protocol: "Tls13"
2025-10-19 19:39:27.985 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/swagger/index.html - null null
2025-10-19 19:39:28.229 +03:00 [WRN] Unable to contact VS to retrieve Browser Link script tag.
2025-10-19 19:39:28.236 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-10-19 19:39:28.335 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-10-19 19:39:28.376 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-10-19 19:39:28.392 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/swagger/index.html - 200 null text/html;charset=utf-8 419.3582ms
2025-10-19 19:39:28.488 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/_framework/aspnetcore-browser-refresh.js - null null
2025-10-19 19:39:28.502 +03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-10-19 19:39:28.516 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/_framework/aspnetcore-browser-refresh.js - 200 16503 application/javascript; charset=utf-8 27.8713ms
2025-10-19 19:39:28.596 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/swagger/v1/swagger.json - null null
2025-10-19 19:39:28.672 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 75.7192ms
2025-10-19 19:39:33.919 +03:00 [DBG] Connection id "0HNGF5O8R0S5M" accepted.
2025-10-19 19:39:33.919 +03:00 [DBG] Connection id "0HNGF5O8R0S5M" received FIN.
2025-10-19 19:39:33.922 +03:00 [DBG] Connection id "0HNGF5O8R0S5M" started.
2025-10-19 19:39:33.923 +03:00 [DBG] Connection id "0HNGF5O8R0S5N" accepted.
2025-10-19 19:39:33.926 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-19 19:39:33.927 +03:00 [DBG] Connection id "0HNGF5O8R0S5N" started.
2025-10-19 19:39:33.932 +03:00 [DBG] Connection id "0HNGF5O8R0S5M" stopped.
2025-10-19 19:39:33.936 +03:00 [DBG] Connection id "0HNGF5O8R0S5M" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 19:39:33.947 +03:00 [DBG] Connection 0HNGF5O8R0S5N established using the following protocol: "Tls13"
2025-10-19 19:39:33.955 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7025/api/cities/1?includePointsOfInterest=true - null null
2025-10-19 19:39:33.961 +03:00 [DBG] The request path  does not match the path filter
2025-10-19 19:39:33.999 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2025-10-19 19:39:34.013 +03:00 [DBG] Endpoint 'CitiesApi.Controllers.CitiesController.GetCity (CitiesApi)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2025-10-19 19:39:34.017 +03:00 [DBG] Request matched endpoint 'CitiesApi.Controllers.CitiesController.GetCity (CitiesApi)'
2025-10-19 19:39:34.023 +03:00 [INF] Executing endpoint 'CitiesApi.Controllers.CitiesController.GetCity (CitiesApi)'
2025-10-19 19:39:34.070 +03:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CitiesApi.Controllers.CitiesController (CitiesApi).
2025-10-19 19:39:34.076 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-19 19:39:34.079 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-19 19:39:34.082 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-10-19 19:39:34.085 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-19 19:39:34.087 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-19 19:39:34.092 +03:00 [DBG] Executing controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-19 19:39:34.334 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-10-19 19:39:34.521 +03:00 [DBG] Executed controller factory for controller CitiesApi.Controllers.CitiesController (CitiesApi)
2025-10-19 19:39:34.535 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-10-19 19:39:34.539 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-10-19 19:39:34.551 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-10-19 19:39:34.553 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-10-19 19:39:34.554 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-10-19 19:39:34.561 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-10-19 19:39:34.565 +03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2025-10-19 19:39:34.568 +03:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2025-10-19 19:39:34.572 +03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-10-19 19:39:34.576 +03:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-10-19 19:39:34.578 +03:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2025-10-19 19:39:34.581 +03:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2025-10-19 19:39:35.671 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-10-19 19:39:35.807 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(c => c.PointsOfInterest)
    .Where(c => c.CityId == __cityId_0)
    .FirstOrDefault()'
2025-10-19 19:39:35.877 +03:00 [DBG] Including navigation: 'City.PointsOfInterest'.
2025-10-19 19:39:36.260 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.CityId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(500), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.PointOfInterestId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) MaxLength(500), 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.CityId, t.Description, t.Name, p.PointOfInterestId, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.CityId, c.Description, c.Name
                FROM Cities AS c
                WHERE c.CityId == @__cityId_0
            ) AS t
            LEFT JOIN PointOfInterests AS p ON t.CityId == p.CityId
            ORDER BY t.CityId ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CitiesApi.Data.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-10-19 19:39:36.316 +03:00 [DBG] Creating DbConnection.
2025-10-19 19:39:36.361 +03:00 [DBG] Created DbConnection. (44ms).
2025-10-19 19:39:36.369 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 19:39:37.092 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 19:39:37.103 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-19 19:39:37.119 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (13ms).
2025-10-19 19:39:37.138 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (38ms).
2025-10-19 19:39:37.159 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[CityId], [t].[Description], [t].[Name], [p].[PointOfInterestId], [p].[CityId], [p].[Description], [p].[Name]
FROM (
    SELECT TOP(1) [c].[CityId], [c].[Description], [c].[Name]
    FROM [Cities] AS [c]
    WHERE [c].[CityId] = @__cityId_0
) AS [t]
LEFT JOIN [PointOfInterests] AS [p] ON [t].[CityId] = [p].[CityId]
ORDER BY [t].[CityId]
2025-10-19 19:39:37.526 +03:00 [INF] Executed DbCommand (376ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[CityId], [t].[Description], [t].[Name], [p].[PointOfInterestId], [p].[CityId], [p].[Description], [p].[Name]
FROM (
    SELECT TOP(1) [c].[CityId], [c].[Description], [c].[Name]
    FROM [Cities] AS [c]
    WHERE [c].[CityId] = @__cityId_0
) AS [t]
LEFT JOIN [PointOfInterests] AS [p] ON [t].[CityId] = [p].[CityId]
ORDER BY [t].[CityId]
2025-10-19 19:39:37.625 +03:00 [DBG] Context 'AppDbContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-19 19:39:37.757 +03:00 [DBG] Context 'AppDbContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-19 19:39:37.776 +03:00 [DBG] Context 'AppDbContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-19 19:39:37.792 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 19:39:37.820 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 280ms reading results.
2025-10-19 19:39:37.831 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 19:39:37.849 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (15ms).
2025-10-19 19:39:37.922 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-10-19 19:39:37.955 +03:00 [DBG] No information found on request to perform content negotiation.
2025-10-19 19:39:37.959 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-10-19 19:39:37.960 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-10-19 19:39:37.971 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-10-19 19:39:37.976 +03:00 [INF] Executing OkObjectResult, writing value of type 'CitiesApi.Models.CityDto'.
2025-10-19 19:39:38.250 +03:00 [INF] Executed action CitiesApi.Controllers.CitiesController.GetCity (CitiesApi) in 4149.7714ms
2025-10-19 19:39:38.256 +03:00 [INF] Executed endpoint 'CitiesApi.Controllers.CitiesController.GetCity (CitiesApi)'
2025-10-19 19:39:38.272 +03:00 [DBG] Connection id "0HNGF5O8R0S5N" completed keep alive response.
2025-10-19 19:39:38.283 +03:00 [DBG] 'AppDbContext' disposed.
2025-10-19 19:39:38.293 +03:00 [DBG] Disposing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 19:39:38.300 +03:00 [DBG] Disposed connection to database '' on server '' (6ms).
2025-10-19 19:39:38.310 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7025/api/cities/1?includePointsOfInterest=true - 200 316 application/json; charset=utf-8 4355.2835ms
2025-10-19 19:39:47.098 +03:00 [DBG] Connection id "0HNGF5O8R0S5L" received FIN.
2025-10-19 19:39:47.108 +03:00 [DBG] Connection id "0HNGF5O8R0S5L" is closed. The last processed stream ID was 5.
2025-10-19 19:39:47.111 +03:00 [DBG] Connection id "0HNGF5O8R0S5L" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 19:39:47.111 +03:00 [DBG] The connection queue processing loop for 0HNGF5O8R0S5L completed.
2025-10-19 19:39:47.136 +03:00 [DBG] Connection id "0HNGF5O8R0S5L" stopped.
2025-10-19 20:41:17.097 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-10-19 20:41:17.224 +03:00 [DBG] Hosting starting
2025-10-19 20:41:17.240 +03:00 [DBG] Middleware loaded
2025-10-19 20:41:17.243 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16503 B).
2025-10-19 20:41:17.247 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-10-19 20:41:17.365 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-10-19 20:41:17.465 +03:00 [INF] Now listening on: https://localhost:7025
2025-10-19 20:41:17.466 +03:00 [INF] Now listening on: http://localhost:5105
2025-10-19 20:41:17.467 +03:00 [DBG] Loaded hosting startup assembly CitiesApi
2025-10-19 20:41:17.468 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-10-19 20:41:17.469 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-10-19 20:41:17.470 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-10-19 20:41:17.493 +03:00 [DBG] Connection id "0HNGF6QQI9MTQ" accepted.
2025-10-19 20:41:17.495 +03:00 [DBG] Connection id "0HNGF6QQI9MTQ" started.
2025-10-19 20:41:17.547 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-19 20:41:17.550 +03:00 [INF] Hosting environment: Development
2025-10-19 20:41:17.552 +03:00 [INF] Content root path: D:\Projects\CitiesApi\CitiesApi
2025-10-19 20:41:17.553 +03:00 [DBG] Hosting started
2025-10-19 20:41:17.578 +03:00 [DBG] Connection 0HNGF6QQI9MTQ established using the following protocol: "Tls13"
2025-10-19 20:41:17.659 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/swagger/v1/swagger.json - null null
2025-10-19 20:41:17.664 +03:00 [DBG] Connection id "0HNGF6QQI9MTR" accepted.
2025-10-19 20:41:17.673 +03:00 [DBG] Connection id "0HNGF6QQI9MTR" started.
2025-10-19 20:41:17.681 +03:00 [DBG] Connection 0HNGF6QQI9MTR established using the following protocol: "Tls13"
2025-10-19 20:41:17.685 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-10-19 20:41:17.773 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 120.2099ms
2025-10-19 20:41:17.805 +03:00 [DBG] Connection id "0HNGF6QQI9MTS" received FIN.
2025-10-19 20:41:17.806 +03:00 [DBG] Connection id "0HNGF6QQI9MTT" received FIN.
2025-10-19 20:41:17.809 +03:00 [DBG] Connection id "0HNGF6QQI9MTS" accepted.
2025-10-19 20:41:17.810 +03:00 [DBG] Connection id "0HNGF6QQI9MTT" accepted.
2025-10-19 20:41:17.811 +03:00 [DBG] Connection id "0HNGF6QQI9MTS" started.
2025-10-19 20:41:17.815 +03:00 [DBG] Connection id "0HNGF6QQI9MTT" started.
2025-10-19 20:41:17.826 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-19 20:41:17.826 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-19 20:41:17.906 +03:00 [DBG] Connection id "0HNGF6QQI9MTQ" received FIN.
2025-10-19 20:41:17.905 +03:00 [DBG] Connection id "0HNGF6QQI9MTR" received FIN.
2025-10-19 20:41:17.919 +03:00 [DBG] Connection id "0HNGF6QQI9MTS" stopped.
2025-10-19 20:41:17.919 +03:00 [DBG] Connection id "0HNGF6QQI9MTT" stopped.
2025-10-19 20:41:17.932 +03:00 [DBG] Connection id "0HNGF6QQI9MTR" is closed. The last processed stream ID was 0.
2025-10-19 20:41:17.930 +03:00 [DBG] The connection queue processing loop for 0HNGF6QQI9MTQ completed.
2025-10-19 20:41:17.932 +03:00 [DBG] Connection id "0HNGF6QQI9MTQ" is closed. The last processed stream ID was 1.
2025-10-19 20:41:17.933 +03:00 [DBG] The connection queue processing loop for 0HNGF6QQI9MTR completed.
2025-10-19 20:41:17.940 +03:00 [DBG] Connection id "0HNGF6QQI9MTS" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 20:41:17.940 +03:00 [DBG] Connection id "0HNGF6QQI9MTT" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 20:41:17.941 +03:00 [DBG] Connection id "0HNGF6QQI9MTR" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 20:41:17.943 +03:00 [DBG] Connection id "0HNGF6QQI9MTQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 20:41:17.962 +03:00 [DBG] Connection id "0HNGF6QQI9MTQ" stopped.
2025-10-19 20:41:17.962 +03:00 [DBG] Connection id "0HNGF6QQI9MTR" stopped.
2025-10-19 20:41:18.194 +03:00 [DBG] Connection id "0HNGF6QQI9MTU" accepted.
2025-10-19 20:41:18.196 +03:00 [DBG] Connection id "0HNGF6QQI9MTU" started.
2025-10-19 20:41:18.204 +03:00 [DBG] Connection 0HNGF6QQI9MTU established using the following protocol: "Tls13"
2025-10-19 20:41:18.208 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/swagger/index.html - null null
2025-10-19 20:41:18.387 +03:00 [WRN] Unable to contact VS to retrieve Browser Link script tag.
2025-10-19 20:41:18.468 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-10-19 20:41:18.483 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-10-19 20:41:18.485 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/swagger/index.html - 200 null text/html;charset=utf-8 276.7071ms
2025-10-19 20:41:18.526 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/_framework/aspnetcore-browser-refresh.js - null null
2025-10-19 20:41:18.536 +03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-10-19 20:41:18.539 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/_framework/aspnetcore-browser-refresh.js - 200 16503 application/javascript; charset=utf-8 13.3445ms
2025-10-19 20:41:18.611 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/swagger/v1/swagger.json - null null
2025-10-19 20:41:18.626 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 15.273ms
2025-10-19 20:41:24.911 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/api/cities/{cityid}/pointsofinterest - null null
2025-10-19 20:41:24.916 +03:00 [DBG] The request path  does not match the path filter
2025-10-19 20:41:24.962 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/{cityid}/pointsofinterest'
2025-10-19 20:41:24.967 +03:00 [DBG] Endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointsOfInterest (CitiesApi)' with route pattern 'api/cities/{cityid}/pointsofinterest' is valid for the request path '/api/cities/{cityid}/pointsofinterest'
2025-10-19 20:41:24.974 +03:00 [DBG] Request matched endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointsOfInterest (CitiesApi)'
2025-10-19 20:41:24.981 +03:00 [INF] Executing endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointsOfInterest (CitiesApi)'
2025-10-19 20:41:25.026 +03:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CitiesApi.Models.PointsOfInterestDto]]] GetPointsOfInterest(Int32) on controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi).
2025-10-19 20:41:25.031 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-19 20:41:25.033 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-19 20:41:25.035 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-10-19 20:41:25.038 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-19 20:41:25.039 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-19 20:41:25.043 +03:00 [DBG] Executing controller factory for controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi)
2025-10-19 20:41:25.264 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-10-19 20:41:25.524 +03:00 [DBG] Executed controller factory for controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi)
2025-10-19 20:41:25.539 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2025-10-19 20:41:25.546 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2025-10-19 20:41:25.560 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-10-19 20:41:25.563 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-10-19 20:41:25.566 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2025-10-19 20:41:25.571 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2025-10-19 20:41:25.581 +03:00 [DBG] The request has model state errors, returning an error response.
2025-10-19 20:41:25.587 +03:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2025-10-19 20:41:25.590 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-10-19 20:41:25.602 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2025-10-19 20:41:25.608 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-10-19 20:41:25.615 +03:00 [WRN] No output formatter was found for content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]' to write the response.
2025-10-19 20:41:25.630 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-10-19 20:41:25.636 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2025-10-19 20:41:25.639 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-10-19 20:41:25.646 +03:00 [INF] Executed action CitiesApi.Controllers.PointsOfInterestController.GetPointsOfInterest (CitiesApi) in 601.0003ms
2025-10-19 20:41:25.650 +03:00 [INF] Executed endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointsOfInterest (CitiesApi)'
2025-10-19 20:41:25.653 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/api/cities/{cityid}/pointsofinterest - 406 0 null 742.5883ms
2025-10-19 20:41:27.914 +03:00 [DBG] Connection id "0HNGF6QQI9MTU" received FIN.
2025-10-19 20:41:27.919 +03:00 [DBG] Connection id "0HNGF6QQI9MTU" is closed. The last processed stream ID was 7.
2025-10-19 20:41:27.919 +03:00 [DBG] The connection queue processing loop for 0HNGF6QQI9MTU completed.
2025-10-19 20:41:27.934 +03:00 [DBG] Connection id "0HNGF6QQI9MTU" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 20:41:27.943 +03:00 [DBG] Connection id "0HNGF6QQI9MTU" stopped.
2025-10-19 20:41:31.184 +03:00 [DBG] Connection id "0HNGF6QQI9MTV" accepted.
2025-10-19 20:41:31.188 +03:00 [DBG] Connection id "0HNGF6QQI9MTV" started.
2025-10-19 20:41:31.194 +03:00 [DBG] Connection 0HNGF6QQI9MTV established using the following protocol: "Tls13"
2025-10-19 20:41:31.198 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/api/cities/{cityid}/pointsofinterest - null null
2025-10-19 20:41:31.200 +03:00 [DBG] The request path  does not match the path filter
2025-10-19 20:41:31.203 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/{cityid}/pointsofinterest'
2025-10-19 20:41:31.204 +03:00 [DBG] Endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointsOfInterest (CitiesApi)' with route pattern 'api/cities/{cityid}/pointsofinterest' is valid for the request path '/api/cities/{cityid}/pointsofinterest'
2025-10-19 20:41:31.205 +03:00 [DBG] Request matched endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointsOfInterest (CitiesApi)'
2025-10-19 20:41:31.206 +03:00 [INF] Executing endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointsOfInterest (CitiesApi)'
2025-10-19 20:41:31.208 +03:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CitiesApi.Models.PointsOfInterestDto]]] GetPointsOfInterest(Int32) on controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi).
2025-10-19 20:41:31.211 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-19 20:41:31.212 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-19 20:41:31.213 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-10-19 20:41:31.214 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-19 20:41:31.217 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-19 20:41:31.219 +03:00 [DBG] Executing controller factory for controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi)
2025-10-19 20:41:31.230 +03:00 [DBG] Executed controller factory for controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi)
2025-10-19 20:41:31.233 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2025-10-19 20:41:31.235 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2025-10-19 20:41:31.238 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-10-19 20:41:31.239 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-10-19 20:41:31.240 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2025-10-19 20:41:31.241 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2025-10-19 20:41:31.242 +03:00 [DBG] The request has model state errors, returning an error response.
2025-10-19 20:41:31.244 +03:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2025-10-19 20:41:31.246 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-10-19 20:41:31.248 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2025-10-19 20:41:31.253 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-10-19 20:41:31.254 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-10-19 20:41:31.434 +03:00 [INF] Executed action CitiesApi.Controllers.PointsOfInterestController.GetPointsOfInterest (CitiesApi) in 215.1124ms
2025-10-19 20:41:31.436 +03:00 [INF] Executed endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointsOfInterest (CitiesApi)'
2025-10-19 20:41:31.437 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/api/cities/{cityid}/pointsofinterest - 400 251 application/problem+json; charset=utf-8 239.7615ms
2025-10-19 20:41:37.918 +03:00 [DBG] Connection id "0HNGF6QQI9MTV" received FIN.
2025-10-19 20:41:37.921 +03:00 [DBG] Connection id "0HNGF6QQI9MTV" is closed. The last processed stream ID was 1.
2025-10-19 20:41:37.922 +03:00 [DBG] The connection queue processing loop for 0HNGF6QQI9MTV completed.
2025-10-19 20:41:37.927 +03:00 [DBG] Connection id "0HNGF6QQI9MTV" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 20:41:37.935 +03:00 [DBG] Connection id "0HNGF6QQI9MTV" stopped.
2025-10-19 20:42:05.282 +03:00 [DBG] Connection id "0HNGF6QQI9MU0" received FIN.
2025-10-19 20:42:05.285 +03:00 [DBG] Connection id "0HNGF6QQI9MU0" accepted.
2025-10-19 20:42:05.285 +03:00 [DBG] Connection id "0HNGF6QQI9MU0" started.
2025-10-19 20:42:05.298 +03:00 [DBG] Connection id "0HNGF6QQI9MU1" accepted.
2025-10-19 20:42:05.299 +03:00 [DBG] Connection id "0HNGF6QQI9MU1" started.
2025-10-19 20:42:05.300 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-19 20:42:05.305 +03:00 [DBG] Connection id "0HNGF6QQI9MU0" stopped.
2025-10-19 20:42:05.306 +03:00 [DBG] Connection id "0HNGF6QQI9MU0" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 20:42:05.313 +03:00 [DBG] Connection 0HNGF6QQI9MU1 established using the following protocol: "Tls13"
2025-10-19 20:42:05.326 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7025/api/cities/1/pointsofinterest - null null
2025-10-19 20:42:05.330 +03:00 [DBG] The request path  does not match the path filter
2025-10-19 20:42:05.331 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2025-10-19 20:42:05.332 +03:00 [DBG] Endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointsOfInterest (CitiesApi)' with route pattern 'api/cities/{cityid}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2025-10-19 20:42:05.334 +03:00 [DBG] Request matched endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointsOfInterest (CitiesApi)'
2025-10-19 20:42:05.335 +03:00 [INF] Executing endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointsOfInterest (CitiesApi)'
2025-10-19 20:42:05.339 +03:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CitiesApi.Models.PointsOfInterestDto]]] GetPointsOfInterest(Int32) on controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi).
2025-10-19 20:42:05.343 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-19 20:42:05.348 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-19 20:42:05.353 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-10-19 20:42:05.365 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-19 20:42:05.368 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-19 20:42:05.369 +03:00 [DBG] Executing controller factory for controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi)
2025-10-19 20:42:05.376 +03:00 [DBG] Executed controller factory for controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi)
2025-10-19 20:42:05.378 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2025-10-19 20:42:05.380 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2025-10-19 20:42:05.381 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-10-19 20:42:05.382 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-10-19 20:42:05.384 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2025-10-19 20:42:05.387 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2025-10-19 20:42:06.558 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-10-19 20:42:06.696 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.CityId == __cityId_0)'
2025-10-19 20:42:07.016 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.CityId == @__cityId_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CitiesApi.Data.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-10-19 20:42:07.077 +03:00 [DBG] Creating DbConnection.
2025-10-19 20:42:07.121 +03:00 [DBG] Created DbConnection. (39ms).
2025-10-19 20:42:07.132 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 20:42:07.749 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 20:42:07.757 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-19 20:42:07.766 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2025-10-19 20:42:07.784 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (27ms).
2025-10-19 20:42:07.802 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[CityId] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-19 20:42:08.086 +03:00 [INF] Executed DbCommand (288ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[CityId] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-19 20:42:08.112 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 20:42:08.125 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 28ms reading results.
2025-10-19 20:42:08.132 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 20:42:08.147 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (15ms).
2025-10-19 20:42:08.163 +03:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0)'
2025-10-19 20:42:08.226 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.PointOfInterestId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(500), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.PointOfInterestId, p.CityId, p.Description, p.Name
        FROM PointOfInterests AS p
        WHERE p.CityId == @__cityId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CitiesApi.Data.AppDbContext, 
    False, 
    False, 
    True
)'
2025-10-19 20:42:08.233 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 20:42:08.236 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 20:42:08.238 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-19 20:42:08.239 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-19 20:42:08.241 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-10-19 20:42:08.242 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PointOfInterestId], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointOfInterests] AS [p]
WHERE [p].[CityId] = @__cityId_0
2025-10-19 20:42:08.263 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PointOfInterestId], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointOfInterests] AS [p]
WHERE [p].[CityId] = @__cityId_0
2025-10-19 20:42:08.292 +03:00 [DBG] Context 'AppDbContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-19 20:42:08.319 +03:00 [DBG] Context 'AppDbContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-19 20:42:08.321 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 20:42:08.323 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 56ms reading results.
2025-10-19 20:42:08.324 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 20:42:08.326 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (1ms).
2025-10-19 20:42:08.350 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-10-19 20:42:08.354 +03:00 [DBG] No information found on request to perform content negotiation.
2025-10-19 20:42:08.355 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-10-19 20:42:08.356 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-10-19 20:42:08.359 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-10-19 20:42:08.360 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CitiesApi.Models.PointsOfInterestDto, CitiesApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-19 20:42:08.369 +03:00 [INF] Executed action CitiesApi.Controllers.PointsOfInterestController.GetPointsOfInterest (CitiesApi) in 3000.4184ms
2025-10-19 20:42:08.373 +03:00 [INF] Executed endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointsOfInterest (CitiesApi)'
2025-10-19 20:42:08.375 +03:00 [DBG] Connection id "0HNGF6QQI9MU1" completed keep alive response.
2025-10-19 20:42:08.378 +03:00 [DBG] 'AppDbContext' disposed.
2025-10-19 20:42:08.387 +03:00 [DBG] Disposing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 20:42:08.393 +03:00 [DBG] Disposed connection to database '' on server '' (6ms).
2025-10-19 20:42:08.397 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7025/api/cities/1/pointsofinterest - 200 192 application/json; charset=utf-8 3071.1394ms
2025-10-19 20:43:51.404 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-10-19 20:43:51.567 +03:00 [DBG] Hosting starting
2025-10-19 20:43:51.582 +03:00 [DBG] Middleware loaded
2025-10-19 20:43:51.585 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16503 B).
2025-10-19 20:43:51.589 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-10-19 20:43:51.713 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-10-19 20:43:51.827 +03:00 [INF] Now listening on: https://localhost:7025
2025-10-19 20:43:51.831 +03:00 [INF] Now listening on: http://localhost:5105
2025-10-19 20:43:51.834 +03:00 [DBG] Loaded hosting startup assembly CitiesApi
2025-10-19 20:43:51.838 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-10-19 20:43:51.840 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-10-19 20:43:51.845 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-10-19 20:43:51.898 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-19 20:43:51.901 +03:00 [INF] Hosting environment: Development
2025-10-19 20:43:51.903 +03:00 [INF] Content root path: D:\Projects\CitiesApi\CitiesApi
2025-10-19 20:43:51.905 +03:00 [DBG] Hosting started
2025-10-19 20:43:52.221 +03:00 [DBG] Connection id "0HNGF6S8LSQDJ" accepted.
2025-10-19 20:43:52.222 +03:00 [DBG] Connection id "0HNGF6S8LSQDJ" started.
2025-10-19 20:43:52.239 +03:00 [DBG] Connection id "0HNGF6S8LSQDJ" received FIN.
2025-10-19 20:43:52.250 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-19 20:43:52.283 +03:00 [DBG] Connection id "0HNGF6S8LSQDJ" stopped.
2025-10-19 20:43:52.287 +03:00 [DBG] Connection id "0HNGF6S8LSQDJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 20:43:53.341 +03:00 [DBG] Connection id "0HNGF6S8LSQDK" accepted.
2025-10-19 20:43:53.344 +03:00 [DBG] Connection id "0HNGF6S8LSQDK" started.
2025-10-19 20:43:53.401 +03:00 [DBG] Connection 0HNGF6S8LSQDK established using the following protocol: "Tls13"
2025-10-19 20:43:53.454 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/swagger/index.html - null null
2025-10-19 20:43:53.571 +03:00 [WRN] Unable to contact VS to retrieve Browser Link script tag.
2025-10-19 20:43:53.575 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-10-19 20:43:53.613 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-10-19 20:43:53.624 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-10-19 20:43:53.628 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/swagger/index.html - 200 null text/html;charset=utf-8 178.3917ms
2025-10-19 20:43:53.742 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/_framework/aspnetcore-browser-refresh.js - null null
2025-10-19 20:43:53.755 +03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-10-19 20:43:53.757 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/_framework/aspnetcore-browser-refresh.js - 200 16503 application/javascript; charset=utf-8 15.9978ms
2025-10-19 20:43:53.959 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/swagger/v1/swagger.json - null null
2025-10-19 20:43:53.974 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 15.3274ms
2025-10-19 20:43:58.256 +03:00 [DBG] Connection id "0HNGF6S8LSQDK" received FIN.
2025-10-19 20:43:58.261 +03:00 [DBG] The connection queue processing loop for 0HNGF6S8LSQDK completed.
2025-10-19 20:43:58.263 +03:00 [DBG] Connection id "0HNGF6S8LSQDK" is closed. The last processed stream ID was 5.
2025-10-19 20:43:58.266 +03:00 [DBG] Connection id "0HNGF6S8LSQDK" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 20:43:58.282 +03:00 [DBG] Connection id "0HNGF6S8LSQDK" stopped.
2025-10-19 20:44:03.547 +03:00 [DBG] Connection id "0HNGF6S8LSQDL" accepted.
2025-10-19 20:44:03.549 +03:00 [DBG] Connection id "0HNGF6S8LSQDL" started.
2025-10-19 20:44:03.554 +03:00 [DBG] Connection 0HNGF6S8LSQDL established using the following protocol: "Tls13"
2025-10-19 20:44:03.558 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/api/cities/{cityid}/pointsofinterest - null null
2025-10-19 20:44:03.565 +03:00 [DBG] The request path  does not match the path filter
2025-10-19 20:44:03.594 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/{cityid}/pointsofinterest'
2025-10-19 20:44:03.597 +03:00 [DBG] Endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointsOfInterest (CitiesApi)' with route pattern 'api/cities/{cityid}/pointsofinterest' is valid for the request path '/api/cities/{cityid}/pointsofinterest'
2025-10-19 20:44:03.600 +03:00 [DBG] Request matched endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointsOfInterest (CitiesApi)'
2025-10-19 20:44:03.604 +03:00 [INF] Executing endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointsOfInterest (CitiesApi)'
2025-10-19 20:44:03.635 +03:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CitiesApi.Models.PointsOfInterestDto]]] GetPointsOfInterest(Int32) on controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi).
2025-10-19 20:44:03.640 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-19 20:44:03.642 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-19 20:44:03.645 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-10-19 20:44:03.649 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-19 20:44:03.651 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-19 20:44:03.654 +03:00 [DBG] Executing controller factory for controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi)
2025-10-19 20:44:03.823 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-10-19 20:44:03.946 +03:00 [DBG] Executed controller factory for controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi)
2025-10-19 20:44:03.955 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2025-10-19 20:44:03.960 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2025-10-19 20:44:03.971 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-10-19 20:44:03.972 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-10-19 20:44:03.974 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2025-10-19 20:44:03.978 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2025-10-19 20:44:03.982 +03:00 [DBG] The request has model state errors, returning an error response.
2025-10-19 20:44:03.985 +03:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2025-10-19 20:44:03.990 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-10-19 20:44:04.003 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2025-10-19 20:44:04.010 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-10-19 20:44:04.015 +03:00 [WRN] No output formatter was found for content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]' to write the response.
2025-10-19 20:44:04.023 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-10-19 20:44:04.028 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2025-10-19 20:44:04.038 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-10-19 20:44:04.044 +03:00 [INF] Executed action CitiesApi.Controllers.PointsOfInterestController.GetPointsOfInterest (CitiesApi) in 388.2107ms
2025-10-19 20:44:04.046 +03:00 [INF] Executed endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointsOfInterest (CitiesApi)'
2025-10-19 20:44:04.050 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/api/cities/{cityid}/pointsofinterest - 406 0 null 492.4361ms
2025-10-19 20:44:08.259 +03:00 [DBG] Connection id "0HNGF6S8LSQDL" received FIN.
2025-10-19 20:44:08.264 +03:00 [DBG] Connection id "0HNGF6S8LSQDL" is closed. The last processed stream ID was 1.
2025-10-19 20:44:08.264 +03:00 [DBG] Connection id "0HNGF6S8LSQDL" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 20:44:08.272 +03:00 [DBG] The connection queue processing loop for 0HNGF6S8LSQDL completed.
2025-10-19 20:44:08.275 +03:00 [DBG] Connection id "0HNGF6S8LSQDL" stopped.
2025-10-19 20:44:08.944 +03:00 [DBG] Connection id "0HNGF6S8LSQDM" accepted.
2025-10-19 20:44:08.946 +03:00 [DBG] Connection id "0HNGF6S8LSQDM" started.
2025-10-19 20:44:08.953 +03:00 [DBG] Connection 0HNGF6S8LSQDM established using the following protocol: "Tls13"
2025-10-19 20:44:08.956 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7025/api/cities/{cityid}/pointsofinterest - null null
2025-10-19 20:44:08.965 +03:00 [DBG] The request path  does not match the path filter
2025-10-19 20:44:08.971 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/{cityid}/pointsofinterest'
2025-10-19 20:44:08.976 +03:00 [DBG] Endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointsOfInterest (CitiesApi)' with route pattern 'api/cities/{cityid}/pointsofinterest' is valid for the request path '/api/cities/{cityid}/pointsofinterest'
2025-10-19 20:44:08.979 +03:00 [DBG] Request matched endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointsOfInterest (CitiesApi)'
2025-10-19 20:44:08.981 +03:00 [INF] Executing endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointsOfInterest (CitiesApi)'
2025-10-19 20:44:08.982 +03:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CitiesApi.Models.PointsOfInterestDto]]] GetPointsOfInterest(Int32) on controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi).
2025-10-19 20:44:08.984 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-19 20:44:08.986 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-19 20:44:08.989 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-10-19 20:44:08.992 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-19 20:44:08.995 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-19 20:44:08.998 +03:00 [DBG] Executing controller factory for controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi)
2025-10-19 20:44:09.012 +03:00 [DBG] Executed controller factory for controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi)
2025-10-19 20:44:09.015 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2025-10-19 20:44:09.017 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2025-10-19 20:44:09.020 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-10-19 20:44:09.023 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-10-19 20:44:09.024 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2025-10-19 20:44:09.026 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2025-10-19 20:44:09.027 +03:00 [DBG] The request has model state errors, returning an error response.
2025-10-19 20:44:09.029 +03:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2025-10-19 20:44:09.031 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-10-19 20:44:09.033 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2025-10-19 20:44:09.039 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-10-19 20:44:09.041 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-10-19 20:44:09.153 +03:00 [INF] Executed action CitiesApi.Controllers.PointsOfInterestController.GetPointsOfInterest (CitiesApi) in 155.2515ms
2025-10-19 20:44:09.156 +03:00 [INF] Executed endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointsOfInterest (CitiesApi)'
2025-10-19 20:44:09.157 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7025/api/cities/{cityid}/pointsofinterest - 400 251 application/problem+json; charset=utf-8 202.0533ms
2025-10-19 20:44:18.287 +03:00 [DBG] Connection id "0HNGF6S8LSQDM" received FIN.
2025-10-19 20:44:18.295 +03:00 [DBG] Connection id "0HNGF6S8LSQDM" is closed. The last processed stream ID was 1.
2025-10-19 20:44:18.295 +03:00 [DBG] The connection queue processing loop for 0HNGF6S8LSQDM completed.
2025-10-19 20:44:18.303 +03:00 [DBG] Connection id "0HNGF6S8LSQDM" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 20:44:18.312 +03:00 [DBG] Connection id "0HNGF6S8LSQDM" stopped.
2025-10-19 20:44:31.439 +03:00 [DBG] Connection id "0HNGF6S8LSQDN" accepted.
2025-10-19 20:44:31.441 +03:00 [DBG] Connection id "0HNGF6S8LSQDN" started.
2025-10-19 20:44:31.442 +03:00 [DBG] Connection id "0HNGF6S8LSQDO" accepted.
2025-10-19 20:44:31.442 +03:00 [DBG] Connection id "0HNGF6S8LSQDN" received FIN.
2025-10-19 20:44:31.454 +03:00 [DBG] Connection id "0HNGF6S8LSQDO" started.
2025-10-19 20:44:31.457 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-10-19 20:44:31.460 +03:00 [DBG] Connection id "0HNGF6S8LSQDN" stopped.
2025-10-19 20:44:31.463 +03:00 [DBG] Connection id "0HNGF6S8LSQDN" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 20:44:31.473 +03:00 [DBG] Connection 0HNGF6S8LSQDO established using the following protocol: "Tls13"
2025-10-19 20:44:31.483 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7025/api/cities/1/pointsofinterest - null null
2025-10-19 20:44:31.494 +03:00 [DBG] The request path  does not match the path filter
2025-10-19 20:44:31.496 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2025-10-19 20:44:31.499 +03:00 [DBG] Endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointsOfInterest (CitiesApi)' with route pattern 'api/cities/{cityid}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2025-10-19 20:44:31.501 +03:00 [DBG] Request matched endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointsOfInterest (CitiesApi)'
2025-10-19 20:44:31.502 +03:00 [INF] Executing endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointsOfInterest (CitiesApi)'
2025-10-19 20:44:31.503 +03:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CitiesApi.Models.PointsOfInterestDto]]] GetPointsOfInterest(Int32) on controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi).
2025-10-19 20:44:31.504 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-19 20:44:31.506 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-19 20:44:31.507 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-10-19 20:44:31.509 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-19 20:44:31.510 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-19 20:44:31.512 +03:00 [DBG] Executing controller factory for controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi)
2025-10-19 20:44:31.518 +03:00 [DBG] Executed controller factory for controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi)
2025-10-19 20:44:31.520 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2025-10-19 20:44:31.521 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2025-10-19 20:44:31.523 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-10-19 20:44:31.525 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-10-19 20:44:31.526 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2025-10-19 20:44:31.527 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2025-10-19 20:44:32.631 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-10-19 20:44:32.902 +03:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.CityId == __cityId_0)'
2025-10-19 20:44:33.163 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.CityId == @__cityId_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CitiesApi.Data.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-10-19 20:44:33.230 +03:00 [DBG] Creating DbConnection.
2025-10-19 20:44:33.269 +03:00 [DBG] Created DbConnection. (38ms).
2025-10-19 20:44:33.275 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 20:44:33.824 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 20:44:33.830 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-19 20:44:33.837 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2025-10-19 20:44:33.853 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (22ms).
2025-10-19 20:44:33.881 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[CityId] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-19 20:44:34.161 +03:00 [INF] Executed DbCommand (283ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[CityId] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-19 20:44:34.198 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 20:44:34.212 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 39ms reading results.
2025-10-19 20:44:34.219 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 20:44:34.231 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (11ms).
2025-10-19 20:44:34.244 +03:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0)'
2025-10-19 20:44:34.317 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.PointOfInterestId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(500), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.PointOfInterestId, p.CityId, p.Description, p.Name
        FROM PointOfInterests AS p
        WHERE p.CityId == @__cityId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CitiesApi.Data.AppDbContext, 
    False, 
    False, 
    True
)'
2025-10-19 20:44:34.327 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 20:44:34.330 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 20:44:34.332 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-19 20:44:34.333 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-19 20:44:34.335 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-10-19 20:44:34.337 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PointOfInterestId], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointOfInterests] AS [p]
WHERE [p].[CityId] = @__cityId_0
2025-10-19 20:44:34.365 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PointOfInterestId], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointOfInterests] AS [p]
WHERE [p].[CityId] = @__cityId_0
2025-10-19 20:44:34.396 +03:00 [DBG] Context 'AppDbContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-19 20:44:34.430 +03:00 [DBG] Context 'AppDbContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-19 20:44:34.436 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 20:44:34.439 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 70ms reading results.
2025-10-19 20:44:34.442 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 20:44:34.444 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (2ms).
2025-10-19 20:44:34.468 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-10-19 20:44:34.473 +03:00 [DBG] No information found on request to perform content negotiation.
2025-10-19 20:44:34.474 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-10-19 20:44:34.476 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-10-19 20:44:34.478 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-10-19 20:44:34.479 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CitiesApi.Models.PointsOfInterestDto, CitiesApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-19 20:44:34.489 +03:00 [INF] Executed action CitiesApi.Controllers.PointsOfInterestController.GetPointsOfInterest (CitiesApi) in 2977.0678ms
2025-10-19 20:44:34.502 +03:00 [INF] Executed endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointsOfInterest (CitiesApi)'
2025-10-19 20:44:34.507 +03:00 [DBG] Connection id "0HNGF6S8LSQDO" completed keep alive response.
2025-10-19 20:44:34.512 +03:00 [DBG] 'AppDbContext' disposed.
2025-10-19 20:44:34.530 +03:00 [DBG] Disposing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 20:44:34.535 +03:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-10-19 20:44:34.537 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7025/api/cities/1/pointsofinterest - 200 222 application/json; charset=utf-8 3053.6622ms
2025-10-19 20:44:43.006 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7025/api/cities/2/pointsofinterest - null null
2025-10-19 20:44:43.016 +03:00 [DBG] The request path  does not match the path filter
2025-10-19 20:44:43.026 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2/pointsofinterest'
2025-10-19 20:44:43.035 +03:00 [DBG] Endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointsOfInterest (CitiesApi)' with route pattern 'api/cities/{cityid}/pointsofinterest' is valid for the request path '/api/cities/2/pointsofinterest'
2025-10-19 20:44:43.040 +03:00 [DBG] Request matched endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointsOfInterest (CitiesApi)'
2025-10-19 20:44:43.042 +03:00 [INF] Executing endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointsOfInterest (CitiesApi)'
2025-10-19 20:44:43.044 +03:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CitiesApi.Models.PointsOfInterestDto]]] GetPointsOfInterest(Int32) on controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi).
2025-10-19 20:44:43.047 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-19 20:44:43.050 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-19 20:44:43.053 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-10-19 20:44:43.055 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-19 20:44:43.058 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-19 20:44:43.062 +03:00 [DBG] Executing controller factory for controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi)
2025-10-19 20:44:43.065 +03:00 [DBG] Executed controller factory for controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi)
2025-10-19 20:44:43.069 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2025-10-19 20:44:43.071 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2025-10-19 20:44:43.074 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-10-19 20:44:43.076 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-10-19 20:44:43.078 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2025-10-19 20:44:43.081 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2025-10-19 20:44:43.114 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-10-19 20:44:43.125 +03:00 [DBG] Creating DbConnection.
2025-10-19 20:44:43.127 +03:00 [DBG] Created DbConnection. (2ms).
2025-10-19 20:44:43.130 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 20:44:43.139 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 20:44:43.141 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-19 20:44:43.145 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-10-19 20:44:43.147 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-10-19 20:44:43.149 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[CityId] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-19 20:44:43.173 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[CityId] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-19 20:44:43.181 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 20:44:43.182 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 1ms reading results.
2025-10-19 20:44:43.184 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 20:44:43.186 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (1ms).
2025-10-19 20:44:43.191 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 20:44:43.208 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 20:44:43.221 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-19 20:44:43.236 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (15ms).
2025-10-19 20:44:43.239 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (17ms).
2025-10-19 20:44:43.243 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PointOfInterestId], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointOfInterests] AS [p]
WHERE [p].[CityId] = @__cityId_0
2025-10-19 20:44:43.256 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PointOfInterestId], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointOfInterests] AS [p]
WHERE [p].[CityId] = @__cityId_0
2025-10-19 20:44:43.259 +03:00 [DBG] Context 'AppDbContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-19 20:44:43.261 +03:00 [DBG] Context 'AppDbContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-10-19 20:44:43.262 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 20:44:43.263 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 5ms reading results.
2025-10-19 20:44:43.265 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 20:44:43.267 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (1ms).
2025-10-19 20:44:43.271 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-10-19 20:44:43.274 +03:00 [DBG] No information found on request to perform content negotiation.
2025-10-19 20:44:43.275 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-10-19 20:44:43.276 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-10-19 20:44:43.277 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-10-19 20:44:43.279 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CitiesApi.Models.PointsOfInterestDto, CitiesApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-19 20:44:43.282 +03:00 [INF] Executed action CitiesApi.Controllers.PointsOfInterestController.GetPointsOfInterest (CitiesApi) in 220.3745ms
2025-10-19 20:44:43.285 +03:00 [INF] Executed endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointsOfInterest (CitiesApi)'
2025-10-19 20:44:43.286 +03:00 [DBG] Connection id "0HNGF6S8LSQDO" completed keep alive response.
2025-10-19 20:44:43.287 +03:00 [DBG] 'AppDbContext' disposed.
2025-10-19 20:44:43.289 +03:00 [DBG] Disposing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 20:44:43.290 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-10-19 20:44:43.292 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7025/api/cities/2/pointsofinterest - 200 199 application/json; charset=utf-8 286.1412ms
2025-10-19 20:44:46.289 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7025/api/cities/52/pointsofinterest - null null
2025-10-19 20:44:46.294 +03:00 [DBG] The request path  does not match the path filter
2025-10-19 20:44:46.297 +03:00 [DBG] 1 candidate(s) found for the request path '/api/cities/52/pointsofinterest'
2025-10-19 20:44:46.299 +03:00 [DBG] Endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointsOfInterest (CitiesApi)' with route pattern 'api/cities/{cityid}/pointsofinterest' is valid for the request path '/api/cities/52/pointsofinterest'
2025-10-19 20:44:46.303 +03:00 [DBG] Request matched endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointsOfInterest (CitiesApi)'
2025-10-19 20:44:46.304 +03:00 [INF] Executing endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointsOfInterest (CitiesApi)'
2025-10-19 20:44:46.306 +03:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CitiesApi.Models.PointsOfInterestDto]]] GetPointsOfInterest(Int32) on controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi).
2025-10-19 20:44:46.310 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-10-19 20:44:46.313 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-10-19 20:44:46.316 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-10-19 20:44:46.319 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-10-19 20:44:46.322 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-10-19 20:44:46.325 +03:00 [DBG] Executing controller factory for controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi)
2025-10-19 20:44:46.331 +03:00 [DBG] Executed controller factory for controller CitiesApi.Controllers.PointsOfInterestController (CitiesApi)
2025-10-19 20:44:46.333 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2025-10-19 20:44:46.335 +03:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2025-10-19 20:44:46.337 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-10-19 20:44:46.339 +03:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-10-19 20:44:46.340 +03:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2025-10-19 20:44:46.341 +03:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2025-10-19 20:44:46.429 +03:00 [DBG] Entity Framework Core 8.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2025-10-19 20:44:46.434 +03:00 [DBG] Creating DbConnection.
2025-10-19 20:44:46.435 +03:00 [DBG] Created DbConnection. (1ms).
2025-10-19 20:44:46.436 +03:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 20:44:46.438 +03:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 20:44:46.440 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-10-19 20:44:46.441 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-10-19 20:44:46.443 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-10-19 20:44:46.444 +03:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[CityId] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-19 20:44:46.463 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[CityId] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-19 20:44:46.466 +03:00 [DBG] Closing data reader to 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 20:44:46.468 +03:00 [DBG] A data reader for 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' is being disposed after spending 2ms reading results.
2025-10-19 20:44:46.471 +03:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 20:44:46.472 +03:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01' (1ms).
2025-10-19 20:44:46.475 +03:00 [INF] City with id = 52 does not exsit
2025-10-19 20:44:46.478 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-10-19 20:44:46.481 +03:00 [DBG] No information found on request to perform content negotiation.
2025-10-19 20:44:46.483 +03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-10-19 20:44:46.486 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-10-19 20:44:46.488 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-10-19 20:44:46.494 +03:00 [INF] Executed action CitiesApi.Controllers.PointsOfInterestController.GetPointsOfInterest (CitiesApi) in 169.1533ms
2025-10-19 20:44:46.497 +03:00 [INF] Executed endpoint 'CitiesApi.Controllers.PointsOfInterestController.GetPointsOfInterest (CitiesApi)'
2025-10-19 20:44:46.498 +03:00 [DBG] Connection id "0HNGF6S8LSQDO" completed keep alive response.
2025-10-19 20:44:46.504 +03:00 [DBG] 'AppDbContext' disposed.
2025-10-19 20:44:46.507 +03:00 [DBG] Disposing connection to database 'CitiesApi' on server 'DESKTOP-33BD30S\MSSQLSERVER01'.
2025-10-19 20:44:46.511 +03:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-10-19 20:44:46.520 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7025/api/cities/52/pointsofinterest - 404 162 application/problem+json; charset=utf-8 230.9749ms
2025-10-19 20:44:51.846 +03:00 [DBG] Connection id "0HNGF6S8LSQDO" received FIN.
2025-10-19 20:44:51.849 +03:00 [DBG] Connection id "0HNGF6S8LSQDO" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-10-19 20:44:51.855 +03:00 [DBG] Connection id "0HNGF6S8LSQDO" disconnecting.
2025-10-19 20:44:51.859 +03:00 [DBG] Connection id "0HNGF6S8LSQDO" stopped.
